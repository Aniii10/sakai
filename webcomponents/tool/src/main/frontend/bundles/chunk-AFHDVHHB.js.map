{
  "version": 3,
  "sources": ["../node_modules/@lion/ui/components/calendar/src/utils/isSameDate.js", "../node_modules/@lion/ui/node_modules/@bundled-es-modules/message-format/MessageFormat.js", "../node_modules/@lion/ui/components/localize/src/isLocalizeESModule.js", "../node_modules/@lion/ui/components/localize/src/LocalizeManager.js", "../node_modules/@lion/ui/components/localize/src/getLocalizeManager.js", "../node_modules/@lion/ui/components/localize/src/date/utils/normalizeIntlDate.js", "../node_modules/@lion/ui/components/localize/src/date/utils/forceShortMonthNamesForEnGb.js", "../node_modules/@lion/ui/components/localize/src/date/utils/forceDotsForNlnl.js", "../node_modules/@lion/ui/components/localize/src/date/getMonthNames.js", "../node_modules/@lion/ui/components/localize/src/date/getWeekdayNames.js", "../node_modules/@lion/ui/components/localize/src/date/normalizeDateTime.js", "../node_modules/lit-html/src/async-directive.ts", "../node_modules/lit-html/src/directives/private-async-helpers.ts", "../node_modules/lit-html/src/directives/until.ts", "../node_modules/@lion/ui/components/localize/src/LocalizeMixin.js", "../node_modules/@lion/ui/components/calendar/src/calendarStyle.js", "../node_modules/@lion/ui/components/calendar/src/utils/createDay.js", "../node_modules/@lion/ui/components/calendar/src/utils/createWeek.js", "../node_modules/@lion/ui/components/calendar/src/utils/createMonth.js", "../node_modules/@lion/ui/components/calendar/src/utils/createMultipleMonth.js", "../node_modules/@lion/ui/components/calendar/src/utils/getDayMonthYear.js", "../node_modules/@lion/ui/components/calendar/src/utils/dayTemplate.js", "../node_modules/@lion/ui/components/calendar/src/utils/dataTemplate.js", "../node_modules/@lion/ui/components/calendar/src/utils/getFirstDayNextMonth.js", "../node_modules/@lion/ui/components/calendar/src/utils/getLastDayPreviousMonth.js", "../node_modules/@lion/ui/components/calendar/src/LionCalendar.js", "../node_modules/@sakai-ui/sakai-calendar/src/calendar-styles.js", "../node_modules/@sakai-ui/sakai-site-picker/src/SakaiSitePicker.js", "../node_modules/@sakai-ui/sakai-site-picker/sakai-site-picker.js", "../node_modules/@sakai-ui/sakai-calendar/src/SakaiCalendar.js", "../node_modules/@sakai-ui/sakai-pager/sakai-pager.js", "../node_modules/@sakai-ui/sakai-pageable-element/src/SakaiPageableElement.js", "../node_modules/@sakai-ui/sakai-grades/src/sakai-grades-constants.js", "../node_modules/@sakai-ui/sakai-grades/src/SakaiGrades.js"],
  "sourcesContent": ["/**\n * Compares if two days are the same\n *\n * @param {Date} day1\n * @param {Date} day2\n *\n * @returns {boolean}\n */\nexport function isSameDate(day1, day2) {\n  return (\n    day1 instanceof Date &&\n    day2 instanceof Date &&\n    day1.getDate() === day2.getDate() &&\n    day1.getMonth() === day2.getMonth() &&\n    day1.getFullYear() === day2.getFullYear()\n  );\n}\n", "function createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// @flow\nvar LONG = 'long';\nvar SHORT = 'short';\nvar NARROW = 'narrow';\nvar NUMERIC = 'numeric';\nvar TWODIGIT = '2-digit';\n\n/**\n * formatting information\n **/\nvar formatMessageFormats = {\n  number: {\n    decimal: {\n      style: 'decimal'\n    },\n    integer: {\n      style: 'decimal',\n      maximumFractionDigits: 0\n    },\n    currency: {\n      style: 'currency',\n      currency: 'USD'\n    },\n    percent: {\n      style: 'percent'\n    },\n    default: {\n      style: 'decimal'\n    }\n  },\n  date: {\n    short: {\n      month: NUMERIC,\n      day: NUMERIC,\n      year: TWODIGIT\n    },\n    medium: {\n      month: SHORT,\n      day: NUMERIC,\n      year: NUMERIC\n    },\n    long: {\n      month: LONG,\n      day: NUMERIC,\n      year: NUMERIC\n    },\n    full: {\n      month: LONG,\n      day: NUMERIC,\n      year: NUMERIC,\n      weekday: LONG\n    },\n    default: {\n      month: SHORT,\n      day: NUMERIC,\n      year: NUMERIC\n    }\n  },\n  time: {\n    short: {\n      hour: NUMERIC,\n      minute: NUMERIC\n    },\n    medium: {\n      hour: NUMERIC,\n      minute: NUMERIC,\n      second: NUMERIC\n    },\n    long: {\n      hour: NUMERIC,\n      minute: NUMERIC,\n      second: NUMERIC,\n      timeZoneName: SHORT\n    },\n    full: {\n      hour: NUMERIC,\n      minute: NUMERIC,\n      second: NUMERIC,\n      timeZoneName: SHORT\n    },\n    default: {\n      hour: NUMERIC,\n      minute: NUMERIC,\n      second: NUMERIC\n    }\n  },\n  duration: {\n    default: {\n      hours: {\n        minimumIntegerDigits: 1,\n        maximumFractionDigits: 0\n      },\n      minutes: {\n        minimumIntegerDigits: 2,\n        maximumFractionDigits: 0\n      },\n      seconds: {\n        minimumIntegerDigits: 2,\n        maximumFractionDigits: 3\n      }\n    }\n  },\n  parseNumberPattern: function (pattern/*: ?string */) {\n    if (!pattern) return\n    var options = {};\n    var currency = pattern.match(/\\b[A-Z]{3}\\b/i);\n    var syms = pattern.replace(/[^\u00A4]/g, '').length;\n    if (!syms && currency) syms = 1;\n    if (syms) {\n      options.style = 'currency';\n      options.currencyDisplay = syms === 1 ? 'symbol' : syms === 2 ? 'code' : 'name';\n      options.currency = currency ? currency[0].toUpperCase() : 'USD';\n    } else if (pattern.indexOf('%') >= 0) {\n      options.style = 'percent';\n    }\n    if (!/[@#0]/.test(pattern)) return options.style ? options : undefined\n    options.useGrouping = pattern.indexOf(',') >= 0;\n    if (/E\\+?[@#0]+/i.test(pattern) || pattern.indexOf('@') >= 0) {\n      var size = pattern.replace(/E\\+?[@#0]+|[^@#0]/gi, '');\n      options.minimumSignificantDigits = Math.min(Math.max(size.replace(/[^@0]/g, '').length, 1), 21);\n      options.maximumSignificantDigits = Math.min(Math.max(size.length, 1), 21);\n    } else {\n      var parts = pattern.replace(/[^#0.]/g, '').split('.');\n      var integer = parts[0];\n      var n = integer.length - 1;\n      while (integer[n] === '0') --n;\n      options.minimumIntegerDigits = Math.min(Math.max(integer.length - 1 - n, 1), 21);\n      var fraction = parts[1] || '';\n      n = 0;\n      while (fraction[n] === '0') ++n;\n      options.minimumFractionDigits = Math.min(Math.max(n, 0), 20);\n      while (fraction[n] === '#') ++n;\n      options.maximumFractionDigits = Math.min(Math.max(n, 0), 20);\n    }\n    return options\n  },\n  parseDatePattern: function (pattern/*: ?string */) {\n    if (!pattern) return\n    var options = {};\n    for (var i = 0; i < pattern.length;) {\n      var current = pattern[i];\n      var n = 1;\n      while (pattern[++i] === current) ++n;\n      switch (current) {\n        case 'G':\n          options.era = n === 5 ? NARROW : n === 4 ? LONG : SHORT;\n          break\n        case 'y':\n        case 'Y':\n          options.year = n === 2 ? TWODIGIT : NUMERIC;\n          break\n        case 'M':\n        case 'L':\n          n = Math.min(Math.max(n - 1, 0), 4);\n          options.month = [NUMERIC, TWODIGIT, SHORT, LONG, NARROW][n];\n          break\n        case 'E':\n        case 'e':\n        case 'c':\n          options.weekday = n === 5 ? NARROW : n === 4 ? LONG : SHORT;\n          break\n        case 'd':\n        case 'D':\n          options.day = n === 2 ? TWODIGIT : NUMERIC;\n          break\n        case 'h':\n        case 'K':\n          options.hour12 = true;\n          options.hour = n === 2 ? TWODIGIT : NUMERIC;\n          break\n        case 'H':\n        case 'k':\n          options.hour12 = false;\n          options.hour = n === 2 ? TWODIGIT : NUMERIC;\n          break\n        case 'm':\n          options.minute = n === 2 ? TWODIGIT : NUMERIC;\n          break\n        case 's':\n        case 'S':\n          options.second = n === 2 ? TWODIGIT : NUMERIC;\n          break\n        case 'z':\n        case 'Z':\n        case 'v':\n        case 'V':\n          options.timeZoneName = n === 1 ? SHORT : LONG;\n          break\n      }\n    }\n    return Object.keys(options).length ? options : undefined\n  }\n};\n\n// @flow\n// \"lookup\" algorithm http://tools.ietf.org/html/rfc4647#section-3.4\n// assumes normalized language tags, and matches in a case sensitive manner\nvar lookupClosestLocale = function lookupClosestLocale (locale/*: string | string[] | void */, available/*: { [string]: any } */)/*: ?string */ {\n  if (typeof locale === 'string' && available[locale]) return locale\n  var locales = [].concat(locale || []);\n  for (var l = 0, ll = locales.length; l < ll; ++l) {\n    var current = locales[l].split('-');\n    while (current.length) {\n      var candidate = current.join('-');\n      if (available[candidate]) return candidate\n      current.pop();\n    }\n  }\n};\n\n// @flow\n\n/*:: export type Rule = 'zero' | 'one' | 'two' | 'few' | 'many' | 'other' */\nvar zero = 'zero', one = 'one', two = 'two', few = 'few', many = 'many', other = 'other';\nvar f = [\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return 0 <= n && n <= 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var n = +s;\n    return i === 0 || n === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 0 ? zero\n      : n === 1 ? one\n      : n === 2 ? two\n      : 3 <= n % 100 && n % 100 <= 10 ? few\n      : 11 <= n % 100 && n % 100 <= 99 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    return i === 1 && v === 0 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n % 10 === 1 && n % 100 !== 11 ? one\n      : (2 <= n % 10 && n % 10 <= 4) && (n % 100 < 12 || 14 < n % 100) ? few\n      : n % 10 === 0 || (5 <= n % 10 && n % 10 <= 9) || (11 <= n % 100 && n % 100 <= 14) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n % 10 === 1 && (n % 100 !== 11 && n % 100 !== 71 && n % 100 !== 91) ? one\n      : n % 10 === 2 && (n % 100 !== 12 && n % 100 !== 72 && n % 100 !== 92) ? two\n      : ((3 <= n % 10 && n % 10 <= 4) || n % 10 === 9) && ((n % 100 < 10 || 19 < n % 100) && (n % 100 < 70 || 79 < n % 100) && (n % 100 < 90 || 99 < n % 100)) ? few\n      : n !== 0 && n % 1000000 === 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    var f = +(s + '.').split('.')[1];\n    return v === 0 && i % 10 === 1 && i % 100 !== 11 || f % 10 === 1 && f % 100 !== 11 ? one\n      : v === 0 && (2 <= i % 10 && i % 10 <= 4) && (i % 100 < 12 || 14 < i % 100) || (2 <= f % 10 && f % 10 <= 4) && (f % 100 < 12 || 14 < f % 100) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    return i === 1 && v === 0 ? one\n      : (2 <= i && i <= 4) && v === 0 ? few\n      : v !== 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 0 ? zero\n      : n === 1 ? one\n      : n === 2 ? two\n      : n === 3 ? few\n      : n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var t = +('' + s).replace(/^[^.]*.?|0+$/g, '');\n    var n = +s;\n    return n === 1 || t !== 0 && (i === 0 || i === 1) ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    var f = +(s + '.').split('.')[1];\n    return v === 0 && i % 100 === 1 || f % 100 === 1 ? one\n      : v === 0 && i % 100 === 2 || f % 100 === 2 ? two\n      : v === 0 && (3 <= i % 100 && i % 100 <= 4) || (3 <= f % 100 && f % 100 <= 4) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    return i === 0 || i === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    var f = +(s + '.').split('.')[1];\n    return v === 0 && (i === 1 || i === 2 || i === 3) || v === 0 && (i % 10 !== 4 && i % 10 !== 6 && i % 10 !== 9) || v !== 0 && (f % 10 !== 4 && f % 10 !== 6 && f % 10 !== 9) ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 ? one\n      : n === 2 ? two\n      : 3 <= n && n <= 6 ? few\n      : 7 <= n && n <= 10 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 || n === 11 ? one\n      : n === 2 || n === 12 ? two\n      : ((3 <= n && n <= 10) || (13 <= n && n <= 19)) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    return v === 0 && i % 10 === 1 ? one\n      : v === 0 && i % 10 === 2 ? two\n      : v === 0 && (i % 100 === 0 || i % 100 === 20 || i % 100 === 40 || i % 100 === 60 || i % 100 === 80) ? few\n      : v !== 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    var n = +s;\n    return i === 1 && v === 0 ? one\n      : i === 2 && v === 0 ? two\n      : v === 0 && (n < 0 || 10 < n) && n % 10 === 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var t = +('' + s).replace(/^[^.]*.?|0+$/g, '');\n    return t === 0 && i % 10 === 1 && i % 100 !== 11 || t !== 0 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 ? one\n      : n === 2 ? two\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 0 ? zero\n      : n === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var n = +s;\n    return n === 0 ? zero\n      : (i === 0 || i === 1) && n !== 0 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var f = +(s + '.').split('.')[1];\n    var n = +s;\n    return n % 10 === 1 && (n % 100 < 11 || 19 < n % 100) ? one\n      : (2 <= n % 10 && n % 10 <= 9) && (n % 100 < 11 || 19 < n % 100) ? few\n      : f !== 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var v = (s + '.').split('.')[1].length;\n    var f = +(s + '.').split('.')[1];\n    var n = +s;\n    return n % 10 === 0 || (11 <= n % 100 && n % 100 <= 19) || v === 2 && (11 <= f % 100 && f % 100 <= 19) ? zero\n      : n % 10 === 1 && n % 100 !== 11 || v === 2 && f % 10 === 1 && f % 100 !== 11 || v !== 2 && f % 10 === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    var f = +(s + '.').split('.')[1];\n    return v === 0 && i % 10 === 1 && i % 100 !== 11 || f % 10 === 1 && f % 100 !== 11 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    var n = +s;\n    return i === 1 && v === 0 ? one\n      : v !== 0 || n === 0 || n !== 1 && (1 <= n % 100 && n % 100 <= 19) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 ? one\n      : n === 0 || (2 <= n % 100 && n % 100 <= 10) ? few\n      : 11 <= n % 100 && n % 100 <= 19 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    return i === 1 && v === 0 ? one\n      : v === 0 && (2 <= i % 10 && i % 10 <= 4) && (i % 100 < 12 || 14 < i % 100) ? few\n      : v === 0 && i !== 1 && (0 <= i % 10 && i % 10 <= 1) || v === 0 && (5 <= i % 10 && i % 10 <= 9) || v === 0 && (12 <= i % 100 && i % 100 <= 14) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    return 0 <= i && i <= 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    return v === 0 && i % 10 === 1 && i % 100 !== 11 ? one\n      : v === 0 && (2 <= i % 10 && i % 10 <= 4) && (i % 100 < 12 || 14 < i % 100) ? few\n      : v === 0 && i % 10 === 0 || v === 0 && (5 <= i % 10 && i % 10 <= 9) || v === 0 && (11 <= i % 100 && i % 100 <= 14) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var n = +s;\n    return i === 0 || n === 1 ? one\n      : 2 <= n && n <= 10 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var f = +(s + '.').split('.')[1];\n    var n = +s;\n    return (n === 0 || n === 1) || i === 0 && f === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    return v === 0 && i % 100 === 1 ? one\n      : v === 0 && i % 100 === 2 ? two\n      : v === 0 && (3 <= i % 100 && i % 100 <= 4) || v !== 0 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return (0 <= n && n <= 1) || (11 <= n && n <= 99) ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 || n === 5 || n === 7 || n === 8 || n === 9 || n === 10 ? one\n      : n === 2 || n === 3 ? two\n      : n === 4 ? few\n      : n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    return (i % 10 === 1 || i % 10 === 2 || i % 10 === 5 || i % 10 === 7 || i % 10 === 8) || (i % 100 === 20 || i % 100 === 50 || i % 100 === 70 || i % 100 === 80) ? one\n      : (i % 10 === 3 || i % 10 === 4) || (i % 1000 === 100 || i % 1000 === 200 || i % 1000 === 300 || i % 1000 === 400 || i % 1000 === 500 || i % 1000 === 600 || i % 1000 === 700 || i % 1000 === 800 || i % 1000 === 900) ? few\n      : i === 0 || i % 10 === 6 || (i % 100 === 40 || i % 100 === 60 || i % 100 === 90) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return (n % 10 === 2 || n % 10 === 3) && (n % 100 !== 12 && n % 100 !== 13) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 || n === 3 ? one\n      : n === 2 ? two\n      : n === 4 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 0 || n === 7 || n === 8 || n === 9 ? zero\n      : n === 1 ? one\n      : n === 2 ? two\n      : n === 3 || n === 4 ? few\n      : n === 5 || n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n % 10 === 1 && n % 100 !== 11 ? one\n      : n % 10 === 2 && n % 100 !== 12 ? two\n      : n % 10 === 3 && n % 100 !== 13 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 || n === 11 ? one\n      : n === 2 || n === 12 ? two\n      : n === 3 || n === 13 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 ? one\n      : n === 2 || n === 3 ? two\n      : n === 4 ? few\n      : n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 || n === 5 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 11 || n === 8 || n === 80 || n === 800 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    return i === 1 ? one\n      : i === 0 || ((2 <= i % 100 && i % 100 <= 20) || i % 100 === 40 || i % 100 === 60 || i % 100 === 80) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n % 10 === 6 || n % 10 === 9 || n % 10 === 0 && n !== 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    return i % 10 === 1 && i % 100 !== 11 ? one\n      : i % 10 === 2 && i % 100 !== 12 ? two\n      : (i % 10 === 7 || i % 10 === 8) && (i % 100 !== 17 && i % 100 !== 18) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 ? one\n      : n === 2 || n === 3 ? two\n      : n === 4 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return 1 <= n && n <= 4 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return (n === 1 || n === 5 || (7 <= n && n <= 9)) ? one\n      : n === 2 || n === 3 ? two\n      : n === 4 ? few\n      : n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 ? one\n      : n % 10 === 4 && n % 100 !== 14 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return (n % 10 === 1 || n % 10 === 2) && (n % 100 !== 11 && n % 100 !== 12) ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return (n % 10 === 6 || n % 10 === 9) || n === 10 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n % 10 === 3 && n % 100 !== 13 ? few\n      : other\n  }\n];\n\nvar plurals = {\n  af: { cardinal: f[0] },\n  ak: { cardinal: f[1] },\n  am: { cardinal: f[2] },\n  ar: { cardinal: f[3] },\n  ars: { cardinal: f[3] },\n  as: { cardinal: f[2], ordinal: f[34] },\n  asa: { cardinal: f[0] },\n  ast: { cardinal: f[4] },\n  az: { cardinal: f[0], ordinal: f[35] },\n  be: { cardinal: f[5], ordinal: f[36] },\n  bem: { cardinal: f[0] },\n  bez: { cardinal: f[0] },\n  bg: { cardinal: f[0] },\n  bh: { cardinal: f[1] },\n  bn: { cardinal: f[2], ordinal: f[34] },\n  br: { cardinal: f[6] },\n  brx: { cardinal: f[0] },\n  bs: { cardinal: f[7] },\n  ca: { cardinal: f[4], ordinal: f[37] },\n  ce: { cardinal: f[0] },\n  cgg: { cardinal: f[0] },\n  chr: { cardinal: f[0] },\n  ckb: { cardinal: f[0] },\n  cs: { cardinal: f[8] },\n  cy: { cardinal: f[9], ordinal: f[38] },\n  da: { cardinal: f[10] },\n  de: { cardinal: f[4] },\n  dsb: { cardinal: f[11] },\n  dv: { cardinal: f[0] },\n  ee: { cardinal: f[0] },\n  el: { cardinal: f[0] },\n  en: { cardinal: f[4], ordinal: f[39] },\n  eo: { cardinal: f[0] },\n  es: { cardinal: f[0] },\n  et: { cardinal: f[4] },\n  eu: { cardinal: f[0] },\n  fa: { cardinal: f[2] },\n  ff: { cardinal: f[12] },\n  fi: { cardinal: f[4] },\n  fil: { cardinal: f[13], ordinal: f[0] },\n  fo: { cardinal: f[0] },\n  fr: { cardinal: f[12], ordinal: f[0] },\n  fur: { cardinal: f[0] },\n  fy: { cardinal: f[4] },\n  ga: { cardinal: f[14], ordinal: f[0] },\n  gd: { cardinal: f[15], ordinal: f[40] },\n  gl: { cardinal: f[4] },\n  gsw: { cardinal: f[0] },\n  gu: { cardinal: f[2], ordinal: f[41] },\n  guw: { cardinal: f[1] },\n  gv: { cardinal: f[16] },\n  ha: { cardinal: f[0] },\n  haw: { cardinal: f[0] },\n  he: { cardinal: f[17] },\n  hi: { cardinal: f[2], ordinal: f[41] },\n  hr: { cardinal: f[7] },\n  hsb: { cardinal: f[11] },\n  hu: { cardinal: f[0], ordinal: f[42] },\n  hy: { cardinal: f[12], ordinal: f[0] },\n  ia: { cardinal: f[4] },\n  io: { cardinal: f[4] },\n  is: { cardinal: f[18] },\n  it: { cardinal: f[4], ordinal: f[43] },\n  iu: { cardinal: f[19] },\n  iw: { cardinal: f[17] },\n  jgo: { cardinal: f[0] },\n  ji: { cardinal: f[4] },\n  jmc: { cardinal: f[0] },\n  ka: { cardinal: f[0], ordinal: f[44] },\n  kab: { cardinal: f[12] },\n  kaj: { cardinal: f[0] },\n  kcg: { cardinal: f[0] },\n  kk: { cardinal: f[0], ordinal: f[45] },\n  kkj: { cardinal: f[0] },\n  kl: { cardinal: f[0] },\n  kn: { cardinal: f[2] },\n  ks: { cardinal: f[0] },\n  ksb: { cardinal: f[0] },\n  ksh: { cardinal: f[20] },\n  ku: { cardinal: f[0] },\n  kw: { cardinal: f[19] },\n  ky: { cardinal: f[0] },\n  lag: { cardinal: f[21] },\n  lb: { cardinal: f[0] },\n  lg: { cardinal: f[0] },\n  ln: { cardinal: f[1] },\n  lt: { cardinal: f[22] },\n  lv: { cardinal: f[23] },\n  mas: { cardinal: f[0] },\n  mg: { cardinal: f[1] },\n  mgo: { cardinal: f[0] },\n  mk: { cardinal: f[24], ordinal: f[46] },\n  ml: { cardinal: f[0] },\n  mn: { cardinal: f[0] },\n  mo: { cardinal: f[25], ordinal: f[0] },\n  mr: { cardinal: f[2], ordinal: f[47] },\n  mt: { cardinal: f[26] },\n  nah: { cardinal: f[0] },\n  naq: { cardinal: f[19] },\n  nb: { cardinal: f[0] },\n  nd: { cardinal: f[0] },\n  ne: { cardinal: f[0], ordinal: f[48] },\n  nl: { cardinal: f[4] },\n  nn: { cardinal: f[0] },\n  nnh: { cardinal: f[0] },\n  no: { cardinal: f[0] },\n  nr: { cardinal: f[0] },\n  nso: { cardinal: f[1] },\n  ny: { cardinal: f[0] },\n  nyn: { cardinal: f[0] },\n  om: { cardinal: f[0] },\n  or: { cardinal: f[0], ordinal: f[49] },\n  os: { cardinal: f[0] },\n  pa: { cardinal: f[1] },\n  pap: { cardinal: f[0] },\n  pl: { cardinal: f[27] },\n  prg: { cardinal: f[23] },\n  ps: { cardinal: f[0] },\n  pt: { cardinal: f[28] },\n  'pt-PT': { cardinal: f[4] },\n  rm: { cardinal: f[0] },\n  ro: { cardinal: f[25], ordinal: f[0] },\n  rof: { cardinal: f[0] },\n  ru: { cardinal: f[29] },\n  rwk: { cardinal: f[0] },\n  saq: { cardinal: f[0] },\n  sc: { cardinal: f[4], ordinal: f[43] },\n  scn: { cardinal: f[4], ordinal: f[43] },\n  sd: { cardinal: f[0] },\n  sdh: { cardinal: f[0] },\n  se: { cardinal: f[19] },\n  seh: { cardinal: f[0] },\n  sh: { cardinal: f[7] },\n  shi: { cardinal: f[30] },\n  si: { cardinal: f[31] },\n  sk: { cardinal: f[8] },\n  sl: { cardinal: f[32] },\n  sma: { cardinal: f[19] },\n  smi: { cardinal: f[19] },\n  smj: { cardinal: f[19] },\n  smn: { cardinal: f[19] },\n  sms: { cardinal: f[19] },\n  sn: { cardinal: f[0] },\n  so: { cardinal: f[0] },\n  sq: { cardinal: f[0], ordinal: f[50] },\n  sr: { cardinal: f[7] },\n  ss: { cardinal: f[0] },\n  ssy: { cardinal: f[0] },\n  st: { cardinal: f[0] },\n  sv: { cardinal: f[4], ordinal: f[51] },\n  sw: { cardinal: f[4] },\n  syr: { cardinal: f[0] },\n  ta: { cardinal: f[0] },\n  te: { cardinal: f[0] },\n  teo: { cardinal: f[0] },\n  ti: { cardinal: f[1] },\n  tig: { cardinal: f[0] },\n  tk: { cardinal: f[0], ordinal: f[52] },\n  tl: { cardinal: f[13], ordinal: f[0] },\n  tn: { cardinal: f[0] },\n  tr: { cardinal: f[0] },\n  ts: { cardinal: f[0] },\n  tzm: { cardinal: f[33] },\n  ug: { cardinal: f[0] },\n  uk: { cardinal: f[29], ordinal: f[53] },\n  ur: { cardinal: f[4] },\n  uz: { cardinal: f[0] },\n  ve: { cardinal: f[0] },\n  vo: { cardinal: f[0] },\n  vun: { cardinal: f[0] },\n  wa: { cardinal: f[1] },\n  wae: { cardinal: f[0] },\n  xh: { cardinal: f[0] },\n  xog: { cardinal: f[0] },\n  yi: { cardinal: f[4] },\n  zu: { cardinal: f[2] },\n  lo: { ordinal: f[0] },\n  ms: { ordinal: f[0] },\n  vi: { ordinal: f[0] }\n};\n\nvar formatMessageInterpret = createCommonjsModule(function (module, exports) {\n\n\n\n\n/*::\nimport type {\n  AST,\n  SubMessages\n} from '../format-message-parse'\ntype Locale = string\ntype Locales = Locale | Locale[]\ntype Placeholder = any[] // https://github.com/facebook/flow/issues/4050\nexport type Type = (Placeholder, Locales) => (any, ?Object) => any\nexport type Types = { [string]: Type }\n*/\n\nexports = module.exports = function interpret (\n  ast/*: AST */,\n  locale/*:: ?: Locales */,\n  types/*:: ?: Types */\n)/*: (args?: Object) => string */ {\n  return interpretAST(ast, null, locale || 'en', types || {}, true)\n};\n\nexports.toParts = function toParts (\n  ast/*: AST */,\n  locale/*:: ?: Locales */,\n  types/*:: ?: Types */\n)/*: (args?: Object) => any[] */ {\n  return interpretAST(ast, null, locale || 'en', types || {}, false)\n};\n\nfunction interpretAST (\n  elements/*: any[] */,\n  parent/*: ?Placeholder */,\n  locale/*: Locales */,\n  types/*: Types */,\n  join/*: boolean */\n)/*: Function */ {\n  var parts = elements.map(function (element) {\n    return interpretElement(element, parent, locale, types, join)\n  });\n\n  if (!join) {\n    return function format (args) {\n      return parts.reduce(function (parts, part) {\n        return parts.concat(part(args))\n      }, [])\n    }\n  }\n\n  if (parts.length === 1) return parts[0]\n  return function format (args) {\n    var message = '';\n    for (var e = 0; e < parts.length; ++e) {\n      message += parts[e](args);\n    }\n    return message\n  }\n}\n\nfunction interpretElement (\n  element/*: Placeholder */,\n  parent/*: ?Placeholder */,\n  locale/*: Locales */,\n  types/*: Types */,\n  join/*: boolean */\n)/*: Function */ {\n  if (typeof element === 'string') {\n    var value/*: string */ = element;\n    return function format () { return value }\n  }\n\n  var id = element[0];\n  var type = element[1];\n\n  if (parent && element[0] === '#') {\n    id = parent[0];\n    var offset = parent[2];\n    var formatter = (types.number || defaults.number)([id, 'number'], locale);\n    return function format (args) {\n      return formatter(getArg(id, args) - offset, args)\n    }\n  }\n\n  // pre-process children\n  var children;\n  if (type === 'plural' || type === 'selectordinal') {\n    children = {};\n    Object.keys(element[3]).forEach(function (key) {\n      children[key] = interpretAST(element[3][key], element, locale, types, join);\n    });\n    element = [element[0], element[1], element[2], children];\n  } else if (element[2] && typeof element[2] === 'object') {\n    children = {};\n    Object.keys(element[2]).forEach(function (key) {\n      children[key] = interpretAST(element[2][key], element, locale, types, join);\n    });\n    element = [element[0], element[1], children];\n  }\n\n  var getFrmt = type && (types[type] || defaults[type]);\n  if (getFrmt) {\n    var frmt = getFrmt(element, locale);\n    return function format (args) {\n      return frmt(getArg(id, args), args)\n    }\n  }\n\n  return join\n    ? function format (args) { return String(getArg(id, args)) }\n    : function format (args) { return getArg(id, args) }\n}\n\nfunction getArg (id/*: string */, args/*: ?Object */)/*: any */ {\n  if (args && (id in args)) return args[id]\n  var parts = id.split('.');\n  var a = args;\n  for (var i = 0, ii = parts.length; a && i < ii; ++i) {\n    a = a[parts[i]];\n  }\n  return a\n}\n\nfunction interpretNumber (element/*: Placeholder */, locales/*: Locales */) {\n  var style = element[2];\n  var options = formatMessageFormats.number[style] || formatMessageFormats.parseNumberPattern(style) || formatMessageFormats.number.default;\n  return new Intl.NumberFormat(locales, options).format\n}\n\nfunction interpretDuration (element/*: Placeholder */, locales/*: Locales */) {\n  var style = element[2];\n  var options = formatMessageFormats.duration[style] || formatMessageFormats.duration.default;\n  var fs = new Intl.NumberFormat(locales, options.seconds).format;\n  var fm = new Intl.NumberFormat(locales, options.minutes).format;\n  var fh = new Intl.NumberFormat(locales, options.hours).format;\n  var sep = /^fi$|^fi-|^da/.test(String(locales)) ? '.' : ':';\n\n  return function (s, args) {\n    s = +s;\n    if (!isFinite(s)) return fs(s)\n    var h = ~~(s / 60 / 60); // ~~ acts much like Math.trunc\n    var m = ~~(s / 60 % 60);\n    var dur = (h ? (fh(Math.abs(h)) + sep) : '') +\n      fm(Math.abs(m)) + sep + fs(Math.abs(s % 60));\n    return s < 0 ? fh(-1).replace(fh(1), dur) : dur\n  }\n}\n\nfunction interpretDateTime (element/*: Placeholder */, locales/*: Locales */) {\n  var type = element[1];\n  var style = element[2];\n  var options = formatMessageFormats[type][style] || formatMessageFormats.parseDatePattern(style) || formatMessageFormats[type].default;\n  return new Intl.DateTimeFormat(locales, options).format\n}\n\nfunction interpretPlural (element/*: Placeholder */, locales/*: Locales */) {\n  var type = element[1];\n  var pluralType = type === 'selectordinal' ? 'ordinal' : 'cardinal';\n  var offset = element[2];\n  var children = element[3];\n  var pluralRules;\n  if (Intl.PluralRules && Intl.PluralRules.supportedLocalesOf(locales).length > 0) {\n    pluralRules = new Intl.PluralRules(locales, { type: pluralType });\n  } else {\n    var locale = lookupClosestLocale(locales, plurals);\n    var select = (locale && plurals[locale][pluralType]) || returnOther;\n    pluralRules = { select: select };\n  }\n\n  return function (value, args) {\n    var clause =\n      children['=' + +value] ||\n      children[pluralRules.select(value - offset)] ||\n      children.other;\n    return clause(args)\n  }\n}\n\nfunction returnOther (/*:: n:number */) { return 'other' }\n\nfunction interpretSelect (element/*: Placeholder */, locales/*: Locales */) {\n  var children = element[2];\n  return function (value, args) {\n    var clause = children[value] || children.other;\n    return clause(args)\n  }\n}\n\nvar defaults/*: Types */ = {\n  number: interpretNumber,\n  ordinal: interpretNumber, // TODO: support rbnf\n  spellout: interpretNumber, // TODO: support rbnf\n  duration: interpretDuration,\n  date: interpretDateTime,\n  time: interpretDateTime,\n  plural: interpretPlural,\n  selectordinal: interpretPlural,\n  select: interpretSelect\n};\nexports.types = defaults;\n});\nvar formatMessageInterpret_1 = formatMessageInterpret.toParts;\nvar formatMessageInterpret_2 = formatMessageInterpret.types;\n\nvar formatMessageParse = createCommonjsModule(function (module, exports) {\n\n/*::\nexport type AST = Element[]\nexport type Element = string | Placeholder\nexport type Placeholder = Plural | Styled | Typed | Simple\nexport type Plural = [ string, 'plural' | 'selectordinal', number, SubMessages ]\nexport type Styled = [ string, string, string | SubMessages ]\nexport type Typed = [ string, string ]\nexport type Simple = [ string ]\nexport type SubMessages = { [string]: AST }\nexport type Token = [ TokenType, string ]\nexport type TokenType = 'text' | 'space' | 'id' | 'type' | 'style' | 'offset' | 'number' | 'selector' | 'syntax'\ntype Context = {|\n  pattern: string,\n  index: number,\n  tagsType: ?string,\n  tokens: ?Token[]\n|}\n*/\n\nvar ARG_OPN = '{';\nvar ARG_CLS = '}';\nvar ARG_SEP = ',';\nvar NUM_ARG = '#';\nvar TAG_OPN = '<';\nvar TAG_CLS = '>';\nvar TAG_END = '</';\nvar TAG_SELF_CLS = '/>';\nvar ESC = '\\'';\nvar OFFSET = 'offset:';\nvar simpleTypes = [\n  'number',\n  'date',\n  'time',\n  'ordinal',\n  'duration',\n  'spellout'\n];\nvar submTypes = [\n  'plural',\n  'select',\n  'selectordinal'\n];\n\n/**\n * parse\n *\n * Turns this:\n *  `You have { numBananas, plural,\n *       =0 {no bananas}\n *      one {a banana}\n *    other {# bananas}\n *  } for sale`\n *\n * into this:\n *  [ \"You have \", [ \"numBananas\", \"plural\", 0, {\n *       \"=0\": [ \"no bananas\" ],\n *      \"one\": [ \"a banana\" ],\n *    \"other\": [ [ '#' ], \" bananas\" ]\n *  } ], \" for sale.\" ]\n *\n * tokens:\n *  [\n *    [ \"text\", \"You have \" ],\n *    [ \"syntax\", \"{\" ],\n *    [ \"space\", \" \" ],\n *    [ \"id\", \"numBananas\" ],\n *    [ \"syntax\", \", \" ],\n *    [ \"space\", \" \" ],\n *    [ \"type\", \"plural\" ],\n *    [ \"syntax\", \",\" ],\n *    [ \"space\", \"\\n     \" ],\n *    [ \"selector\", \"=0\" ],\n *    [ \"space\", \" \" ],\n *    [ \"syntax\", \"{\" ],\n *    [ \"text\", \"no bananas\" ],\n *    [ \"syntax\", \"}\" ],\n *    [ \"space\", \"\\n    \" ],\n *    [ \"selector\", \"one\" ],\n *    [ \"space\", \" \" ],\n *    [ \"syntax\", \"{\" ],\n *    [ \"text\", \"a banana\" ],\n *    [ \"syntax\", \"}\" ],\n *    [ \"space\", \"\\n  \" ],\n *    [ \"selector\", \"other\" ],\n *    [ \"space\", \" \" ],\n *    [ \"syntax\", \"{\" ],\n *    [ \"syntax\", \"#\" ],\n *    [ \"text\", \" bananas\" ],\n *    [ \"syntax\", \"}\" ],\n *    [ \"space\", \"\\n\" ],\n *    [ \"syntax\", \"}\" ],\n *    [ \"text\", \" for sale.\" ]\n *  ]\n **/\nexports = module.exports = function parse (\n  pattern/*: string */,\n  options/*:: ?: { tagsType?: string, tokens?: Token[] } */\n)/*: AST */ {\n  return parseAST({\n    pattern: String(pattern),\n    index: 0,\n    tagsType: (options && options.tagsType) || null,\n    tokens: (options && options.tokens) || null\n  }, '')\n};\n\nfunction parseAST (current/*: Context */, parentType/*: string */)/*: AST */ {\n  var pattern = current.pattern;\n  var length = pattern.length;\n  var elements/*: AST */ = [];\n  var start = current.index;\n  var text = parseText(current, parentType);\n  if (text) elements.push(text);\n  if (text && current.tokens) current.tokens.push(['text', pattern.slice(start, current.index)]);\n  while (current.index < length) {\n    if (pattern[current.index] === ARG_CLS) {\n      if (!parentType) throw expected(current)\n      break\n    }\n    if (parentType && current.tagsType && pattern.slice(current.index, current.index + TAG_END.length) === TAG_END) break\n    elements.push(parsePlaceholder(current));\n    start = current.index;\n    text = parseText(current, parentType);\n    if (text) elements.push(text);\n    if (text && current.tokens) current.tokens.push(['text', pattern.slice(start, current.index)]);\n  }\n  return elements\n}\n\nfunction parseText (current/*: Context */, parentType/*: string */)/*: string */ {\n  var pattern = current.pattern;\n  var length = pattern.length;\n  var isHashSpecial = (parentType === 'plural' || parentType === 'selectordinal');\n  var isAngleSpecial = !!current.tagsType;\n  var isArgStyle = (parentType === '{style}');\n  var text = '';\n  while (current.index < length) {\n    var char = pattern[current.index];\n    if (\n      char === ARG_OPN || char === ARG_CLS ||\n      (isHashSpecial && char === NUM_ARG) ||\n      (isAngleSpecial && char === TAG_OPN) ||\n      (isArgStyle && isWhitespace(char.charCodeAt(0)))\n    ) {\n      break\n    } else if (char === ESC) {\n      char = pattern[++current.index];\n      if (char === ESC) { // double is always 1 '\n        text += char;\n        ++current.index;\n      } else if (\n        // only when necessary\n        char === ARG_OPN || char === ARG_CLS ||\n        (isHashSpecial && char === NUM_ARG) ||\n        (isAngleSpecial && char === TAG_OPN) ||\n        isArgStyle\n      ) {\n        text += char;\n        while (++current.index < length) {\n          char = pattern[current.index];\n          if (char === ESC && pattern[current.index + 1] === ESC) { // double is always 1 '\n            text += ESC;\n            ++current.index;\n          } else if (char === ESC) { // end of quoted\n            ++current.index;\n            break\n          } else {\n            text += char;\n          }\n        }\n      } else { // lone ' is just a '\n        text += ESC;\n        // already incremented\n      }\n    } else {\n      text += char;\n      ++current.index;\n    }\n  }\n  return text\n}\n\nfunction isWhitespace (code/*: number */)/*: boolean */ {\n  return (\n    (code >= 0x09 && code <= 0x0D) ||\n    code === 0x20 || code === 0x85 || code === 0xA0 || code === 0x180E ||\n    (code >= 0x2000 && code <= 0x200D) ||\n    code === 0x2028 || code === 0x2029 || code === 0x202F || code === 0x205F ||\n    code === 0x2060 || code === 0x3000 || code === 0xFEFF\n  )\n}\n\nfunction skipWhitespace (current/*: Context */)/*: void */ {\n  var pattern = current.pattern;\n  var length = pattern.length;\n  var start = current.index;\n  while (current.index < length && isWhitespace(pattern.charCodeAt(current.index))) {\n    ++current.index;\n  }\n  if (start < current.index && current.tokens) {\n    current.tokens.push(['space', current.pattern.slice(start, current.index)]);\n  }\n}\n\nfunction parsePlaceholder (current/*: Context */)/*: Placeholder */ {\n  var pattern = current.pattern;\n  if (pattern[current.index] === NUM_ARG) {\n    if (current.tokens) current.tokens.push(['syntax', NUM_ARG]);\n    ++current.index; // move passed #\n    return [NUM_ARG]\n  }\n\n  var tag = parseTag(current);\n  if (tag) return tag\n\n  /* istanbul ignore if should be unreachable if parseAST and parseText are right */\n  if (pattern[current.index] !== ARG_OPN) throw expected(current, ARG_OPN)\n  if (current.tokens) current.tokens.push(['syntax', ARG_OPN]);\n  ++current.index; // move passed {\n  skipWhitespace(current);\n\n  var id = parseId(current);\n  if (!id) throw expected(current, 'placeholder id')\n  if (current.tokens) current.tokens.push(['id', id]);\n  skipWhitespace(current);\n\n  var char = pattern[current.index];\n  if (char === ARG_CLS) { // end placeholder\n    if (current.tokens) current.tokens.push(['syntax', ARG_CLS]);\n    ++current.index; // move passed }\n    return [id]\n  }\n\n  if (char !== ARG_SEP) throw expected(current, ARG_SEP + ' or ' + ARG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', ARG_SEP]);\n  ++current.index; // move passed ,\n  skipWhitespace(current);\n\n  var type = parseId(current);\n  if (!type) throw expected(current, 'placeholder type')\n  if (current.tokens) current.tokens.push(['type', type]);\n  skipWhitespace(current);\n  char = pattern[current.index];\n  if (char === ARG_CLS) { // end placeholder\n    if (current.tokens) current.tokens.push(['syntax', ARG_CLS]);\n    if (type === 'plural' || type === 'selectordinal' || type === 'select') {\n      throw expected(current, type + ' sub-messages')\n    }\n    ++current.index; // move passed }\n    return [id, type]\n  }\n\n  if (char !== ARG_SEP) throw expected(current, ARG_SEP + ' or ' + ARG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', ARG_SEP]);\n  ++current.index; // move passed ,\n  skipWhitespace(current);\n\n  var arg;\n  if (type === 'plural' || type === 'selectordinal') {\n    var offset = parsePluralOffset(current);\n    skipWhitespace(current);\n    arg = [id, type, offset, parseSubMessages(current, type)];\n  } else if (type === 'select') {\n    arg = [id, type, parseSubMessages(current, type)];\n  } else if (simpleTypes.indexOf(type) >= 0) {\n    arg = [id, type, parseSimpleFormat(current)];\n  } else { // custom placeholder type\n    var index = current.index;\n    var format/*: string | SubMessages */ = parseSimpleFormat(current);\n    skipWhitespace(current);\n    if (pattern[current.index] === ARG_OPN) {\n      current.index = index; // rewind, since should have been submessages\n      format = parseSubMessages(current, type);\n    }\n    arg = [id, type, format];\n  }\n\n  skipWhitespace(current);\n  if (pattern[current.index] !== ARG_CLS) throw expected(current, ARG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', ARG_CLS]);\n  ++current.index; // move passed }\n  return arg\n}\n\nfunction parseTag (current/*: Context */)/*: ?Placeholder */ {\n  var tagsType = current.tagsType;\n  if (!tagsType || current.pattern[current.index] !== TAG_OPN) return\n\n  if (current.pattern.slice(current.index, current.index + TAG_END.length) === TAG_END) {\n    throw expected(current, null, 'closing tag without matching opening tag')\n  }\n  if (current.tokens) current.tokens.push(['syntax', TAG_OPN]);\n  ++current.index; // move passed <\n\n  var id = parseId(current, true);\n  if (!id) throw expected(current, 'placeholder id')\n  if (current.tokens) current.tokens.push(['id', id]);\n  skipWhitespace(current);\n\n  if (current.pattern.slice(current.index, current.index + TAG_SELF_CLS.length) === TAG_SELF_CLS) {\n    if (current.tokens) current.tokens.push(['syntax', TAG_SELF_CLS]);\n    current.index += TAG_SELF_CLS.length;\n    return [id, tagsType]\n  }\n  if (current.pattern[current.index] !== TAG_CLS) throw expected(current, TAG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', TAG_CLS]);\n  ++current.index; // move passed >\n\n  var children = parseAST(current, tagsType);\n\n  var end = current.index;\n  if (current.pattern.slice(current.index, current.index + TAG_END.length) !== TAG_END) throw expected(current, TAG_END + id + TAG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', TAG_END]);\n  current.index += TAG_END.length;\n  var closeId = parseId(current, true);\n  if (closeId && current.tokens) current.tokens.push(['id', closeId]);\n  if (id !== closeId) {\n    current.index = end; // rewind for better error message\n    throw expected(current, TAG_END + id + TAG_CLS, TAG_END + closeId + TAG_CLS)\n  }\n  skipWhitespace(current);\n  if (current.pattern[current.index] !== TAG_CLS) throw expected(current, TAG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', TAG_CLS]);\n  ++current.index; // move passed >\n\n  return [id, tagsType, { children: children }]\n}\n\nfunction parseId (current/*: Context */, isTag/*:: ?: boolean */)/*: string */ {\n  var pattern = current.pattern;\n  var length = pattern.length;\n  var id = '';\n  while (current.index < length) {\n    var char = pattern[current.index];\n    if (\n      char === ARG_OPN || char === ARG_CLS || char === ARG_SEP ||\n      char === NUM_ARG || char === ESC || isWhitespace(char.charCodeAt(0)) ||\n      (isTag && (char === TAG_OPN || char === TAG_CLS || char === '/'))\n    ) break\n    id += char;\n    ++current.index;\n  }\n  return id\n}\n\nfunction parseSimpleFormat (current/*: Context */)/*: string */ {\n  var start = current.index;\n  var style = parseText(current, '{style}');\n  if (!style) throw expected(current, 'placeholder style name')\n  if (current.tokens) current.tokens.push(['style', current.pattern.slice(start, current.index)]);\n  return style\n}\n\nfunction parsePluralOffset (current/*: Context */)/*: number */ {\n  var pattern = current.pattern;\n  var length = pattern.length;\n  var offset = 0;\n  if (pattern.slice(current.index, current.index + OFFSET.length) === OFFSET) {\n    if (current.tokens) current.tokens.push(['offset', 'offset'], ['syntax', ':']);\n    current.index += OFFSET.length; // move passed offset:\n    skipWhitespace(current);\n    var start = current.index;\n    while (current.index < length && isDigit(pattern.charCodeAt(current.index))) {\n      ++current.index;\n    }\n    if (start === current.index) throw expected(current, 'offset number')\n    if (current.tokens) current.tokens.push(['number', pattern.slice(start, current.index)]);\n    offset = +pattern.slice(start, current.index);\n  }\n  return offset\n}\n\nfunction isDigit (code/*: number */)/*: boolean */ {\n  return (code >= 0x30 && code <= 0x39)\n}\n\nfunction parseSubMessages (current/*: Context */, parentType/*: string */)/*: SubMessages */ {\n  var pattern = current.pattern;\n  var length = pattern.length;\n  var options/*: SubMessages */ = {};\n  while (current.index < length && pattern[current.index] !== ARG_CLS) {\n    var selector = parseId(current);\n    if (!selector) throw expected(current, 'sub-message selector')\n    if (current.tokens) current.tokens.push(['selector', selector]);\n    skipWhitespace(current);\n    options[selector] = parseSubMessage(current, parentType);\n    skipWhitespace(current);\n  }\n  if (!options.other && submTypes.indexOf(parentType) >= 0) {\n    throw expected(current, null, null, '\"other\" sub-message must be specified in ' + parentType)\n  }\n  return options\n}\n\nfunction parseSubMessage (current/*: Context */, parentType/*: string */)/*: AST */ {\n  if (current.pattern[current.index] !== ARG_OPN) throw expected(current, ARG_OPN + ' to start sub-message')\n  if (current.tokens) current.tokens.push(['syntax', ARG_OPN]);\n  ++current.index; // move passed {\n  var message = parseAST(current, parentType);\n  if (current.pattern[current.index] !== ARG_CLS) throw expected(current, ARG_CLS + ' to end sub-message')\n  if (current.tokens) current.tokens.push(['syntax', ARG_CLS]);\n  ++current.index; // move passed }\n  return message\n}\n\nfunction expected (current/*: Context */, expected/*:: ?: ?string */, found/*:: ?: ?string */, message/*:: ?: string */) {\n  var pattern = current.pattern;\n  var lines = pattern.slice(0, current.index).split(/\\r?\\n/);\n  var offset = current.index;\n  var line = lines.length;\n  var column = lines.slice(-1)[0].length;\n  found = found || (\n    (current.index >= pattern.length) ? 'end of message pattern'\n      : (parseId(current) || pattern[current.index])\n  );\n  if (!message) message = errorMessage(expected, found);\n  message += ' in ' + pattern.replace(/\\r?\\n/g, '\\n');\n  return new SyntaxError(message, expected, found, offset, line, column)\n}\n\nfunction errorMessage (expected/*: ?string */, found/* string */) {\n  if (!expected) return 'Unexpected ' + found + ' found'\n  return 'Expected ' + expected + ' but found ' + found\n}\n\n/**\n * SyntaxError\n *  Holds information about bad syntax found in a message pattern\n **/\nfunction SyntaxError (message/*: string */, expected/*: ?string */, found/*: ?string */, offset/*: number */, line/*: number */, column/*: number */) {\n  Error.call(this, message);\n  this.name = 'SyntaxError';\n  this.message = message;\n  this.expected = expected;\n  this.found = found;\n  this.offset = offset;\n  this.line = line;\n  this.column = column;\n}\nSyntaxError.prototype = Object.create(Error.prototype);\nexports.SyntaxError = SyntaxError;\n});\nvar formatMessageParse_1 = formatMessageParse.SyntaxError;\n\nvar supportedExp = new RegExp(\n  '^(' + Object.keys(plurals).join('|') + ')\\\\b'\n);\n\n/*::\nimport type { Types } from 'format-message-interpret'\nimport type { AST } from 'format-message-parse'\ntype Options = {\n  types: Types\n}\ntype Internals = {\n  ast: AST,\n  format: (args?: Object) => string,\n  locale: string,\n  locales?: string | string[],\n  toParts?: (args?: Object) => any[],\n  options?: Options\n}\n*/\n\nvar internals/*: WeakMap<Object, Internals> */ = new WeakMap();\n\n/*!\n * Intl.MessageFormat prollyfill\n * Copyright(c) 2015 Andy VanWagoner\n * MIT licensed\n **/\nfunction MessageFormat (\n  pattern/*: string */,\n  locales/*:: ?: string | string[] */,\n  options/*:: ?: Options */\n) {\n  if (!(this instanceof MessageFormat) || internals.has(this)) {\n    throw new TypeError('calling MessageFormat constructor without new is invalid')\n  }\n  var ast = formatMessageParse(pattern);\n  internals.set(this, {\n    ast: ast,\n    format: formatMessageInterpret(ast, locales, options && options.types),\n    locale: MessageFormat.supportedLocalesOf(locales)[0] || 'en',\n    locales: locales,\n    options: options\n  });\n}\nvar messageFormat = MessageFormat;\n\n// $FlowFixMe It thinks `value` needs to be defined for format\nObject.defineProperties(MessageFormat.prototype, {\n  format: {\n    configurable: true,\n    get: function format () {\n      var values = internals.get(this);\n      if (!values) throw new TypeError('MessageFormat.prototype.format called on value that\\'s not an object initialized as a MessageFormat')\n      return values.format\n    }\n  },\n  formatToParts: {\n    configurable: true,\n    writable: true,\n    value: function formatToParts (args/*:: ?: Object */) {\n      var values = internals.get(this);\n      if (!values) throw new TypeError('MessageFormat.prototype.formatToParts called on value that\\'s not an object initialized as a MessageFormat')\n      var frmt = values.toParts || (values.toParts = formatMessageInterpret.toParts(\n        values.ast,\n        values.locales,\n        values.options && values.options.types\n      ));\n      return frmt(args)\n    }\n  },\n  resolvedOptions: {\n    configurable: true,\n    writable: true,\n    value: function resolvedOptions () {\n      var values = internals.get(this);\n      if (!values) throw new TypeError('MessageFormat.prototype.resolvedOptions called on value that\\'s not an object initialized as a MessageFormat')\n      return {\n        locale: values.locale\n      }\n    }\n  }\n});\n\n/* istanbul ignore else */\nif (typeof Symbol !== 'undefined') {\n  Object.defineProperty(MessageFormat.prototype, Symbol.toStringTag, { value: 'Object' });\n}\n\nObject.defineProperties(MessageFormat, {\n  supportedLocalesOf: {\n    configurable: true,\n    writable: true,\n    value: function supportedLocalesOf (requestedLocales/*:: ?: string | string[] */) {\n      return [].concat(\n        Intl.NumberFormat.supportedLocalesOf(requestedLocales),\n        Intl.DateTimeFormat.supportedLocalesOf(requestedLocales),\n        Intl.PluralRules ? Intl.PluralRules.supportedLocalesOf(requestedLocales) : [],\n        [].concat(requestedLocales || []).filter(function (locale) {\n          return supportedExp.test(locale)\n        })\n      ).filter(function (v, i, a) { return a.indexOf(v) === i })\n    }\n  }\n});\n\nexport default messageFormat;\n", "/**\n * @param {Object.<string, Object>} obj\n * @returns {boolean}\n */\nexport default function isLocalizeESModule(obj) {\n  return !!(obj && obj.default && typeof obj.default === 'object' && Object.keys(obj).length === 1);\n}\n", "// @ts-ignore\nimport MessageFormat from '@bundled-es-modules/message-format/MessageFormat.js';\nimport isLocalizeESModule from './isLocalizeESModule.js';\n\n/**\n * @typedef {import('../types/LocalizeMixinTypes.js').NamespaceObject} NamespaceObject\n */\n\n/** @typedef {import('../types/LocalizeMixinTypes.js').DatePostProcessor} DatePostProcessor */\n/** @typedef {import('../types/LocalizeMixinTypes.js').NumberPostProcessor} NumberPostProcessor */\n\n/**\n * `LocalizeManager` manages your translations (includes loading)\n */\nexport class LocalizeManager {\n  // eslint-disable-line no-unused-vars\n  constructor({\n    autoLoadOnLocaleChange = false,\n    fallbackLocale = '',\n    showKeyAsFallback = false,\n    allowOverridesForExistingNamespaces = false,\n  } = {}) {\n    /** @private */\n    this.__delegationTarget = document.createDocumentFragment();\n    /** @protected */\n    this._autoLoadOnLocaleChange = !!autoLoadOnLocaleChange;\n    /** @protected */\n    this._fallbackLocale = fallbackLocale;\n    /** @protected */\n    this._showKeyAsFallback = showKeyAsFallback;\n\n    /** @private */\n    this.__allowOverridesForExistingNamespaces = allowOverridesForExistingNamespaces;\n\n    /**\n     * @type {Object.<string, Object.<string, Object>>}\n     * @private\n     */\n    this.__storage = {};\n\n    /**\n     * @type {Map.<RegExp|string, function>}\n     * @private\n     */\n    this.__namespacePatternsMap = new Map();\n\n    /**\n     * @type {Object.<string, function|null>}\n     * @private\n     */\n    this.__namespaceLoadersCache = {};\n\n    /**\n     * @type {Object.<string, Object.<string, Promise.<Object|void>>>}\n     * @private\n     */\n    this.__namespaceLoaderPromisesCache = {};\n\n    this.formatNumberOptions = {\n      returnIfNaN: '',\n      /** @type {Map<string,DatePostProcessor>} */\n      postProcessors: new Map(),\n    };\n\n    this.formatDateOptions = {\n      /** @type {Map<string,DatePostProcessor>} */\n      postProcessors: new Map(),\n    };\n\n    /**\n     * Via html[data-localize-lang], developers are allowed to set the initial locale, without\n     * having to worry about whether locale is initialized before 3rd parties like Google Translate.\n     * When this value differs from html[lang], we assume the 3rd party took\n     * control over the page language and we set this._langAttrSetByTranslationTool to html[lang]\n     */\n    const initialLocale = document.documentElement.getAttribute('data-localize-lang');\n\n    /** @protected */\n    this._supportExternalTranslationTools = Boolean(initialLocale);\n\n    if (this._supportExternalTranslationTools) {\n      this.locale = initialLocale || 'en-GB';\n      this._setupTranslationToolSupport();\n    }\n\n    if (!document.documentElement.lang) {\n      document.documentElement.lang = this.locale || 'en-GB';\n    }\n\n    /** @protected */\n    this._setupHtmlLangAttributeObserver();\n  }\n\n  /** @protected */\n  _setupTranslationToolSupport() {\n    /**\n     * This value allows for support for Google Translate (or other 3rd parties taking control\n     * of the html[lang] attribute).\n     *\n     * Have the following scenario in mind:\n     * 1. locale is initialized by developer via html[data-localize-lang=\"en-US\"] and\n     * html[lang=\"en-US\"]. When localize is loaded (note that this also can be after step 2 below),\n     * it will sync its initial state from html[data-localize-lang]\n     * 2. Google Translate kicks in for the French language. It will set html[lang=\"fr\"].\n     * This new language is not one known by us, so we most likely don't have translations for\n     * this file. Therefore, we do NOT sync this value to LocalizeManager. The manager should\n     * still ask for known resources (in this case for locale 'en-US')\n     * 3. locale is changed (think of a language dropdown)\n     * It's a bit of a weird case, because we would not expect an end user to do this. If he/she\n     * does, make sure that we do not go against Google Translate, so we maintain accessibility\n     * (by not altering html[lang]). We detect this by reading _langAttrSetByTranslationTool:\n     * when its value is null, we consider Google translate 'not active'.\n     *\n     * When Google Translate is turned off by the user (html[lang=auto]),\n     * `localize.locale` will be synced to html[lang] again\n     *\n     * Keep in mind that all of the above also works with other tools than Google Translate,\n     * but this is the most widely used tool and therefore used as an example.\n     */\n    this._langAttrSetByTranslationTool = document.documentElement.lang || null;\n  }\n\n  teardown() {\n    this._teardownHtmlLangAttributeObserver();\n  }\n\n  /**\n   * @returns {string}\n   */\n  get locale() {\n    if (this._supportExternalTranslationTools) {\n      return this.__locale || '';\n    }\n    return document.documentElement.lang;\n  }\n\n  /**\n   * @param {string} value\n   */\n  set locale(value) {\n    /** @type {string} */\n    let oldLocale;\n    if (this._supportExternalTranslationTools) {\n      oldLocale = /** @type {string} */ (this.__locale);\n      this.__locale = value;\n      if (this._langAttrSetByTranslationTool === null) {\n        this._setHtmlLangAttribute(value);\n      }\n    } else {\n      oldLocale = document.documentElement.lang;\n      this._setHtmlLangAttribute(value);\n    }\n\n    if (!value.includes('-')) {\n      this.__handleLanguageOnly(value);\n    }\n\n    this._onLocaleChanged(value, oldLocale);\n  }\n\n  /**\n   * @param {string} locale\n   * @protected\n   */\n  _setHtmlLangAttribute(locale) {\n    this._teardownHtmlLangAttributeObserver();\n    document.documentElement.lang = locale;\n    this._setupHtmlLangAttributeObserver();\n  }\n\n  /**\n   * @param {string} value\n   * @throws {Error} Language only locales are not allowed(Use 'en-GB' instead of 'en')\n   * @private\n   */\n  // eslint-disable-next-line class-methods-use-this\n  __handleLanguageOnly(value) {\n    throw new Error(`\n      Locale was set to ${value}.\n      Language only locales are not allowed, please use the full language locale e.g. 'en-GB' instead of 'en'.\n      See https://github.com/ing-bank/lion/issues/187 for more information.\n    `);\n  }\n\n  /**\n   * @returns {Promise.<Object|void>}\n   */\n  get loadingComplete() {\n    if (typeof this.__namespaceLoaderPromisesCache[this.locale] === 'object') {\n      return Promise.all(Object.values(this.__namespaceLoaderPromisesCache[this.locale]));\n    }\n    return Promise.resolve();\n  }\n\n  reset() {\n    this.__storage = {};\n    this.__namespacePatternsMap = new Map();\n    this.__namespaceLoadersCache = {};\n    this.__namespaceLoaderPromisesCache = {};\n  }\n\n  /**\n   * @param {string} locale\n   * @param {string} namespace\n   * @param {object} data\n   * @throws {Error} Namespace can be added only once, for a given locale unless allowOverridesForExistingNamespaces\n   * is set to `true`\n   */\n  addData(locale, namespace, data) {\n    if (\n      !this.__allowOverridesForExistingNamespaces &&\n      this._isNamespaceInCache(locale, namespace)\n    ) {\n      throw new Error(\n        `Namespace \"${namespace}\" has been already added for the locale \"${locale}\".`,\n      );\n    }\n\n    this.__storage[locale] = this.__storage[locale] || {};\n\n    if (this.__allowOverridesForExistingNamespaces) {\n      this.__storage[locale][namespace] = {\n        ...this.__storage[locale][namespace],\n        ...data,\n      };\n    } else {\n      this.__storage[locale][namespace] = data;\n    }\n  }\n\n  /**\n   * @param {RegExp|string} pattern\n   * @param {function} loader\n   */\n  setupNamespaceLoader(pattern, loader) {\n    this.__namespacePatternsMap.set(pattern, loader);\n  }\n\n  /**\n   * @param {NamespaceObject[]} namespaces\n   * @param {Object} options\n   * @param {string} [options.locale]\n   * @returns {Promise.<Object>}\n   */\n  loadNamespaces(namespaces, { locale } = {}) {\n    return Promise.all(\n      namespaces.map(\n        /** @param {NamespaceObject} namespace */\n        namespace => this.loadNamespace(namespace, { locale }),\n      ),\n    );\n  }\n\n  /**\n   * @param {NamespaceObject} namespaceObj\n   * @param {Object} options\n   * @param {string} [options.locale]\n   * @returns {Promise.<Object|void>}\n   */\n  loadNamespace(namespaceObj, { locale = this.locale } = { locale: this.locale }) {\n    const isDynamicImport = typeof namespaceObj === 'object';\n\n    const namespace = /** @type {string} */ (\n      isDynamicImport ? Object.keys(namespaceObj)[0] : namespaceObj\n    );\n\n    if (this._isNamespaceInCache(locale, namespace)) {\n      return Promise.resolve();\n    }\n\n    const existingLoaderPromise = this._getCachedNamespaceLoaderPromise(locale, namespace);\n    if (existingLoaderPromise) {\n      return existingLoaderPromise;\n    }\n\n    return this._loadNamespaceData(locale, namespaceObj, isDynamicImport, namespace);\n  }\n\n  /**\n   * @param {string | string[]} keys\n   * @param {Object.<string,?>} [vars]\n   * @param {Object} [opts]\n   * @param {string} [opts.locale]\n   * @returns {string}\n   */\n  msg(keys, vars, opts = {}) {\n    const locale = opts.locale ? opts.locale : this.locale;\n    const message = this._getMessageForKeys(keys, locale);\n    if (!message) {\n      return '';\n    }\n    const formatter = new MessageFormat(message, locale);\n    return formatter.format(vars);\n  }\n\n  /** @protected */\n  _setupHtmlLangAttributeObserver() {\n    if (!this._htmlLangAttributeObserver) {\n      this._htmlLangAttributeObserver = new MutationObserver(mutations => {\n        mutations.forEach(mutation => {\n          if (this._supportExternalTranslationTools) {\n            if (document.documentElement.lang === 'auto') {\n              // Google Translate is switched off\n              this._langAttrSetByTranslationTool = null;\n              this._setHtmlLangAttribute(this.locale);\n            } else {\n              this._langAttrSetByTranslationTool = document.documentElement.lang;\n            }\n          } else {\n            this._onLocaleChanged(document.documentElement.lang, mutation.oldValue || '');\n          }\n        });\n      });\n    }\n    this._htmlLangAttributeObserver.observe(document.documentElement, {\n      attributes: true,\n      attributeFilter: ['lang'],\n      attributeOldValue: true,\n    });\n  }\n\n  /** @protected */\n  _teardownHtmlLangAttributeObserver() {\n    if (this._htmlLangAttributeObserver) {\n      this._htmlLangAttributeObserver.disconnect();\n    }\n  }\n\n  /**\n   * @param {string} locale\n   * @param {string} namespace\n   * @protected\n   */\n  _isNamespaceInCache(locale, namespace) {\n    return !!(this.__storage[locale] && this.__storage[locale][namespace]);\n  }\n\n  /**\n   * @param {string} locale\n   * @param {string} namespace\n   * @protected\n   */\n  _getCachedNamespaceLoaderPromise(locale, namespace) {\n    if (this.__namespaceLoaderPromisesCache[locale]) {\n      return this.__namespaceLoaderPromisesCache[locale][namespace];\n    }\n    return null;\n  }\n\n  /**\n   * @param {string} locale\n   * @param {NamespaceObject} namespaceObj\n   * @param {boolean} isDynamicImport\n   * @param {string} namespace\n   * @returns {Promise.<Object|void>}\n   * @protected\n   */\n  _loadNamespaceData(locale, namespaceObj, isDynamicImport, namespace) {\n    const loader = this._getNamespaceLoader(namespaceObj, isDynamicImport, namespace);\n    const loaderPromise = this._getNamespaceLoaderPromise(loader, locale, namespace);\n    this._cacheNamespaceLoaderPromise(locale, namespace, loaderPromise);\n    return loaderPromise.then(\n      /**\n       * @param {Object} obj\n       * @param {Object} obj.default\n       */\n      obj => {\n        // add data only if we have the promise in cache\n        if (\n          this.__namespaceLoaderPromisesCache[locale] &&\n          this.__namespaceLoaderPromisesCache[locale][namespace] === loaderPromise\n        ) {\n          const data = isLocalizeESModule(obj) ? obj.default : obj;\n          this.addData(locale, namespace, data);\n        }\n      },\n    );\n  }\n\n  /**\n   * @param {NamespaceObject} namespaceObj\n   * @param {boolean} isDynamicImport\n   * @param {string} namespace\n   * @throws {Error} Namespace shall setup properly. Check loader!\n   * @protected\n   */\n  _getNamespaceLoader(namespaceObj, isDynamicImport, namespace) {\n    let loader = this.__namespaceLoadersCache[namespace];\n    if (!loader) {\n      if (isDynamicImport) {\n        const _namespaceObj = /** @type {Object.<string,function>} */ (namespaceObj);\n        loader = _namespaceObj[namespace];\n        this.__namespaceLoadersCache[namespace] = loader;\n      } else {\n        loader = this._lookupNamespaceLoader(namespace);\n        this.__namespaceLoadersCache[namespace] = loader;\n      }\n    }\n\n    if (!loader) {\n      throw new Error(`Namespace \"${namespace}\" was not properly setup.`);\n    }\n\n    this.__namespaceLoadersCache[namespace] = loader;\n\n    return loader;\n  }\n\n  /**\n   * @param {function} loader\n   * @param {string} locale\n   * @param {string} namespace\n   * @param {string} [fallbackLocale]\n   * @returns {Promise.<any>}\n   * @throws {Error} Data for namespace and (locale or fallback locale) could not be loaded.\n   * @protected\n   */\n  _getNamespaceLoaderPromise(loader, locale, namespace, fallbackLocale = this._fallbackLocale) {\n    return loader(locale, namespace).catch(() => {\n      const lang = this._getLangFromLocale(locale);\n      return loader(lang, namespace).catch(() => {\n        if (fallbackLocale) {\n          return this._getNamespaceLoaderPromise(loader, fallbackLocale, namespace, '').catch(\n            () => {\n              const fallbackLang = this._getLangFromLocale(fallbackLocale);\n              throw new Error(\n                `Data for namespace \"${namespace}\" and current locale \"${locale}\" or fallback locale \"${fallbackLocale}\" could not be loaded. ` +\n                  `Make sure you have data either for locale \"${locale}\" (and/or generic language \"${lang}\") or for fallback \"${fallbackLocale}\" (and/or \"${fallbackLang}\").`,\n              );\n            },\n          );\n        }\n        throw new Error(\n          `Data for namespace \"${namespace}\" and locale \"${locale}\" could not be loaded. ` +\n            `Make sure you have data for locale \"${locale}\" (and/or generic language \"${lang}\").`,\n        );\n      });\n    });\n  }\n\n  /**\n   * @param {string} locale\n   * @param {string} namespace\n   * @param {Promise.<Object|void>} promise\n   * @protected\n   */\n  _cacheNamespaceLoaderPromise(locale, namespace, promise) {\n    if (!this.__namespaceLoaderPromisesCache[locale]) {\n      this.__namespaceLoaderPromisesCache[locale] = {};\n    }\n    this.__namespaceLoaderPromisesCache[locale][namespace] = promise;\n  }\n\n  /**\n   * @param {string} namespace\n   * @returns {function|null}\n   * @protected\n   */\n  _lookupNamespaceLoader(namespace) {\n    /* eslint-disable no-restricted-syntax */\n    for (const [key, value] of this.__namespacePatternsMap) {\n      const isMatchingString = typeof key === 'string' && key === namespace;\n      const isMatchingRegexp =\n        typeof key === 'object' && key.constructor.name === 'RegExp' && key.test(namespace);\n      if (isMatchingString || isMatchingRegexp) {\n        return value;\n      }\n    }\n    return null;\n    /* eslint-enable no-restricted-syntax */\n  }\n\n  /**\n   * @param {string} locale\n   * @returns {string}\n   * @protected\n   */\n  // eslint-disable-next-line class-methods-use-this\n  _getLangFromLocale(locale) {\n    return locale.substring(0, 2);\n  }\n\n  /**\n   * @param {string} type\n   * @param {EventListener} listener\n   * @param {...Object} options\n   */\n  addEventListener(type, listener, ...options) {\n    this.__delegationTarget.addEventListener(type, listener, ...options);\n  }\n\n  /**\n   * @param {string} type\n   * @param {EventListener} listener\n   * @param {...Object} options\n   */\n  removeEventListener(type, listener, ...options) {\n    this.__delegationTarget.removeEventListener(type, listener, ...options);\n  }\n\n  /**\n   *  @param {CustomEvent} event\n   */\n  dispatchEvent(event) {\n    this.__delegationTarget.dispatchEvent(event);\n  }\n\n  /**\n   * @param {string} newLocale\n   * @param {string} oldLocale\n   * @returns {undefined}\n   * @protected\n   */\n  _onLocaleChanged(newLocale, oldLocale) {\n    // Event firing immediately, does not wait for loading the translations\n    this.dispatchEvent(new CustomEvent('__localeChanging'));\n    if (newLocale === oldLocale) {\n      return;\n    }\n    if (this._autoLoadOnLocaleChange) {\n      this._loadAllMissing(newLocale, oldLocale);\n      this.loadingComplete.then(() => {\n        this.dispatchEvent(new CustomEvent('localeChanged', { detail: { newLocale, oldLocale } }));\n      });\n    } else {\n      this.dispatchEvent(new CustomEvent('localeChanged', { detail: { newLocale, oldLocale } }));\n    }\n  }\n\n  /**\n   * @param {string} newLocale\n   * @param {string} oldLocale\n   * @protected\n   */\n  _loadAllMissing(newLocale, oldLocale) {\n    const oldLocaleNamespaces = this.__storage[oldLocale] || {};\n    const newLocaleNamespaces = this.__storage[newLocale] || {};\n    Object.keys(oldLocaleNamespaces).forEach(namespace => {\n      const newNamespaceData = newLocaleNamespaces[namespace];\n      if (!newNamespaceData) {\n        this.loadNamespace(namespace, {\n          locale: newLocale,\n        });\n      }\n    });\n  }\n\n  /**\n   * @param {string | string[]} keys\n   * @param {string} locale\n   * @returns {string | undefined}\n   * @protected\n   */\n  _getMessageForKeys(keys, locale) {\n    if (typeof keys === 'string') {\n      return this._getMessageForKey(keys, locale);\n    }\n    const reversedKeys = Array.from(keys).reverse(); // Array.from prevents mutation of argument\n    let key;\n    let message;\n    while (reversedKeys.length) {\n      key = reversedKeys.pop();\n      message = this._getMessageForKey(key, locale);\n      if (message) {\n        return message;\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * @param {string | undefined} key\n   * @param {string} locale\n   * @returns {string}\n   * @throws {Error} `key`is missing namespace. The format for `key` is \"namespace:name\"\n   * @protected\n   *\n   */\n  _getMessageForKey(key, locale) {\n    if (!key || key.indexOf(':') === -1) {\n      throw new Error(\n        `Namespace is missing in the key \"${key}\". The format for keys is \"namespace:name\".`,\n      );\n    }\n    const [ns, namesString] = key.split(':');\n    const namespaces = this.__storage[locale];\n    const messages = namespaces ? namespaces[ns] : {};\n    const names = namesString.split('.');\n    const result = names.reduce(\n      /**\n       * @param {Object.<string, any> | string} message\n       * @param {string} name\n       * @returns {string}\n       */\n      (message, name) => (typeof message === 'object' ? message[name] : message),\n      messages,\n    );\n\n    return String(result || (this._showKeyAsFallback ? key : ''));\n  }\n\n  /**\n   * @param {{locale:string, postProcessor:DatePostProcessor}} options\n   */\n  setDatePostProcessorForLocale({ locale, postProcessor }) {\n    this.formatDateOptions.postProcessors.set(locale, postProcessor);\n  }\n\n  /**\n   * @param {{locale:string, postProcessor:NumberPostProcessor}} options\n   */\n  setNumberPostProcessorForLocale({ locale, postProcessor }) {\n    this.formatNumberOptions.postProcessors.set(locale, postProcessor);\n  }\n}\n", "// @ts-ignore\nimport { singletonManager } from 'singleton-manager';\nimport { LocalizeManager } from './LocalizeManager.js';\n\n/**\n * Side-effect-free alternative for `localize` (the globally shared instance of LocalizeManager).\n * When this function is imported, no side-effect happened yet, i.e. no global instance was registered yet.\n * The side effect-free approach generates:\n * - smaller, optimized bundles\n * - a predictable loading order, that allows for:\n *   - deduping strategies when multiple instances of the localizeManager are on a page\n *   - providing a customized extension of LocalizeManager\n *\n * Use it like this:\n *\n * ```js\n * function myFunction() {\n *   // note that 'localizeManager' is the same as former 'localize'\n *   const localizeManager = getLocalizeManger();\n *   // ...\n * }\n * ```\n *\n * In a class, we advise a shared instance:\n * ```js\n * class MyClass {\n *   constructor() {\n *     this._localizeManager = getLocalizeManger();\n *   }\n *   // ...\n * }\n * ```\n *\n * Make sure to always call this method inside a function or class (otherwise side effects are created)\n *\n * Do you want to register your own LocalizeManager?\n * Make sure it's registered before anyone called `getLocalizeManager()`\n *\n * ```js\n * import { singletonManager } from 'singleton-manager';\n * import { getLocalizeManger } from '@lion/ui/localize-no-side-effects.js';\n *\n * // First register your own LocalizeManager (for deduping or other reasons)\n * singletonManager.set('lion/ui::localize::0.x', class MyLocalizeManager extends LocalizeManager {});\n *\n * // Now, all your code gets the right instance\n * function myFuntion() {\n *   const localizeManager = getLocalizeManager();\n *   // ...\n * }\n *\n * class myClass() {\n *   constructor() {\n *     this._localizeManager = getLocalizeManager();\n *     // ...\n *   }\n * }\n * ```\n *\n * @returns {LocalizeManager}\n */\nexport function getLocalizeManager() {\n  if (singletonManager.has('@lion/ui::localize::0.x')) {\n    return singletonManager.get('@lion/ui::localize::0.x');\n  }\n\n  const localizeManager = new LocalizeManager({\n    autoLoadOnLocaleChange: true,\n    fallbackLocale: 'en-GB',\n  });\n  singletonManager.set('@lion/ui::localize::0.x', localizeManager);\n\n  return localizeManager;\n}\n", "/**\n * To filter out some added characters in IE\n *\n * @param {string} str\n * @param {string} [locale='']\n * @param {import('../../../types/LocalizeMixinTypes.js').FormatDateOptions} options Intl options are available\n * @returns {string}\n */\nexport function normalizeIntlDate(str, locale = '', { weekday, year, month, day } = {}) {\n  const dateString = [];\n  for (let i = 0, n = str.length; i < n; i += 1) {\n    // remove unicode 160\n    if (str.charCodeAt(i) === 160) {\n      dateString.push(' ');\n      // remove unicode 8206\n    } else if (str.charCodeAt(i) === 8206) {\n      dateString.push('');\n    } else {\n      dateString.push(str.charAt(i));\n    }\n  }\n\n  const result = dateString.join('');\n  // Normalize webkit date formatting without year\n  if (!year && weekday === 'long' && month === 'long' && day === '2-digit') {\n    const CHINESE_LOCALES = [\n      // Webkit has a space while chrome and firefox not. Example: (\"10\u670812\u65E5 \u661F\u671F\u516D\")\n      'zh-CN',\n      'zh-Hans',\n      'zh-Hans-CN',\n      'zh-Hans-HK',\n      'zh-Hans-MO',\n      'zh-Hans-SG',\n      // Skip 'zh-Hant' and 'zh-Hant-TW', since webkit/firefox/chromium are aligned.\n      // 'zh-Hant',\n      // 'zh-Hant-TW',\n      'zh-Hant-HK',\n      'zh-Hant-MO',\n    ];\n\n    if (CHINESE_LOCALES.includes(locale)) {\n      return result.replace(' ', '');\n    }\n\n    if ((result.indexOf(',') === -1 && locale === 'en-GB') || locale === 'en-AU') {\n      // Saturday 12 October -> Saturday, 12 October\n      const match = result.match(/^(\\w*) (\\d*) (\\w*)$/);\n      if (match !== null) {\n        return `${match[1]}, ${match[2]} ${match[3]}`;\n      }\n    }\n\n    if (result.indexOf(', ') !== -1 && locale === 'sk-SK') {\n      // sobota, 12. okt\u00F3bra -> sobota 12. okt\u00F3bra\n      return result.replace(', ', ' ');\n    }\n\n    if (locale === 'en-PH') {\n      // Saturday, October 12 -> Saturday, 12 October\n      const match = result.match(/^(\\w*), (\\w*) (\\d*)$/);\n      if (match !== null) {\n        return `${match[1]}, ${match[3]} ${match[2]}`;\n      }\n    }\n\n    if (locale === 'uk-UA') {\n      // \u0441\u0443\u0431\u043E\u0442\u0443 => \u0441\u0443\u0431\u043E\u0442\u0430\n      return result.replace('\u0441\u0443\u0431\u043E\u0442\u0443', '\u0441\u0443\u0431\u043E\u0442\u0430');\n    }\n  } else if (weekday === 'long' && month === 'long' && day === '2-digit') {\n    if (result.indexOf(',') === -1 && locale.startsWith('en-')) {\n      // Saturday 12 October 2023 -> Saturday, 12 October 2023\n      const [, _weekDayName, _monthDayNumber, _monthName, _year] =\n        result.match(/^(\\w*) (\\d*) (\\w*) (\\d*)$/) || [];\n      return `${_weekDayName}, ${_monthDayNumber} ${_monthName} ${_year}`;\n    }\n  }\n\n  return result;\n}\n", "/**\n * @param {string[]} months\n */\nexport function forceShortMonthNamesForEnGb(months) {\n  if (months[8] === 'Sept') {\n    // eslint-disable-next-line no-param-reassign\n    months[8] = 'Sep';\n  }\n  return months;\n}\n", "/**\n * @param {string[]} months\n */\nexport function forceDotsForNlnl(months) {\n  return months.map(m => {\n    if (m !== 'mei' && !m.endsWith('.')) {\n      return `${m}.`;\n    }\n    return m;\n  });\n}\n", "import { normalizeIntlDate } from './utils/normalizeIntlDate.js';\nimport { forceShortMonthNamesForEnGb } from './utils/forceShortMonthNamesForEnGb.js';\nimport { forceDotsForNlnl } from './utils/forceDotsForNlnl.js';\n\n/** @type {Object.<string, Object.<string,string[]>>} */\nconst monthsLocaleCache = {};\n\n/**\n * @desc Returns month names for locale\n * @param {Object} options\n * @param {string} [options.locale] locale\n * @param {\"long\" | \"numeric\" | \"2-digit\" | \"short\" | \"narrow\"} [options.style=long] long, short or narrow\n * @returns {string[]} like: ['January', 'February', ...etc].\n */\nexport function getMonthNames({ locale = 'en-GB', style = 'long' } = {}) {\n  let months = monthsLocaleCache[locale] && monthsLocaleCache[locale][style];\n\n  if (months) {\n    return months;\n  }\n\n  months = [];\n\n  const formatter = new Intl.DateTimeFormat(locale, { month: style });\n  for (let i = 0; i < 12; i += 1) {\n    const date = new Date(2019, i, 1);\n    const formattedDate = formatter.format(date);\n    const normalizedDate = normalizeIntlDate(formattedDate);\n    months.push(normalizedDate);\n  }\n  if (locale === 'en-GB' && style === 'short') {\n    months = forceShortMonthNamesForEnGb(months);\n  } else if (locale === 'nl-NL' && style === 'short') {\n    months = forceDotsForNlnl(months);\n  }\n  monthsLocaleCache[locale] = monthsLocaleCache[locale] || {};\n  monthsLocaleCache[locale][style] = months;\n\n  return months;\n}\n", "import { normalizeIntlDate } from './utils/normalizeIntlDate.js';\n\n/** @type {Object.<string, Object.<string,string[]>>} */\nconst weekdayNamesCache = {};\n\n/**\n * @desc Return cached weekday names for locale for all styles ('long', 'short', 'narrow')\n * @param {string} locale locale\n * @returns {Object.<string,string[]>} - like { long: ['Sunday', 'Monday'...], short: ['Sun', ...], narrow: ['S', ...] }\n */\nfunction getCachedWeekdayNames(locale) {\n  const cachedWeekdayNames = weekdayNamesCache[locale];\n  let weekdays;\n\n  if (cachedWeekdayNames) {\n    return cachedWeekdayNames;\n  }\n\n  weekdayNamesCache[locale] = {\n    long: [],\n    short: [],\n    narrow: [],\n  };\n\n  /** @type {Array<\"long\" | \"short\" | \"narrow\">} style */\n  const styles = ['long', 'short', 'narrow'];\n  styles.forEach(style => {\n    weekdays = weekdayNamesCache[locale][style];\n    const formatter = new Intl.DateTimeFormat(locale, {\n      weekday: style,\n    });\n\n    const date = new Date('2019/04/07'); // start from Sunday\n    for (let i = 0; i < 7; i += 1) {\n      const weekday = formatter.format(date);\n      const normalizedWeekday = normalizeIntlDate(weekday);\n      weekdays.push(normalizedWeekday);\n      date.setDate(date.getDate() + 1);\n    }\n  });\n\n  return weekdayNamesCache[locale];\n}\n\n/**\n * @desc Returns weekday names for locale\n * @param {Object} options\n * @param {string} [options.locale] locale\n * @param {string} [options.style=long] long, short or narrow\n * @param {number} [options.firstDayOfWeek=0] 0 (Sunday), 1 (Monday), etc...\n * @returns {string[]} like: ['Sunday', 'Monday', 'Tuesday', ...etc].\n */\nexport function getWeekdayNames({ locale = 'en-GB', style = 'long', firstDayOfWeek = 0 } = {}) {\n  const weekdays = getCachedWeekdayNames(locale)[style];\n  const orderedWeekdays = [];\n  for (let i = firstDayOfWeek; i < firstDayOfWeek + 7; i += 1) {\n    orderedWeekdays.push(weekdays[i % 7]);\n  }\n  return orderedWeekdays;\n}\n", "/**\n * @desc Makes suitable for date comparisons\n * @param {Date} date\n * @returns {Date}\n */\nexport function normalizeDateTime(date) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n}\n", "/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/**\n * Overview:\n *\n * This module is designed to add support for an async `setValue` API and\n * `disconnected` callback to directives with the least impact on the core\n * runtime or payload when that feature is not used.\n *\n * The strategy is to introduce a `AsyncDirective` subclass of\n * `Directive` that climbs the \"parent\" tree in its constructor to note which\n * branches of lit-html's \"logical tree\" of data structures contain such\n * directives and thus need to be crawled when a subtree is being cleared (or\n * manually disconnected) in order to run the `disconnected` callback.\n *\n * The \"nodes\" of the logical tree include Parts, TemplateInstances (for when a\n * TemplateResult is committed to a value of a ChildPart), and Directives; these\n * all implement a common interface called `DisconnectableChild`. Each has a\n * `_$parent` reference which is set during construction in the core code, and a\n * `_$disconnectableChildren` field which is initially undefined.\n *\n * The sparse tree created by means of the `AsyncDirective` constructor\n * crawling up the `_$parent` tree and placing a `_$disconnectableChildren` Set\n * on each parent that includes each child that contains a\n * `AsyncDirective` directly or transitively via its children. In order to\n * notify connection state changes and disconnect (or reconnect) a tree, the\n * `_$notifyConnectionChanged` API is patched onto ChildParts as a directive\n * climbs the parent tree, which is called by the core when clearing a part if\n * it exists. When called, that method iterates over the sparse tree of\n * Set<DisconnectableChildren> built up by AsyncDirectives, and calls\n * `_$notifyDirectiveConnectionChanged` on any directives that are encountered\n * in that tree, running the required callbacks.\n *\n * A given \"logical tree\" of lit-html data-structures might look like this:\n *\n *  ChildPart(N1) _$dC=[D2,T3]\n *   ._directive\n *     AsyncDirective(D2)\n *   ._value // user value was TemplateResult\n *     TemplateInstance(T3) _$dC=[A4,A6,N10,N12]\n *      ._$parts[]\n *        AttributePart(A4) _$dC=[D5]\n *         ._directives[]\n *           AsyncDirective(D5)\n *        AttributePart(A6) _$dC=[D7,D8]\n *         ._directives[]\n *           AsyncDirective(D7)\n *           Directive(D8) _$dC=[D9]\n *            ._directive\n *              AsyncDirective(D9)\n *        ChildPart(N10) _$dC=[D11]\n *         ._directive\n *           AsyncDirective(D11)\n *         ._value\n *           string\n *        ChildPart(N12) _$dC=[D13,N14,N16]\n *         ._directive\n *           AsyncDirective(D13)\n *         ._value // user value was iterable\n *           Array<ChildPart>\n *             ChildPart(N14) _$dC=[D15]\n *              ._value\n *                string\n *             ChildPart(N16) _$dC=[D17,T18]\n *              ._directive\n *                AsyncDirective(D17)\n *              ._value // user value was TemplateResult\n *                TemplateInstance(T18) _$dC=[A19,A21,N25]\n *                 ._$parts[]\n *                   AttributePart(A19) _$dC=[D20]\n *                    ._directives[]\n *                      AsyncDirective(D20)\n *                   AttributePart(A21) _$dC=[22,23]\n *                    ._directives[]\n *                      AsyncDirective(D22)\n *                      Directive(D23) _$dC=[D24]\n *                       ._directive\n *                         AsyncDirective(D24)\n *                   ChildPart(N25) _$dC=[D26]\n *                    ._directive\n *                      AsyncDirective(D26)\n *                    ._value\n *                      string\n *\n * Example 1: The directive in ChildPart(N12) updates and returns `nothing`. The\n * ChildPart will _clear() itself, and so we need to disconnect the \"value\" of\n * the ChildPart (but not its directive). In this case, when `_clear()` calls\n * `_$notifyConnectionChanged()`, we don't iterate all of the\n * _$disconnectableChildren, rather we do a value-specific disconnection: i.e.\n * since the _value was an Array<ChildPart> (because an iterable had been\n * committed), we iterate the array of ChildParts (N14, N16) and run\n * `setConnected` on them (which does recurse down the full tree of\n * `_$disconnectableChildren` below it, and also removes N14 and N16 from N12's\n * `_$disconnectableChildren`). Once the values have been disconnected, we then\n * check whether the ChildPart(N12)'s list of `_$disconnectableChildren` is empty\n * (and would remove it from its parent TemplateInstance(T3) if so), but since\n * it would still contain its directive D13, it stays in the disconnectable\n * tree.\n *\n * Example 2: In the course of Example 1, `setConnected` will reach\n * ChildPart(N16); in this case the entire part is being disconnected, so we\n * simply iterate all of N16's `_$disconnectableChildren` (D17,T18) and\n * recursively run `setConnected` on them. Note that we only remove children\n * from `_$disconnectableChildren` for the top-level values being disconnected\n * on a clear; doing this bookkeeping lower in the tree is wasteful since it's\n * all being thrown away.\n *\n * Example 3: If the LitElement containing the entire tree above becomes\n * disconnected, it will run `childPart.setConnected()` (which calls\n * `childPart._$notifyConnectionChanged()` if it exists); in this case, we\n * recursively run `setConnected()` over the entire tree, without removing any\n * children from `_$disconnectableChildren`, since this tree is required to\n * re-connect the tree, which does the same operation, simply passing\n * `isConnected: true` down the tree, signaling which callback to run.\n */\n\nimport {AttributePart, ChildPart, Disconnectable, Part} from './lit-html.js';\nimport {isSingleExpression} from './directive-helpers.js';\nimport {Directive, PartInfo, PartType} from './directive.js';\nexport * from './directive.js';\n\nconst DEV_MODE = true;\n\n/**\n * Recursively walks down the tree of Parts/TemplateInstances/Directives to set\n * the connected state of directives and run `disconnected`/ `reconnected`\n * callbacks.\n *\n * @return True if there were children to disconnect; false otherwise\n */\nconst notifyChildrenConnectedChanged = (\n  parent: Disconnectable,\n  isConnected: boolean,\n): boolean => {\n  const children = parent._$disconnectableChildren;\n  if (children === undefined) {\n    return false;\n  }\n  for (const obj of children) {\n    // The existence of `_$notifyDirectiveConnectionChanged` is used as a \"brand\" to\n    // disambiguate AsyncDirectives from other DisconnectableChildren\n    // (as opposed to using an instanceof check to know when to call it); the\n    // redundancy of \"Directive\" in the API name is to avoid conflicting with\n    // `_$notifyConnectionChanged`, which exists `ChildParts` which are also in\n    // this list\n    // Disconnect Directive (and any nested directives contained within)\n    // This property needs to remain unminified.\n    (obj as AsyncDirective)['_$notifyDirectiveConnectionChanged']?.(\n      isConnected,\n      false,\n    );\n    // Disconnect Part/TemplateInstance\n    notifyChildrenConnectedChanged(obj, isConnected);\n  }\n  return true;\n};\n\n/**\n * Removes the given child from its parent list of disconnectable children, and\n * if the parent list becomes empty as a result, removes the parent from its\n * parent, and so forth up the tree when that causes subsequent parent lists to\n * become empty.\n */\nconst removeDisconnectableFromParent = (obj: Disconnectable) => {\n  let parent, children;\n  do {\n    if ((parent = obj._$parent) === undefined) {\n      break;\n    }\n    children = parent._$disconnectableChildren!;\n    children.delete(obj);\n    obj = parent;\n  } while (children?.size === 0);\n};\n\nconst addDisconnectableToParent = (obj: Disconnectable) => {\n  // Climb the parent tree, creating a sparse tree of children needing\n  // disconnection\n  for (let parent; (parent = obj._$parent); obj = parent) {\n    let children = parent._$disconnectableChildren;\n    if (children === undefined) {\n      parent._$disconnectableChildren = children = new Set();\n    } else if (children.has(obj)) {\n      // Once we've reached a parent that already contains this child, we\n      // can short-circuit\n      break;\n    }\n    children.add(obj);\n    installDisconnectAPI(parent);\n  }\n};\n\n/**\n * Changes the parent reference of the ChildPart, and updates the sparse tree of\n * Disconnectable children accordingly.\n *\n * Note, this method will be patched onto ChildPart instances and called from\n * the core code when parts are moved between different parents.\n */\nfunction reparentDisconnectables(this: ChildPart, newParent: Disconnectable) {\n  if (this._$disconnectableChildren !== undefined) {\n    removeDisconnectableFromParent(this);\n    this._$parent = newParent;\n    addDisconnectableToParent(this);\n  } else {\n    this._$parent = newParent;\n  }\n}\n\n/**\n * Sets the connected state on any directives contained within the committed\n * value of this part (i.e. within a TemplateInstance or iterable of\n * ChildParts) and runs their `disconnected`/`reconnected`s, as well as within\n * any directives stored on the ChildPart (when `valueOnly` is false).\n *\n * `isClearingValue` should be passed as `true` on a top-level part that is\n * clearing itself, and not as a result of recursively disconnecting directives\n * as part of a `clear` operation higher up the tree. This both ensures that any\n * directive on this ChildPart that produced a value that caused the clear\n * operation is not disconnected, and also serves as a performance optimization\n * to avoid needless bookkeeping when a subtree is going away; when clearing a\n * subtree, only the top-most part need to remove itself from the parent.\n *\n * `fromPartIndex` is passed only in the case of a partial `_clear` running as a\n * result of truncating an iterable.\n *\n * Note, this method will be patched onto ChildPart instances and called from the\n * core code when parts are cleared or the connection state is changed by the\n * user.\n */\nfunction notifyChildPartConnectedChanged(\n  this: ChildPart,\n  isConnected: boolean,\n  isClearingValue = false,\n  fromPartIndex = 0,\n) {\n  const value = this._$committedValue;\n  const children = this._$disconnectableChildren;\n  if (children === undefined || children.size === 0) {\n    return;\n  }\n  if (isClearingValue) {\n    if (Array.isArray(value)) {\n      // Iterable case: Any ChildParts created by the iterable should be\n      // disconnected and removed from this ChildPart's disconnectable\n      // children (starting at `fromPartIndex` in the case of truncation)\n      for (let i = fromPartIndex; i < value.length; i++) {\n        notifyChildrenConnectedChanged(value[i], false);\n        removeDisconnectableFromParent(value[i]);\n      }\n    } else if (value != null) {\n      // TemplateInstance case: If the value has disconnectable children (will\n      // only be in the case that it is a TemplateInstance), we disconnect it\n      // and remove it from this ChildPart's disconnectable children\n      notifyChildrenConnectedChanged(value as Disconnectable, false);\n      removeDisconnectableFromParent(value as Disconnectable);\n    }\n  } else {\n    notifyChildrenConnectedChanged(this, isConnected);\n  }\n}\n\n/**\n * Patches disconnection API onto ChildParts.\n */\nconst installDisconnectAPI = (obj: Disconnectable) => {\n  if ((obj as ChildPart).type == PartType.CHILD) {\n    (obj as ChildPart)._$notifyConnectionChanged ??=\n      notifyChildPartConnectedChanged;\n    (obj as ChildPart)._$reparentDisconnectables ??= reparentDisconnectables;\n  }\n};\n\n/**\n * An abstract `Directive` base class whose `disconnected` method will be\n * called when the part containing the directive is cleared as a result of\n * re-rendering, or when the user calls `part.setConnected(false)` on\n * a part that was previously rendered containing the directive (as happens\n * when e.g. a LitElement disconnects from the DOM).\n *\n * If `part.setConnected(true)` is subsequently called on a\n * containing part, the directive's `reconnected` method will be called prior\n * to its next `update`/`render` callbacks. When implementing `disconnected`,\n * `reconnected` should also be implemented to be compatible with reconnection.\n *\n * Note that updates may occur while the directive is disconnected. As such,\n * directives should generally check the `this.isConnected` flag during\n * render/update to determine whether it is safe to subscribe to resources\n * that may prevent garbage collection.\n */\nexport abstract class AsyncDirective extends Directive {\n  // As opposed to other Disconnectables, AsyncDirectives always get notified\n  // when the RootPart connection changes, so the public `isConnected`\n  // is a locally stored variable initialized via its part's getter and synced\n  // via `_$notifyDirectiveConnectionChanged`. This is cheaper than using\n  // the _$isConnected getter, which has to look back up the tree each time.\n  /**\n   * The connection state for this Directive.\n   */\n  isConnected!: boolean;\n\n  // @internal\n  override _$disconnectableChildren?: Set<Disconnectable> = undefined;\n  /**\n   * Initialize the part with internal fields\n   * @param part\n   * @param parent\n   * @param attributeIndex\n   */\n  override _$initialize(\n    part: Part,\n    parent: Disconnectable,\n    attributeIndex: number | undefined,\n  ) {\n    super._$initialize(part, parent, attributeIndex);\n    addDisconnectableToParent(this);\n    this.isConnected = part._$isConnected;\n  }\n  // This property needs to remain unminified.\n  /**\n   * Called from the core code when a directive is going away from a part (in\n   * which case `shouldRemoveFromParent` should be true), and from the\n   * `setChildrenConnected` helper function when recursively changing the\n   * connection state of a tree (in which case `shouldRemoveFromParent` should\n   * be false).\n   *\n   * @param isConnected\n   * @param isClearingDirective - True when the directive itself is being\n   *     removed; false when the tree is being disconnected\n   * @internal\n   */\n  override ['_$notifyDirectiveConnectionChanged'](\n    isConnected: boolean,\n    isClearingDirective = true,\n  ) {\n    if (isConnected !== this.isConnected) {\n      this.isConnected = isConnected;\n      if (isConnected) {\n        this.reconnected?.();\n      } else {\n        this.disconnected?.();\n      }\n    }\n    if (isClearingDirective) {\n      notifyChildrenConnectedChanged(this, isConnected);\n      removeDisconnectableFromParent(this);\n    }\n  }\n\n  /**\n   * Sets the value of the directive's Part outside the normal `update`/`render`\n   * lifecycle of a directive.\n   *\n   * This method should not be called synchronously from a directive's `update`\n   * or `render`.\n   *\n   * @param directive The directive to update\n   * @param value The value to set\n   */\n  setValue(value: unknown) {\n    if (isSingleExpression(this.__part as unknown as PartInfo)) {\n      this.__part._$setValue(value, this);\n    } else {\n      // this.__attributeIndex will be defined in this case, but\n      // assert it in dev mode\n      if (DEV_MODE && this.__attributeIndex === undefined) {\n        throw new Error(`Expected this.__attributeIndex to be a number`);\n      }\n      const newValues = [...(this.__part._$committedValue as Array<unknown>)];\n      newValues[this.__attributeIndex!] = value;\n      (this.__part as AttributePart)._$setValue(newValues, this, 0);\n    }\n  }\n\n  /**\n   * User callbacks for implementing logic to release any resources/subscriptions\n   * that may have been retained by this directive. Since directives may also be\n   * re-connected, `reconnected` should also be implemented to restore the\n   * working state of the directive prior to the next render.\n   */\n  protected disconnected() {}\n  protected reconnected() {}\n}\n", "/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n// Note, this module is not included in package exports so that it's private to\n// our first-party directives. If it ends up being useful, we can open it up and\n// export it.\n\n/**\n * Helper to iterate an AsyncIterable in its own closure.\n * @param iterable The iterable to iterate\n * @param callback The callback to call for each value. If the callback returns\n * `false`, the loop will be broken.\n */\nexport const forAwaitOf = async <T>(\n  iterable: AsyncIterable<T>,\n  callback: (value: T) => Promise<boolean>,\n) => {\n  for await (const v of iterable) {\n    if ((await callback(v)) === false) {\n      return;\n    }\n  }\n};\n\n/**\n * Holds a reference to an instance that can be disconnected and reconnected,\n * so that a closure over the ref (e.g. in a then function to a promise) does\n * not strongly hold a ref to the instance. Approximates a WeakRef but must\n * be manually connected & disconnected to the backing instance.\n */\nexport class PseudoWeakRef<T> {\n  private _ref?: T;\n  constructor(ref: T) {\n    this._ref = ref;\n  }\n  /**\n   * Disassociates the ref with the backing instance.\n   */\n  disconnect() {\n    this._ref = undefined;\n  }\n  /**\n   * Reassociates the ref with the backing instance.\n   */\n  reconnect(ref: T) {\n    this._ref = ref;\n  }\n  /**\n   * Retrieves the backing instance (will be undefined when disconnected)\n   */\n  deref() {\n    return this._ref;\n  }\n}\n\n/**\n * A helper to pause and resume waiting on a condition in an async function\n */\nexport class Pauser {\n  private _promise?: Promise<void> = undefined;\n  private _resolve?: () => void = undefined;\n  /**\n   * When paused, returns a promise to be awaited; when unpaused, returns\n   * undefined. Note that in the microtask between the pauser being resumed\n   * an await of this promise resolving, the pauser could be paused again,\n   * hence callers should check the promise in a loop when awaiting.\n   * @returns A promise to be awaited when paused or undefined\n   */\n  get() {\n    return this._promise;\n  }\n  /**\n   * Creates a promise to be awaited\n   */\n  pause() {\n    this._promise ??= new Promise((resolve) => (this._resolve = resolve));\n  }\n  /**\n   * Resolves the promise which may be awaited\n   */\n  resume() {\n    this._resolve?.();\n    this._promise = this._resolve = undefined;\n  }\n}\n", "/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport {Part, noChange} from '../lit-html.js';\nimport {isPrimitive} from '../directive-helpers.js';\nimport {directive, AsyncDirective} from '../async-directive.js';\nimport {Pauser, PseudoWeakRef} from './private-async-helpers.js';\n\nconst isPromise = (x: unknown) => {\n  return !isPrimitive(x) && typeof (x as {then?: unknown}).then === 'function';\n};\n// Effectively infinity, but a SMI.\nconst _infinity = 0x3fffffff;\n\nexport class UntilDirective extends AsyncDirective {\n  private __lastRenderedIndex: number = _infinity;\n  private __values: unknown[] = [];\n  private __weakThis = new PseudoWeakRef(this);\n  private __pauser = new Pauser();\n\n  render(...args: Array<unknown>): unknown {\n    return args.find((x) => !isPromise(x)) ?? noChange;\n  }\n\n  override update(_part: Part, args: Array<unknown>) {\n    const previousValues = this.__values;\n    let previousLength = previousValues.length;\n    this.__values = args;\n\n    const weakThis = this.__weakThis;\n    const pauser = this.__pauser;\n\n    // If our initial render occurs while disconnected, ensure that the pauser\n    // and weakThis are in the disconnected state\n    if (!this.isConnected) {\n      this.disconnected();\n    }\n\n    for (let i = 0; i < args.length; i++) {\n      // If we've rendered a higher-priority value already, stop.\n      if (i > this.__lastRenderedIndex) {\n        break;\n      }\n\n      const value = args[i];\n\n      // Render non-Promise values immediately\n      if (!isPromise(value)) {\n        this.__lastRenderedIndex = i;\n        // Since a lower-priority value will never overwrite a higher-priority\n        // synchronous value, we can stop processing now.\n        return value;\n      }\n\n      // If this is a Promise we've already handled, skip it.\n      if (i < previousLength && value === previousValues[i]) {\n        continue;\n      }\n\n      // We have a Promise that we haven't seen before, so priorities may have\n      // changed. Forget what we rendered before.\n      this.__lastRenderedIndex = _infinity;\n      previousLength = 0;\n\n      // Note, the callback avoids closing over `this` so that the directive\n      // can be gc'ed before the promise resolves; instead `this` is retrieved\n      // from `weakThis`, which can break the hard reference in the closure when\n      // the directive disconnects\n      Promise.resolve(value).then(async (result: unknown) => {\n        // If we're disconnected, wait until we're (maybe) reconnected\n        // The while loop here handles the case that the connection state\n        // thrashes, causing the pauser to resume and then get re-paused\n        while (pauser.get()) {\n          await pauser.get();\n        }\n        // If the callback gets here and there is no `this`, it means that the\n        // directive has been disconnected and garbage collected and we don't\n        // need to do anything else\n        const _this = weakThis.deref();\n        if (_this !== undefined) {\n          const index = _this.__values.indexOf(value);\n          // If state.values doesn't contain the value, we've re-rendered without\n          // the value, so don't render it. Then, only render if the value is\n          // higher-priority than what's already been rendered.\n          if (index > -1 && index < _this.__lastRenderedIndex) {\n            _this.__lastRenderedIndex = index;\n            _this.setValue(result);\n          }\n        }\n      });\n    }\n\n    return noChange;\n  }\n\n  override disconnected() {\n    this.__weakThis.disconnect();\n    this.__pauser.pause();\n  }\n\n  override reconnected() {\n    this.__weakThis.reconnect(this);\n    this.__pauser.resume();\n  }\n}\n\n/**\n * Renders one of a series of values, including Promises, to a Part.\n *\n * Values are rendered in priority order, with the first argument having the\n * highest priority and the last argument having the lowest priority. If a\n * value is a Promise, low-priority values will be rendered until it resolves.\n *\n * The priority of values can be used to create placeholder content for async\n * data. For example, a Promise with pending content can be the first,\n * highest-priority, argument, and a non_promise loading indicator template can\n * be used as the second, lower-priority, argument. The loading indicator will\n * render immediately, and the primary content will render when the Promise\n * resolves.\n *\n * Example:\n *\n * ```js\n * const content = fetch('./content.txt').then(r => r.text());\n * html`${until(content, html`<span>Loading...</span>`)}`\n * ```\n */\nexport const until = directive(UntilDirective);\n\n/**\n * The type of the class that powers this directive. Necessary for naming the\n * directive's return type.\n */\n// export type {UntilDirective};\n", "import { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { nothing } from 'lit';\nimport { until } from 'lit/directives/until.js';\nimport { getLocalizeManager } from './getLocalizeManager.js';\n\n/**\n * @typedef {import('lit/directive.js').DirectiveResult} DirectiveResult\n * @typedef {import('../types/LocalizeMixinTypes.js').LocalizeMixin} LocalizeMixin\n * @typedef {import('../types/LocalizeMixinTypes.js').NamespaceObject} NamespaceObject\n */\n\n/**\n * # LocalizeMixin - for self managed templates\n * @type {LocalizeMixin}\n * @param {import('@open-wc/dedupe-mixin').Constructor<import('lit').LitElement>} superclass\n */\nconst LocalizeMixinImplementation = superclass =>\n  // @ts-ignore https://github.com/microsoft/TypeScript/issues/36821#issuecomment-588375051\n  class LocalizeMixin extends superclass {\n    /**\n     * @returns {NamespaceObject[]}\n     */\n    static get localizeNamespaces() {\n      return [];\n    }\n\n    /**\n     * @returns {boolean}\n     */\n    static get waitForLocalizeNamespaces() {\n      return true;\n    }\n\n    constructor() {\n      super();\n\n      this._localizeManager = getLocalizeManager();\n\n      /** @private */\n      this.__boundLocalizeOnLocaleChanged =\n        /** @param {...Object} args */\n        (...args) => {\n          const event = /** @type {CustomEvent} */ (Array.from(args)[0]);\n          this.__localizeOnLocaleChanged(event);\n        };\n\n      this.__boundLocalizeOnLocaleChanging = () => {\n        this.__localizeOnLocaleChanging();\n      };\n\n      // should be loaded in advance\n      /** @private */\n      this.__localizeStartLoadingNamespaces();\n\n      if (this.localizeNamespacesLoaded) {\n        this.localizeNamespacesLoaded.then(() => {\n          /** @private */\n          this.__localizeMessageSync = true;\n        });\n      }\n    }\n\n    /**\n     * hook into LitElement to only render once all translations are loaded\n     * @returns {Promise.<void>}\n     */\n    async scheduleUpdate() {\n      if (Object.getPrototypeOf(this).constructor.waitForLocalizeNamespaces) {\n        await this.localizeNamespacesLoaded;\n      }\n      super.scheduleUpdate();\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n      if (this.localizeNamespacesLoaded) {\n        this.localizeNamespacesLoaded.then(() => this.onLocaleReady());\n      }\n      this._localizeManager.addEventListener(\n        '__localeChanging',\n        this.__boundLocalizeOnLocaleChanging,\n      );\n      this._localizeManager.addEventListener('localeChanged', this.__boundLocalizeOnLocaleChanged);\n    }\n\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      this._localizeManager.removeEventListener(\n        '__localeChanging',\n        this.__boundLocalizeOnLocaleChanging,\n      );\n      this._localizeManager.removeEventListener(\n        'localeChanged',\n        this.__boundLocalizeOnLocaleChanged,\n      );\n    }\n\n    /**\n     * @param {string | string[]} keys\n     * @param {Object.<string,?>} [variables]\n     * @param {Object} [options]\n     * @param {string} [options.locale]\n     * @returns {string | DirectiveResult}\n     */\n    msgLit(keys, variables, options) {\n      if (this.__localizeMessageSync) {\n        return this._localizeManager.msg(keys, variables, options);\n      }\n\n      if (!this.localizeNamespacesLoaded) {\n        return '';\n      }\n\n      return until(\n        this.localizeNamespacesLoaded.then(() =>\n          this._localizeManager.msg(keys, variables, options),\n        ),\n        nothing,\n      );\n    }\n\n    /**\n     * @returns {NamespaceObject[]}\n     * @private\n     */\n    __getUniqueNamespaces() {\n      /** @type {NamespaceObject[]} */\n      const uniqueNamespaces = [];\n\n      // IE11 does not support iterable in the constructor\n      const s = new Set();\n      Object.getPrototypeOf(this).constructor.localizeNamespaces.forEach(s.add.bind(s));\n      s.forEach(uniqueNamespace => {\n        uniqueNamespaces.push(uniqueNamespace);\n      });\n      return uniqueNamespaces;\n    }\n\n    /** @private */\n    __localizeStartLoadingNamespaces() {\n      this.localizeNamespacesLoaded = this._localizeManager.loadNamespaces(\n        this.__getUniqueNamespaces(),\n      );\n    }\n\n    /**\n     * Start loading namespaces on the event that is sent immediately\n     * when this._localizeManager.locale changes --> 'localeChanging'\n     * @private\n     */\n    __localizeOnLocaleChanging() {\n      this.__localizeStartLoadingNamespaces();\n    }\n\n    /**\n     * @param {CustomEvent} event\n     * @private\n     */\n    __localizeOnLocaleChanged(event) {\n      this.onLocaleChanged(event.detail.newLocale, event.detail.oldLocale);\n    }\n\n    onLocaleReady() {\n      this.onLocaleUpdated();\n    }\n\n    /**\n     * @param {string} newLocale\n     * @param {string} oldLocale\n     */\n    // eslint-disable-next-line no-unused-vars\n    onLocaleChanged(newLocale, oldLocale) {\n      this.onLocaleUpdated();\n      this.requestUpdate();\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    onLocaleUpdated() {}\n  };\n\nexport const LocalizeMixin = dedupeMixin(LocalizeMixinImplementation);\n", "import { css } from 'lit';\n\nexport const calendarStyle = css`\n  :host {\n    display: block;\n  }\n\n  :host([hidden]) {\n    display: none;\n  }\n\n  .calendar {\n    display: block;\n  }\n\n  .calendar__navigation {\n    padding: 0 8px;\n  }\n\n  .calendar__navigation__month,\n  .calendar__navigation__year {\n    display: flex;\n  }\n\n  .calendar__navigation-heading {\n    margin: 0.5em 0;\n  }\n\n  .calendar__previous-button,\n  .calendar__next-button {\n    background-color: #fff;\n    border: 0;\n    padding: 0;\n    min-width: 40px;\n    min-height: 40px;\n  }\n\n  .calendar__grid {\n    width: 100%;\n    padding: 8px 8px;\n  }\n\n  .calendar__weekday-header {\n  }\n\n  .calendar__day-cell {\n    text-align: center;\n  }\n\n  .calendar__day-button {\n    background-color: #fff;\n    border: 0;\n    color: black;\n    padding: 0;\n    min-width: 40px;\n    min-height: 40px;\n    /** give div[role=button][aria-disabled] same display type as native btn */\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    box-sizing: border-box;\n  }\n\n  .calendar__day-button:focus {\n    border: 1px solid blue;\n    outline: none;\n  }\n\n  .calendar__day-button__text {\n    pointer-events: none;\n  }\n\n  .calendar__day-button[today] {\n    text-decoration: underline;\n  }\n\n  .calendar__day-button[selected] {\n    background: #ccc;\n  }\n\n  .calendar__day-button[previous-month],\n  .calendar__day-button[next-month] {\n    color: rgb(115, 115, 115);\n  }\n\n  .calendar__day-button:hover {\n    border: 1px solid green;\n  }\n\n  .calendar__day-button[aria-disabled='true'] {\n    background-color: #fff;\n    color: #eee;\n    outline: none;\n  }\n\n  .u-sr-only {\n    position: absolute;\n    top: 0;\n    width: 1px;\n    height: 1px;\n    overflow: hidden;\n    clip-path: inset(100%);\n    clip: rect(1px, 1px, 1px, 1px);\n    white-space: nowrap;\n    border: 0;\n    margin: 0;\n    padding: 0;\n  }\n`;\n", "/**\n * @param {Date} date,\n * @returns {import('../../types/day.js').Day} day\n */\nexport function createDay(\n  date = new Date(),\n  {\n    weekOrder = 0,\n    central = false,\n    startOfWeek = false,\n    selected = false,\n    previousMonth = false,\n    currentMonth = false,\n    nextMonth = false,\n    past = false,\n    today = false,\n    future = false,\n    disabled = false,\n    disabledInfo = '',\n  } = {},\n) {\n  return {\n    weekOrder,\n    central,\n    date,\n    startOfWeek,\n    selected,\n    previousMonth,\n    currentMonth,\n    nextMonth,\n    past,\n    today,\n    future,\n    disabled,\n    tabindex: '-1',\n    ariaPressed: 'false',\n    ariaCurrent: undefined,\n    disabledInfo,\n  };\n}\n", "import { createDay } from './createDay.js';\n\n/**\n * @param {Date} date\n * @param {Object} opts\n * @param {number} [opts.firstDayOfWeek]\n * @returns {import('../../types/day.js').Week}\n */\nexport function createWeek(date, { firstDayOfWeek = 0 } = {}) {\n  if (Object.prototype.toString.call(date) !== '[object Date]') {\n    throw new Error('invalid date provided');\n  }\n  let weekStartDate = new Date(date);\n\n  const tmpDate = new Date(date);\n  while (tmpDate.getDay() !== firstDayOfWeek) {\n    tmpDate.setDate(tmpDate.getDate() - 1);\n    weekStartDate = new Date(tmpDate);\n  }\n\n  const week = {\n    /** @type {import('../../types/day.js').Day[]} */\n    days: [],\n  };\n  for (let i = 0; i < 7; i += 1) {\n    if (i !== 0) {\n      weekStartDate.setDate(weekStartDate.getDate() + 1);\n    }\n    week.days.push(\n      createDay(new Date(weekStartDate), {\n        weekOrder: i,\n        startOfWeek: i === 0,\n      }),\n    );\n  }\n  return week;\n}\n", "import { createWeek } from './createWeek.js';\n\n/**\n *\n * @param {Date} date\n * @param {Object} opts\n * @param {number} [opts.firstDayOfWeek]\n * @returns {import('../../types/day.js').Month}\n */\nexport function createMonth(date, { firstDayOfWeek = 0 } = {}) {\n  if (Object.prototype.toString.call(date) !== '[object Date]') {\n    throw new Error('invalid date provided');\n  }\n  const firstDayOfMonth = new Date(date);\n  firstDayOfMonth.setDate(1);\n  const weekOptions = { firstDayOfWeek };\n\n  const month = {\n    /** @type {{days: import('../../types/day.js').Day[]}[]} */\n    weeks: [],\n  };\n\n  let nextWeek = createWeek(firstDayOfMonth, weekOptions);\n  do {\n    month.weeks.push(nextWeek);\n    const firstDayOfNextWeek = new Date(nextWeek.days[6].date); // last day of current week\n    firstDayOfNextWeek.setDate(firstDayOfNextWeek.getDate() + 1); // make it first day of next week\n    nextWeek = createWeek(firstDayOfNextWeek, weekOptions);\n  } while (month.weeks.length !== 6);\n\n  return month;\n}\n", "import { createMonth } from './createMonth.js';\n\n/**\n *\n * @param {Date} date\n * @return {{months: import('../../types/day.js').Month[]}}\n */\nexport function createMultipleMonth(\n  date,\n  { firstDayOfWeek = 0, pastMonths = 0, futureMonths = 0 } = {},\n) {\n  const multipleMonths = {\n    /** @type {{weeks: {days: import('../../types/day.js').Day[]}[]}[]} */\n    months: [],\n  };\n\n  for (let i = pastMonths; i > 0; i -= 1) {\n    const pastDate = new Date(date);\n    pastDate.setMonth(pastDate.getMonth() - i);\n    multipleMonths.months.push(createMonth(pastDate, { firstDayOfWeek }));\n  }\n\n  multipleMonths.months.push(createMonth(date, { firstDayOfWeek }));\n\n  for (let i = 0; i < futureMonths; i += 1) {\n    const futureDate = new Date(date);\n    futureDate.setMonth(futureDate.getMonth() + (i + 1));\n    multipleMonths.months.push(createMonth(futureDate, { firstDayOfWeek }));\n  }\n\n  return multipleMonths;\n}\n", "export const defaultMonthLabels = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n];\n\n/**\n * @param {import('../../types/day.js').Day} day\n * @param {string[]} weekdays\n * @param {string[] } monthsLabels\n */\nexport function getDayMonthYear(day, weekdays, monthsLabels = defaultMonthLabels) {\n  const dayNumber = day.date.getDate();\n  const monthName = monthsLabels[day.date.getMonth()];\n  const year = day.date.getFullYear();\n  const weekdayName = day.weekOrder ? weekdays[day.weekOrder] : weekdays[0];\n\n  return { dayNumber, monthName, year, weekdayName };\n}\n", "import { html } from 'lit';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { defaultMonthLabels, getDayMonthYear } from './getDayMonthYear.js';\n\nconst firstWeekDays = [1, 2, 3, 4, 5, 6, 7];\nconst lastDaysOfYear = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n/**\n *\n * @param {import('../../types/day.js').Day} day\n * @param {{ weekdays: string[], monthsLabels?: string[] }} opts\n */\nexport function dayTemplate(day, { weekdays, monthsLabels = defaultMonthLabels }) {\n  const { dayNumber, monthName, year, weekdayName } = getDayMonthYear(day, weekdays, monthsLabels);\n\n  function __getFullDate() {\n    return `${monthName} ${year} ${weekdayName}`;\n  }\n\n  function __getAccessibleMessage() {\n    return `${day.disabledInfo}`;\n  }\n\n  const firstDay = dayNumber === 1;\n  const endOfFirstWeek = day.weekOrder === 6 && firstWeekDays.includes(dayNumber);\n  const startOfFirstFullWeek = day.startOfWeek && firstWeekDays.includes(dayNumber);\n\n  if (year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0)) {\n    lastDaysOfYear[1] = 29;\n  }\n  const lastDayNumber = lastDaysOfYear[day.date.getMonth()];\n  const lastWeekDays = [];\n  for (let i = lastDayNumber; i >= lastDayNumber - 7; i -= 1) {\n    lastWeekDays.push(i);\n  }\n  const endOfLastFullWeek = day.weekOrder === 6 && lastWeekDays.includes(dayNumber);\n  const startOfLastWeek = day.startOfWeek && lastWeekDays.includes(dayNumber);\n  const lastDay = lastDayNumber === dayNumber;\n\n  return html`\n    <td\n      role=\"gridcell\"\n      class=\"calendar__day-cell\"\n      ?current-month=${day.currentMonth}\n      ?first-day=${firstDay}\n      ?end-of-first-week=${endOfFirstWeek}\n      ?start-of-first-full-week=${startOfFirstFullWeek}\n      ?end-of-last-full-week=${endOfLastFullWeek}\n      ?start-of-last-week=${startOfLastWeek}\n      ?last-day=${lastDay}\n    >\n      <div\n        role=\"button\"\n        .date=${day.date}\n        class=\"calendar__day-button\"\n        tabindex=${ifDefined(day.tabindex)}\n        aria-pressed=${ifDefined(day.ariaPressed)}\n        aria-current=${ifDefined(day.ariaCurrent)}\n        aria-disabled=${day.disabled ? 'true' : 'false'}\n        ?selected=${day.selected}\n        ?past=${day.past}\n        ?today=${day.today}\n        ?future=${day.future}\n        ?previous-month=${day.previousMonth}\n        ?current-month=${day.currentMonth}\n        ?next-month=${day.nextMonth}\n      >\n        <span class=\"calendar__day-button__text\">${dayNumber}</span>\n        <span class=\"u-sr-only\">${__getFullDate()} ${__getAccessibleMessage()}</span>\n      </div>\n    </td>\n  `;\n}\n", "import { html } from 'lit';\nimport { dayTemplate as defaultDayTemplate } from './dayTemplate.js';\n\n/**\n * @param {{months: {weeks: {days: import('../../types/day.js').Day[]}[]}[]}} data\n * @param {{ weekdaysShort: string[], weekdays: string[], monthsLabels?: string[], dayTemplate?: (day: import('../../types/day.js').Day, { weekdays, monthsLabels }?: any) => import('lit').TemplateResult }} opts\n */\nexport function dataTemplate(\n  data,\n  { weekdaysShort, weekdays, monthsLabels, dayTemplate = defaultDayTemplate },\n) {\n  return html`\n    <div id=\"js-content-wrapper\">\n      ${data.months.map(\n        month => html`\n          <table\n            role=\"grid\"\n            data-wrap-cols\n            aria-readonly=\"true\"\n            class=\"calendar__grid\"\n            aria-labelledby=\"month year\"\n          >\n            <thead>\n              <tr role=\"row\">\n                ${weekdaysShort.map(\n                  (header, i) => html`\n                    <th\n                      role=\"columnheader\"\n                      class=\"calendar__weekday-header\"\n                      scope=\"col\"\n                      aria-label=\"${weekdays[i]}\"\n                    >\n                      ${header}\n                    </th>\n                  `,\n                )}\n              </tr>\n            </thead>\n            <tbody>\n              ${month.weeks.map(\n                week => html`\n                  <tr role=\"row\">\n                    ${week.days.map(day =>\n                      dayTemplate(day, { weekdaysShort, weekdays, monthsLabels }),\n                    )}\n                  </tr>\n                `,\n              )}\n            </tbody>\n          </table>\n        `,\n      )}\n    </div>\n  `;\n}\n", "/**\n * Gives the first day of the next month\n *\n * @param {Date} date\n *\n * @returns {Date}\n */\nexport function getFirstDayNextMonth(date) {\n  const result = new Date(date);\n  result.setDate(1);\n  result.setMonth(date.getMonth() + 1);\n  return result;\n}\n", "/**\n * Gives the last day of the previous month\n *\n * @param {Date} date\n *\n * @returns {Date}\n */\nexport function getLastDayPreviousMonth(date) {\n  const previous = new Date(date);\n  previous.setDate(0);\n  return new Date(previous);\n}\n", "/* eslint-disable import/no-extraneous-dependencies */\nimport { html, LitElement } from 'lit';\nimport {\n  getMonthNames,\n  getWeekdayNames,\n  LocalizeMixin,\n  normalizeDateTime,\n} from '@lion/ui/localize-no-side-effects.js';\n\nimport { calendarStyle } from './calendarStyle.js';\nimport { createDay } from './utils/createDay.js';\nimport { createMultipleMonth } from './utils/createMultipleMonth.js';\nimport { dataTemplate } from './utils/dataTemplate.js';\nimport { dayTemplate } from './utils/dayTemplate.js';\nimport { getFirstDayNextMonth } from './utils/getFirstDayNextMonth.js';\nimport { getLastDayPreviousMonth } from './utils/getLastDayPreviousMonth.js';\nimport { isSameDate } from './utils/isSameDate.js';\nimport { getDayMonthYear } from './utils/getDayMonthYear.js';\n\n/**\n * @typedef {import('../types/day.js').Day} Day\n * @typedef {import('../types/day.js').Week} Week\n * @typedef {import('../types/day.js').Month} Month\n */\n\nconst isDayButton = /** @param {HTMLElement} el */ el =>\n  el.classList.contains('calendar__day-button');\n\n/**\n * @param {HTMLElement} el\n * @returns {boolean}\n */\nfunction isDisabledDayButton(el) {\n  return el.getAttribute('aria-disabled') === 'true';\n}\n\n/**\n * @customElement lion-calendar\n */\nexport class LionCalendar extends LocalizeMixin(LitElement) {\n  static get localizeNamespaces() {\n    return [\n      {\n        'lion-calendar': /** @param {string} locale */ locale => {\n          switch (locale) {\n            case 'bg-BG':\n            case 'bg':\n              return import('@lion/ui/calendar-translations/bg.js');\n            case 'cs-CZ':\n            case 'cs':\n              return import('@lion/ui/calendar-translations/cs.js');\n            case 'de-AT':\n            case 'de-DE':\n            case 'de':\n              return import('@lion/ui/calendar-translations/de.js');\n            case 'en-AU':\n            case 'en-GB':\n            case 'en-PH':\n            case 'en-US':\n            case 'en':\n              return import('@lion/ui/calendar-translations/en.js');\n            case 'es-ES':\n            case 'es':\n              return import('@lion/ui/calendar-translations/es.js');\n            case 'fr-FR':\n            case 'fr-BE':\n            case 'fr':\n              return import('@lion/ui/calendar-translations/fr.js');\n            case 'hu-HU':\n            case 'hu':\n              return import('@lion/ui/calendar-translations/hu.js');\n            case 'it-IT':\n            case 'it':\n              return import('@lion/ui/calendar-translations/it.js');\n            case 'nl-BE':\n            case 'nl-NL':\n            case 'nl':\n              return import('@lion/ui/calendar-translations/nl.js');\n            case 'pl-PL':\n            case 'pl':\n              return import('@lion/ui/calendar-translations/pl.js');\n            case 'ro-RO':\n            case 'ro':\n              return import('@lion/ui/calendar-translations/ro.js');\n            case 'ru-RU':\n            case 'ru':\n              return import('@lion/ui/calendar-translations/ru.js');\n            case 'sk-SK':\n            case 'sk':\n              return import('@lion/ui/calendar-translations/sk.js');\n            case 'uk-UA':\n            case 'uk':\n              return import('@lion/ui/calendar-translations/uk.js');\n            case 'zh-CN':\n            case 'zh':\n              return import('@lion/ui/calendar-translations/zh.js');\n            default:\n              return import('@lion/ui/calendar-translations/en.js');\n          }\n        },\n      },\n      ...super.localizeNamespaces,\n    ];\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Minimum date. All dates before will be disabled\n       */\n      minDate: { attribute: false },\n\n      /**\n       * Maximum date. All dates after will be disabled\n       */\n      maxDate: { attribute: false },\n\n      /**\n       * Disable certain dates\n       */\n      disableDates: { attribute: false },\n\n      /**\n       * The selected date, usually synchronized with datepicker-input\n       * Not to be confused with the focused date (therefore not necessarily in active month view)\n       */\n      selectedDate: { attribute: false },\n\n      /**\n       * The date that\n       * 1. determines the currently visible month\n       * 2. will be focused when the month grid gets focused by the keyboard\n       */\n      centralDate: { attribute: false },\n\n      /**\n       * Weekday that will be displayed in first column of month grid.\n       * 0: sunday, 1: monday, 2: tuesday, 3: wednesday , 4: thursday, 5: friday, 6: saturday\n       * Default is 0\n       */\n      firstDayOfWeek: { attribute: false },\n\n      /**\n       * Weekday header notation, based on Intl DatetimeFormat:\n       * - 'long' (e.g., Thursday)\n       * - 'short' (e.g., Thu)\n       * - 'narrow' (e.g., T).\n       * Default is 'short'\n       */\n      weekdayHeaderNotation: { attribute: false },\n\n      /**\n       * Different locale for this component scope\n       */\n      locale: { attribute: false },\n\n      /**\n       * The currently focused date (if any)\n       */\n      __focusedDate: { attribute: false },\n\n      /**\n       * Data to render current month grid\n       */\n      __data: { attribute: false },\n    };\n  }\n\n  constructor() {\n    super();\n    /** @type {{months: Month[]}}\n     * @private\n     */\n    this.__data = { months: [] };\n    this.minDate = new Date(0);\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date\n    this.maxDate = new Date(8640000000000000);\n    /** @param {Day} day */\n    this.dayPreprocessor = day => day;\n\n    /** @param {Date} day */\n    // eslint-disable-next-line no-unused-vars\n    this.disableDates = day => false;\n\n    this.firstDayOfWeek = 0;\n    this.weekdayHeaderNotation = 'short';\n    /** @private */\n    this.__today = normalizeDateTime(new Date());\n    /** @type {Date} */\n    this.centralDate = this.__today;\n    /**\n     * @type {Date | null}\n     * @private\n     */\n    this.__focusedDate = null;\n    /** @private */\n    this.__connectedCallbackDone = false;\n    /** @private */\n    this.__eventsAdded = false;\n    this.locale = '';\n    /** @private */\n    this.__boundKeyboardNavigationEvent = this.__keyboardNavigationEvent.bind(this);\n    /** @private */\n    this.__boundClickDateDelegation = this.__clickDateDelegation.bind(this);\n    /** @private */\n    this.__boundFocusDateDelegation = this.__focusDateDelegation.bind(this);\n    /** @private */\n    this.__boundBlurDateDelegation = this.__focusDateDelegation.bind(this);\n  }\n\n  static get styles() {\n    return [calendarStyle];\n  }\n\n  render() {\n    return html`\n      <div class=\"calendar\" role=\"application\">\n        ${this.__renderNavigation()} ${this.__renderData()}\n      </div>\n    `;\n  }\n\n  get focusedDate() {\n    return this.__focusedDate;\n  }\n\n  goToNextMonth() {\n    this.__modifyDate(1, { dateType: 'centralDate', type: 'Month' });\n  }\n\n  goToPreviousMonth() {\n    this.__modifyDate(-1, { dateType: 'centralDate', type: 'Month' });\n  }\n\n  goToNextYear() {\n    this.__modifyDate(1, { dateType: 'centralDate', type: 'FullYear' });\n  }\n\n  goToPreviousYear() {\n    this.__modifyDate(-1, { dateType: 'centralDate', type: 'FullYear' });\n  }\n\n  /**\n   * @param {Date} date\n   */\n  async focusDate(date) {\n    this.centralDate = date;\n    await this.updateComplete;\n    this.focusCentralDate();\n  }\n\n  focusCentralDate() {\n    const datesTable = /** @type {HTMLElement} */ (\n      this.shadowRoot?.querySelector('#js-content-wrapper')\n    );\n    const button = /** @type {HTMLElement} */ (datesTable.querySelector('[tabindex=\"0\"]'));\n    button.focus();\n    this.__focusedDate = this.centralDate;\n  }\n\n  async focusSelectedDate() {\n    if (this.selectedDate) {\n      await this.focusDate(this.selectedDate);\n    }\n  }\n\n  async connectedCallback() {\n    // eslint-disable-next-line wc/guard-super-call\n    super.connectedCallback();\n\n    this.__connectedCallbackDone = true;\n\n    /**\n     * This logic needs to happen on firstUpdated, but every time the DOM node is moved as well\n     * since firstUpdated only runs once, this logic is moved here, but after updateComplete\n     * this acts as a firstUpdated that runs on every reconnect as well\n     */\n    await this.updateComplete;\n\n    /**\n     * Flow goes like:\n     * 1) first connectedCallback before updateComplete\n     * 2) disconnectedCallback\n     * 3) second connectedCallback before updateComplete\n     * 4) first connectedCallback after updateComplete\n     * 5) second connectedCallback after updateComplete\n     *\n     * The __eventsAdded property tracks whether events are added / removed and here\n     * we can guard against adding events twice\n     */\n    if (!this.__eventsAdded) {\n      this.__contentWrapperElement = /** @type {HTMLButtonElement} */ (\n        this.shadowRoot?.getElementById('js-content-wrapper')\n      );\n      this.__contentWrapperElement.addEventListener('click', this.__boundClickDateDelegation);\n      this.__contentWrapperElement.addEventListener('focus', this.__boundFocusDateDelegation);\n      this.__contentWrapperElement.addEventListener('blur', this.__boundBlurDateDelegation);\n      this.__contentWrapperElement.addEventListener('keydown', this.__boundKeyboardNavigationEvent);\n      this.__eventsAdded = true;\n    }\n  }\n\n  firstUpdated() {\n    this.__calculateInitialCentralDate();\n\n    // setup data for initial render\n    this.__data = this.__createData();\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this.__contentWrapperElement) {\n      this.__contentWrapperElement.removeEventListener('click', this.__boundClickDateDelegation);\n      this.__contentWrapperElement.removeEventListener('focus', this.__boundFocusDateDelegation);\n      this.__contentWrapperElement.removeEventListener('blur', this.__boundBlurDateDelegation);\n      this.__contentWrapperElement.removeEventListener(\n        'keydown',\n        this.__boundKeyboardNavigationEvent,\n      );\n\n      this.__eventsAdded = false;\n    }\n  }\n\n  /** @param {import('lit').PropertyValues } changedProperties */\n  updated(changedProperties) {\n    super.updated(changedProperties);\n    if (changedProperties.has('__focusedDate') && this.__focusedDate) {\n      this.focusCentralDate();\n    }\n  }\n\n  /**\n   * @param {string} [name]\n   * @param {unknown} [oldValue]\n   * @param {import('lit').PropertyDeclaration} [options]\n   * @returns {void}\n   */\n  requestUpdate(name, oldValue, options) {\n    super.requestUpdate(name, oldValue, options);\n\n    if (name === undefined) {\n      return;\n    }\n\n    if (name === '__focusedDate') {\n      this.__focusedDateChanged();\n    }\n\n    const updateDataOn = ['centralDate', 'minDate', 'maxDate', 'selectedDate', 'disableDates'];\n\n    if (updateDataOn.includes(name) && this.__connectedCallbackDone) {\n      this.__data = this.__createData();\n    }\n  }\n\n  /**\n   * This exposes an interface for datepickers that want to\n   * reinitialize when calendar is opened\n   */\n  initCentralDate() {\n    if (this.selectedDate) {\n      this.focusSelectedDate();\n    } else {\n      this.centralDate = /** @type {Date} */ (this.__initialCentralDate);\n      this.focusCentralDate();\n    }\n  }\n\n  /**\n   * @private\n   */\n  __calculateInitialCentralDate() {\n    if (this.centralDate === this.__today && this.selectedDate) {\n      // initialized with selectedDate only if user didn't provide another one\n      this.centralDate = this.selectedDate;\n    } else if (!this.__isEnabledDate(this.centralDate)) {\n      this.centralDate = this.findNearestEnabledDate(this.centralDate);\n    }\n    /** @type {Date} */\n    this.__initialCentralDate = this.centralDate;\n  }\n\n  /**\n   * @param {string} month\n   * @param {number} year\n   * @private\n   */\n  __renderMonthNavigation(month, year) {\n    const nextMonth =\n      this.centralDate.getMonth() === 11\n        ? getMonthNames({ locale: this.__getLocale() })[0]\n        : getMonthNames({ locale: this.__getLocale() })[this.centralDate.getMonth() + 1];\n    const previousMonth =\n      this.centralDate.getMonth() === 0\n        ? getMonthNames({ locale: this.__getLocale() })[11]\n        : getMonthNames({ locale: this.__getLocale() })[this.centralDate.getMonth() - 1];\n    const nextYear = this.centralDate.getMonth() === 11 ? year + 1 : year;\n    const previousYear = this.centralDate.getMonth() === 0 ? year - 1 : year;\n    return html`\n      <div class=\"calendar__navigation__month\">\n        ${this.__renderPreviousButton('Month', previousMonth, previousYear)}\n        <h2 class=\"calendar__navigation-heading\" id=\"month\" aria-atomic=\"true\">${month}</h2>\n        ${this.__renderNextButton('Month', nextMonth, nextYear)}\n      </div>\n    `;\n  }\n\n  /**\n   * @param {string} month\n   * @param {number} year\n   * @private\n   */\n  __renderYearNavigation(month, year) {\n    const nextYear = year + 1;\n    const previousYear = year - 1;\n\n    return html`\n      <div class=\"calendar__navigation__year\">\n        ${this.__renderPreviousButton('FullYear', month, previousYear)}\n        <h2 class=\"calendar__navigation-heading\" id=\"year\" aria-atomic=\"true\">${year}</h2>\n        ${this.__renderNextButton('FullYear', month, nextYear)}\n      </div>\n    `;\n  }\n\n  /**\n   * @private\n   */\n  __renderNavigation() {\n    const month = getMonthNames({ locale: this.__getLocale() })[this.centralDate.getMonth()];\n    const year = this.centralDate.getFullYear();\n    return html`\n      <div class=\"calendar__navigation\">\n        ${this.__renderYearNavigation(month, year)} ${this.__renderMonthNavigation(month, year)}\n      </div>\n    `;\n  }\n\n  /**\n   * @private\n   */\n  __renderData() {\n    return dataTemplate(this.__data, {\n      monthsLabels: getMonthNames({ locale: this.__getLocale() }),\n      weekdaysShort: getWeekdayNames({\n        locale: this.__getLocale(),\n        style: this.weekdayHeaderNotation,\n        firstDayOfWeek: this.firstDayOfWeek,\n      }),\n      weekdays: getWeekdayNames({\n        locale: this.__getLocale(),\n        style: 'long',\n        firstDayOfWeek: this.firstDayOfWeek,\n      }),\n      dayTemplate,\n    });\n  }\n\n  /**\n   * @param {string} type\n   * @param {string} previousMonth\n   * @param {number} previousYear\n   * @private\n   */\n  __getPreviousDisabled(type, previousMonth, previousYear) {\n    let disabled;\n    let month = previousMonth;\n    if (this.minDate && type === 'Month') {\n      disabled = getLastDayPreviousMonth(this.centralDate) < this.minDate;\n    } else if (this.minDate) {\n      disabled = previousYear < this.minDate.getFullYear();\n    }\n    if (!disabled && this.minDate && type === 'FullYear') {\n      // change the month to the first available month\n      if (previousYear === this.minDate.getFullYear()) {\n        if (this.centralDate.getMonth() < this.minDate.getMonth()) {\n          month = getMonthNames({ locale: this.__getLocale() })[this.minDate.getMonth()];\n        }\n      }\n    }\n    return { disabled, month };\n  }\n\n  /**\n   * @param {string} type\n   * @param {string} nextMonth\n   * @param {number} nextYear\n   * @private\n   */\n  __getNextDisabled(type, nextMonth, nextYear) {\n    let disabled;\n    let month = nextMonth;\n    if (this.maxDate && type === 'Month') {\n      disabled = getFirstDayNextMonth(this.centralDate) > this.maxDate;\n    } else if (this.maxDate) {\n      disabled = nextYear > this.maxDate.getFullYear();\n    }\n    if (!disabled && this.maxDate && type === 'FullYear') {\n      // change the month to the first available month\n      if (nextYear === this.maxDate.getFullYear()) {\n        if (this.centralDate.getMonth() >= this.maxDate.getMonth()) {\n          month = getMonthNames({ locale: this.__getLocale() })[this.maxDate.getMonth()];\n        }\n      }\n    }\n    return { disabled, month };\n  }\n\n  /**\n   * @param {string} type\n   * @param {string} previousMonth\n   * @param {number} previousYear\n   * @protected\n   */\n  // TODO: rename to _previousButtonTemplate in v1. Also see: https://github.com/ing-bank/lion/discussions/591\n  __renderPreviousButton(type, previousMonth, previousYear) {\n    const { disabled, month } = this.__getPreviousDisabled(type, previousMonth, previousYear);\n    const previousButtonTitle = this.__getNavigationLabel('previous', type, month, previousYear);\n    const clickDateDelegation = () => {\n      if (type === 'FullYear') {\n        this.goToPreviousYear();\n      } else {\n        this.goToPreviousMonth();\n      }\n    };\n\n    return html`\n      <button\n        class=\"calendar__previous-button\"\n        aria-label=${previousButtonTitle}\n        title=${previousButtonTitle}\n        @click=${clickDateDelegation}\n        ?disabled=${disabled}\n      >\n        ${this._previousIconTemplate()}\n      </button>\n    `;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  _previousIconTemplate() {\n    return html`&lt;`;\n  }\n\n  /**\n   * @param {string} type\n   * @param {string} nextMonth\n   * @param {number} nextYear\n   * @protected\n   */\n  // TODO: rename to _nextButtonTemplate in v1. Also see: https://github.com/ing-bank/lion/discussions/591\n  __renderNextButton(type, nextMonth, nextYear) {\n    const { disabled, month } = this.__getNextDisabled(type, nextMonth, nextYear);\n    const nextButtonTitle = this.__getNavigationLabel('next', type, month, nextYear);\n    const clickDateDelegation = () => {\n      if (type === 'FullYear') {\n        this.goToNextYear();\n      } else {\n        this.goToNextMonth();\n      }\n    };\n\n    return html`\n      <button\n        class=\"calendar__next-button\"\n        aria-label=${nextButtonTitle}\n        title=${nextButtonTitle}\n        @click=${clickDateDelegation}\n        ?disabled=${disabled}\n      >\n        ${this._nextIconTemplate()}\n      </button>\n    `;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  _nextIconTemplate() {\n    return html`&gt;`;\n  }\n\n  /**\n   *\n   * @param {string} mode\n   * @param {string} type\n   * @param {string} month\n   * @param {number} year\n   * @private\n   */\n  __getNavigationLabel(mode, type, month, year) {\n    return `${this.msgLit(`lion-calendar:${mode}${type}`)}, ${month} ${year}`;\n  }\n\n  /**\n   *\n   * @private\n   */\n  __getSelectableDateRange() {\n    const newMinDate = createDay(new Date(this.minDate));\n    const newMaxDate = createDay(new Date(this.maxDate));\n\n    const getSelectableDate = (/** @type {import(\"../types/day.js\").Day} */ date) => {\n      const { dayNumber, monthName, year } = getDayMonthYear(\n        date,\n        getWeekdayNames({\n          locale: this.__getLocale(),\n          style: 'long',\n          firstDayOfWeek: this.firstDayOfWeek,\n        }),\n      );\n      return `${dayNumber} ${monthName} ${year}`;\n    };\n\n    const earliestSelectableDate = getSelectableDate(newMinDate);\n    const latestSelectableDate = getSelectableDate(newMaxDate);\n\n    return {\n      earliestSelectableDate,\n      latestSelectableDate,\n    };\n  }\n\n  /**\n   *\n   * @param {Day} _day\n   * @param {*} param1\n   * @private\n   */\n  __coreDayPreprocessor(_day, { currentMonth = false } = {}) {\n    const day = createDay(new Date(_day.date), _day);\n    const today = normalizeDateTime(new Date());\n    day.central = isSameDate(day.date, this.centralDate);\n    const dayYearMonth = `${day.date.getFullYear()}${`0${day.date.getMonth() + 1}`.slice(-2)}`;\n    const currentYearMonth =\n      currentMonth && `${currentMonth.getFullYear()}${`0${currentMonth.getMonth() + 1}`.slice(-2)}`;\n    day.previousMonth = currentMonth && dayYearMonth < currentYearMonth;\n    day.currentMonth = currentMonth && dayYearMonth === currentYearMonth;\n    day.nextMonth = currentMonth && dayYearMonth > currentYearMonth;\n    day.selected = this.selectedDate ? isSameDate(day.date, this.selectedDate) : false;\n    day.past = day.date < today;\n    day.today = isSameDate(day.date, today);\n    day.future = day.date > today;\n    day.disabled = this.disableDates(day.date);\n    day.tabindex = day.central ? '0' : '-1';\n    day.ariaPressed = day.selected ? 'true' : 'false';\n    day.ariaCurrent = day.today ? 'date' : undefined;\n    day.disabledInfo = '';\n\n    if (this.minDate && normalizeDateTime(day.date) < normalizeDateTime(this.minDate)) {\n      day.disabled = true;\n      // TODO: turn this into a translated string\n      day.disabledInfo = `This date is unavailable. Earliest date to select is ${\n        this.__getSelectableDateRange().earliestSelectableDate\n      }. Please select another date.`;\n    }\n\n    if (this.maxDate && normalizeDateTime(day.date) > normalizeDateTime(this.maxDate)) {\n      day.disabled = true;\n      // TODO: turn this into a translated string\n      day.disabledInfo = `This date is unavailable. Latest date to select is ${\n        this.__getSelectableDateRange().latestSelectableDate\n      }. Please select another date.`;\n    }\n\n    if (day.disabled) {\n      // TODO: turn this into a translated string\n      day.disabledInfo = `This date is unavailable. Please select another date`;\n    }\n\n    return this.dayPreprocessor(day);\n  }\n\n  /**\n   * @param {Day} [options]\n   * @private\n   */\n  __createData(options) {\n    const data = createMultipleMonth(this.centralDate, {\n      firstDayOfWeek: this.firstDayOfWeek,\n      ...options,\n    });\n    data.months.forEach((month, monthi) => {\n      month.weeks.forEach((week, weeki) => {\n        week.days.forEach((day, dayi) => {\n          // eslint-disable-next-line no-unused-vars\n          const currentDay = data.months[monthi].weeks[weeki].days[dayi];\n          const currentMonth = data.months[monthi].weeks[0].days[6].date;\n          data.months[monthi].weeks[weeki].days[dayi] = this.__coreDayPreprocessor(currentDay, {\n            currentMonth,\n          });\n        });\n      });\n    });\n    return data;\n  }\n\n  /**\n   * @param {Date} selectedDate\n   * @private\n   */\n  __dateSelectedByUser(selectedDate) {\n    this.selectedDate = selectedDate;\n    this.__focusedDate = selectedDate;\n    this.dispatchEvent(\n      new CustomEvent('user-selected-date-changed', {\n        detail: {\n          selectedDate,\n        },\n      }),\n    );\n  }\n\n  /**\n   * @private\n   */\n  __focusedDateChanged() {\n    if (this.__focusedDate) {\n      this.centralDate = this.__focusedDate;\n    }\n  }\n\n  /**\n   * @param {Date} [date]\n   * @returns\n   */\n  findNextEnabledDate(date) {\n    const _date = date || this.centralDate;\n    return this.__findBestEnabledDateFor(_date, { mode: 'future' });\n  }\n\n  /**\n   * @param {Date} [date]\n   * @returns\n   */\n  findPreviousEnabledDate(date) {\n    const _date = date || this.centralDate;\n    return this.__findBestEnabledDateFor(_date, { mode: 'past' });\n  }\n\n  /**\n   * @param {Date} [date]\n   * @returns\n   */\n  findNearestEnabledDate(date) {\n    const _date = date || this.centralDate;\n    return this.__findBestEnabledDateFor(_date, { mode: 'both' });\n  }\n\n  /**\n   * @param {Date} date\n   * @private\n   */\n  __isEnabledDate(date) {\n    const processedDay = this.__coreDayPreprocessor({ date });\n    return !processedDay.disabled;\n  }\n\n  /**\n   * @param {Date} date\n   * @param {Object} opts\n   * @param {String} [opts.mode] Find best date in `future/past/both`\n   * @private\n   */\n  __findBestEnabledDateFor(date, { mode = 'both' } = {}) {\n    const futureDate =\n      this.minDate && this.minDate > date ? new Date(this.minDate) : new Date(date);\n    const pastDate = this.maxDate && this.maxDate < date ? new Date(this.maxDate) : new Date(date);\n\n    if (this.minDate && this.minDate > date) {\n      futureDate.setDate(futureDate.getDate() - 1);\n    }\n    if (this.maxDate && this.maxDate < date) {\n      pastDate.setDate(pastDate.getDate() + 1);\n    }\n\n    let i = 0;\n    do {\n      i += 1;\n      if (mode === 'both' || mode === 'future') {\n        futureDate.setDate(futureDate.getDate() + 1);\n        if (this.__isEnabledDate(futureDate)) {\n          return futureDate;\n        }\n      }\n      if (mode === 'both' || mode === 'past') {\n        pastDate.setDate(pastDate.getDate() - 1);\n        if (this.__isEnabledDate(pastDate)) {\n          return pastDate;\n        }\n      }\n    } while (i < 750); // 2 years+\n\n    const year = date.getFullYear();\n    const month = date.getMonth() + 1;\n    const day = date.getDate();\n    throw new Error(\n      `Could not find a selectable date within +/- 750 day for ${year}/${month}/${day}`,\n    );\n  }\n\n  /**\n   * @param {Event} ev\n   * @private\n   */\n  __clickDateDelegation(ev) {\n    const el = /** @type {HTMLElement & { date: Date }} */ (ev.composedPath()[0]);\n    if (isDayButton(el) && !isDisabledDayButton(el)) {\n      this.__dateSelectedByUser(el.date);\n    }\n  }\n\n  /**\n   * @private\n   */\n  __focusDateDelegation() {\n    if (\n      !this.__focusedDate &&\n      isDayButton(/** @type {HTMLElement} el */ (this.shadowRoot?.activeElement))\n    ) {\n      this.__focusedDate = /** @type {HTMLButtonElement & { date: Date }} */ (\n        this.shadowRoot?.activeElement\n      )?.date;\n    }\n  }\n\n  /**\n   * @private\n   */\n  __blurDateDelegation() {\n    setTimeout(() => {\n      if (\n        this.shadowRoot?.activeElement &&\n        !isDayButton(/** @type {HTMLElement} el */ (this.shadowRoot?.activeElement))\n      ) {\n        this.__focusedDate = null;\n      }\n    }, 1);\n  }\n\n  /**\n   * @param {HTMLElement & { date: Date }} el\n   * @private\n   */\n  __dayButtonSelection(el) {\n    if (isDayButton(el) && !isDisabledDayButton(el)) {\n      this.__dateSelectedByUser(el.date);\n    }\n  }\n\n  /**\n   * @param {KeyboardEvent} ev\n   * @private\n   */\n  __keyboardNavigationEvent(ev) {\n    const preventedKeys = [\n      'ArrowLeft',\n      'ArrowUp',\n      'ArrowRight',\n      'ArrowDown',\n      'PageDown',\n      'PageUp',\n      ' ',\n      'Enter',\n    ];\n\n    if (preventedKeys.includes(ev.key)) {\n      ev.preventDefault();\n    }\n\n    switch (ev.key) {\n      case ' ':\n      case 'Enter':\n        this.__dayButtonSelection(\n          /** @type {HTMLElement & { date: Date }} */ (ev.composedPath()[0]),\n        );\n        break;\n      case 'ArrowUp':\n        this.__modifyDate(-7, { dateType: '__focusedDate', type: 'Date' });\n        break;\n      case 'ArrowDown':\n        this.__modifyDate(7, { dateType: '__focusedDate', type: 'Date' });\n        break;\n      case 'ArrowLeft':\n        this.__modifyDate(-1, { dateType: '__focusedDate', type: 'Date' });\n        break;\n      case 'ArrowRight':\n        this.__modifyDate(1, { dateType: '__focusedDate', type: 'Date' });\n        break;\n      case 'PageDown':\n        if (ev.altKey === true) {\n          this.__modifyDate(1, { dateType: '__focusedDate', type: 'FullYear' });\n        } else {\n          this.__modifyDate(1, { dateType: '__focusedDate', type: 'Month' });\n        }\n        break;\n      case 'PageUp':\n        if (ev.altKey === true) {\n          this.__modifyDate(-1, { dateType: '__focusedDate', type: 'FullYear' });\n        } else {\n          this.__modifyDate(-1, { dateType: '__focusedDate', type: 'Month' });\n        }\n        break;\n      case 'Tab':\n        this.__focusedDate = null;\n        break;\n      // no default\n    }\n  }\n\n  /**\n   *\n   * @param {number} modify\n   * @param {Object} opts\n   * @param {string} opts.dateType\n   * @param {string} opts.type\n   * @private\n   */\n  __modifyDate(modify, { dateType, type }) {\n    const tmpDate = new Date(this.centralDate);\n    // if we're not working with days, reset\n    // day count to first day of the month\n    if (type !== 'Date') {\n      tmpDate.setDate(1);\n    }\n    tmpDate[`set${type}`](tmpDate[`get${type}`]() + modify);\n    // if we've reset the day count,\n    // restore day count as best we can\n    if (type !== 'Date') {\n      const maxDays = new Date(tmpDate.getFullYear(), tmpDate.getMonth() + 1, 0).getDate();\n      tmpDate.setDate(Math.min(this.centralDate.getDate(), maxDays));\n    }\n    this[dateType] = tmpDate;\n  }\n\n  /**\n   * @private\n   */\n  __getLocale() {\n    return this.locale || this._localizeManager.locale;\n  }\n}\n", "import { css } from \"lit\";\n\nexport const calendarStyles = css`\n  .calendar-msg {\n    color: var(--infoBanner-color);\n    background-color: var(--infoBanner-bgcolor);\n    padding: 4px;\n  }\n\n  #site-filter {\n    margin-bottom: 12px;\n  }\n\n  .calendar__navigation {\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n  }\n\n  .calendar__navigation-heading {\n    font-size: 22px;\n  }\n\n  .calendar__navigation__year, .calendar__navigation__month {\n    display: inline-flex;\n  }\n\n  .calendar__next-button, .calendar__previous-button {\n    min-width: 25px;\n    min-height: 25px;\n    font-size: 20px;\n    font-weight: bold;\n    background: var(--sakai-background-color);\n    color: var(--link-color);\n    cursor: pointer;\n  }\n\n  .sakai-calendar__navigation__today > div {\n    max-width: fit-content;\n    margin-left: auto;\n    margin-right: auto;\n  }\n\n  .sakai-calendar__navigation__today > div > a {\n    font-weight: bold;\n    text-decoration: none;\n    color: var(--link-color);\n  }\n\n  #add-block {\n    flex: 3;\n    text-align: right;\n    margin-bottom: 10px;\n  }\n  sakai-icon[type=\"add\"] {\n      color: var(--sakai-color-green);\n    }\n\n  .sakai-event {\n    font-size: 14px;\n  }\n\n  .deadline {\n    background-color: var(--sakai-calendar-deadline-background-color);\n  }\n\n  #days-events {\n    margin-top: 10px;\n  }\n  \n  #days-events sakai-icon {\n    margin-right: 10px;\n  }\n  \n  #days-events-title {\n    font-weight: bold;\n    margin-bottom: 10px;\n  }\n  \n  #days-events a {\n    color: var(--sakai-text-color);\n    text-decoration: none;\n  }\n\n  .calendar__previous-month-button,\n  .calendar__next-month-button,\n  .calendar__day-button {\n    background-color: var(--sakai-background-color);\n    font-weight: bold;\n    color: var(--sakai-calendar-button-color);\n  }\n\n  .has-events, .has-events[next-month] {\n    background-color: var(--sakai-calendar-has-events-bg-color);\n    color: var(--sakai-calendar-has-events-fg-color);\n    border-radius: 50%;\n  }\n\n  .has-events[today] {\n    background-color: var(--sakai-color-gold--lighter-7);\n    color: var(--sakai-color-gold--darker-6);\n  }\n\n  .has-events[selected] {\n    color: black;\n  }\n\n  .calendar__day-button:hover {\n    border-color: var(--sakai-border-color);\n  }\n\n  a {\n    text-decoration: none;\n    color: var(--link-color);\n  }\n\n  .calendar__day-button[disabled] {\n    background-color: var(--sakai-calendar-button-disabled-background-color, #fff);\n    color: var(--sakai-text-color-disabled, #eee);\n  }\n`;\n", "import { SakaiShadowElement } from \"@sakai-ui/sakai-element\";\nimport { html } from \"lit\";\n\nexport class SakaiSitePicker extends SakaiShadowElement {\n\n  static properties = {\n\n    sites: { type: Array },\n    siteId: { attribute: \"site-id\", type: String },\n    userId: { attribute: \"user-id\", type: String },\n    multiple: { type: Boolean },\n    selectedSites: { attribute: \"selected-sites\", type: Array },\n    _i18n: { state: true },\n  };\n\n  constructor() {\n\n    super();\n\n    this.loadTranslations(\"site-picker\").then(t => this._i18n = t);\n  }\n\n  connectedCallback() {\n\n    super.connectedCallback();\n\n    if (this.userId && !this.sites) {\n\n      const url = `/api/users/${this.userId}/sites?pinned=true`;\n      fetch(url, { credentials: \"same-origin\" })\n        .then(r => {\n\n          if (r.ok) {\n            return r.json();\n          }\n          throw new Error(`Network error while retrieving sites from ${url}`);\n        })\n        .then(data => {\n\n          this.sites = this.whitelist ? data.sites.filter(s => this.whitelist.includes(s.siteId)) : data.sites;\n          this.requestUpdate();\n        })\n        .catch(error => console.error(error));\n    }\n  }\n\n  _siteChanged(e) {\n\n    const sites = this.multiple ? Array.from(e.target.selectedOptions).map(o => o.value) : e.target.value;\n    this.dispatchEvent(new CustomEvent(\"sites-selected\", { detail: { value: sites }, bubbles: true }));\n  }\n\n  shouldUpdate() {\n    return this._i18n && this.sites;\n  }\n\n  firstUpdated() {\n\n    if (this.multiple) {\n      this.querySelector(`option[value='${SakaiSitePicker.ALL}']`).selected = false;\n    }\n  }\n\n  render() {\n\n    return html`\n      <select aria-label=\"${this._i18n.site_selector_label}\" @change=${this._siteChanged} ?multiple=${this.multiple}>\n        <option value=\"all\" ?selected=${!this.selectedSites}>${this._i18n.all_pinned_sites}</option>\n        ${this.sites.map(s => html`\n          <option value=\"${s.siteId}\" ?selected=${this.siteId === s.siteId || (this.selectedSites?.includes(s.siteId))}>${s.title}</option>\n        `)}\n      </select>\n    `;\n  }\n}\n\nSakaiSitePicker.ALL = \"all\";\n", "import { SakaiSitePicker } from './src/SakaiSitePicker.js';\n\n!customElements.get(\"sakai-site-picker\") && customElements.define('sakai-site-picker', SakaiSitePicker);\n", "import { html, nothing } from \"lit\";\nimport { LionCalendar } from \"@lion/ui/calendar.js\";\nimport \"@sakai-ui/sakai-icon\";\nimport { loadProperties } from \"@sakai-ui/sakai-i18n\";\nimport { calendarStyles } from \"./calendar-styles.js\";\nimport { SakaiSitePicker } from \"@sakai-ui/sakai-site-picker\";\nimport \"@sakai-ui/sakai-site-picker/sakai-site-picker.js\";\n\nexport class SakaiCalendar extends LionCalendar {\n\n  static properties = {\n\n    userId: { attribute: \"user-id\", type: String },\n    siteId: { attribute: \"site-id\", type: String },\n    defer: { type: Boolean },\n    _i18n: { state: true },\n    _daysEvents: { state: true },\n    _events: { state: true },\n  };\n\n  constructor() {\n\n    super();\n\n    this.addEventListener(\"user-selected-date-changed\", event => {\n      this._setDaysEvents(event.detail.selectedDate.getTime());\n    });\n\n    loadProperties(\"calendar-wc\").then(r => this._i18n = r);\n  }\n\n  connectedCallback() {\n\n    super.connectedCallback();\n\n    if (!this.defer) this.loadData();\n  }\n\n  _setDaysEvents(time) {\n    this._daysEvents = this._events.filter(e => e.start > time && e.start < (time + 24 * 60 * 60 * 1000));\n  }\n\n  loadData() {\n\n    const url = this.siteId\n      ? `/api/sites/${this.siteId}/calendar` : \"/api/users/current/calendar\";\n\n    fetch(url, { cache: \"no-cache\", credentials: \"same-origin\" })\n    .then(r => {\n\n      if (r.ok) {\n        return r.json();\n      }\n\n      throw new Error(`Network error while retrieving calendar events from ${url}`);\n    })\n    .then(data => {\n\n      this._allEvents = data.events;\n      this._events = data.events;\n      if (!this.siteId) {\n        this._sites = data.events.reduce((acc, e) => {\n          if (e.siteId && !acc.some(a => a.siteId === e.siteId)) acc.push({ siteId: e.siteId, title: e.siteTitle });\n          return acc;\n        }, []);\n      }\n\n      this.renderRoot.querySelector(\".calendar__day-button[today]\")?.click();\n    })\n    .catch (error => console.error(error));\n  }\n\n  _filter() {\n\n    if (!this._currentFilter) return;\n\n    this._events = [ ... this._allEvents ];\n\n    if (this._currentFilter === \"sites\" && this._selectedSite !== SakaiSitePicker.ALL) {\n      this._events = [ ...this._events.filter(e => this._selectedSite === e.siteId) ];\n    }\n  }\n\n  _siteSelected(e) {\n\n    this._selectedSite = e.detail.value;\n    this._currentFilter = \"sites\";\n    this._filter();\n  }\n\n  _todayClicked() {\n\n    this.selectedDate = null;\n    this.initCentralDate();\n\n    this.updateComplete.then(() => {\n\n      this.renderRoot.querySelector(\".calendar__day-button[today]\")?.click();\n      this._setDaysEvents(new Date().setHours(0, 0, 0, 0));\n    });\n\n  }\n\n  update(changedProperties) {\n\n    super.update(changedProperties);\n\n    this.renderRoot.querySelectorAll(\".calendar__day-button,.calendar__day-button[today]\").forEach(c => {\n\n      c.classList.remove(\"has-events\");\n      c.classList.remove(\"deadline\");\n\n      if (c.date && this._events) {\n        const time = c.date.getTime();\n\n        const matchingEvent = this._events.find(e => e.start > time && e.start < (time + 24 * 60 * 60 * 1000));\n        if (matchingEvent) {\n          c.classList.add(\"has-events\");\n          if (matchingEvent.type === \"deadline\") {\n            c.classList.add(\"deadline\");\n          }\n        }\n      }\n    });\n  }\n\n  // Override lion-calendar's function\n  __renderNavigation() {\n\n    return html`\n      ${super.__renderNavigation()}\n      <div class=\"sakai-calendar__navigation__today\">\n        <div>\n          <a id=\"today-button\" href=\"javascript:;\" @click=${this._todayClicked}>${this._i18n.today}</a>\n        </div>\n      </div>\n    `;\n  }\n\n  render() {\n\n    return html`\n      ${!this.siteId ? html`\n      <div id=\"site-filter\">\n        <sakai-site-picker\n            .sites=${this._sites}\n            @sites-selected=${this._siteSelected}>\n        </sakai-site-picker>\n      </div>\n      ` : nothing}\n\n      <div class=\"calendar-msg\">${this._i18n.pinned_sites_message}</div>\n\n      <div id=\"container\">\n        ${super.render()}\n        ${this._daysEvents?.length > 0 ? html`\n        <div id=\"days-events\">\n          <div id=\"days-events-title\">\n            ${this._i18n.events_for} ${new Date(this._daysEvents[0].start).toLocaleDateString(undefined, { dateStyle: \"medium\" })}\n          </div>\n          ${this._daysEvents.map(e => html`\n            <div>\n              <a href=\"${e.url}\">\n                <sakai-icon type=\"${e.tool}\" size=\"small\"></sakai-icon>\n                <span>${e.title}</span><span> (${e.siteTitle})</span>\n              </a>\n            </div>\n          `)}\n        </div>\n        ` : nothing}\n      </div>\n    `;\n  }\n\n  static styles = [\n    LionCalendar.styles,\n    calendarStyles,\n  ];\n}\n", "import { SakaiPager } from \"./src/SakaiPager.js\";\n\n!customElements.get(\"sakai-pager\") && customElements.define(\"sakai-pager\", SakaiPager);\n", "import { css, html, nothing } from \"lit\";\nimport { SakaiShadowElement } from \"@sakai-ui/sakai-element\";\nimport \"@sakai-ui/sakai-pager/sakai-pager.js\";\nimport { loadProperties } from \"@sakai-ui/sakai-i18n\";\n\nexport class SakaiPageableElement extends SakaiShadowElement {\n\n  static properties = {\n\n    siteId: { attribute: \"site-id\", type: String },\n    userId: { attribute: \"user-id\", type: String },\n    dataPage: { type: Array },\n    showPager: { type: Boolean },\n    defer: { type: Boolean },\n  };\n\n  constructor() {\n\n    super();\n\n    this.count = 0;\n    this.pageSize = 5;\n    this.currentPage = 1;\n    this.allDataAtOnce = true;\n  }\n\n  connectedCallback() {\n\n    super.connectedCallback();\n\n    if (!this.defer) {\n      this.loadData();\n    }\n  }\n\n  loadTranslations(options) {\n    return loadProperties(options);\n  }\n\n  loadData() {\n\n    if (this.allDataAtOnce) {\n      this.loadAllData().then(() => {\n\n        this.count = Math.ceil(this.data.length / this.pageSize);\n        this._loadDataPage(1);\n      });\n    } else {\n      this._loadDataPage(1);\n    }\n  }\n\n  async loadAllData() {}\n\n  _loadDataPage(page) {\n\n    if (!this.data) {\n      this.loadAllData();\n    } else {\n      this.currentPage = page;\n      this.repage();\n    }\n  }\n\n  pageClicked(e) {\n    this._loadDataPage(e.detail.page);\n  }\n\n  // Override this method in components that extend SakaiPageableElement to apply custom data filtering before re-paging.\n  getFilteredDataBeforeRepaging() {\n    return this.data;\n  }\n\n  repage() {\n\n    const start = (this.currentPage - 1) * this.pageSize;\n    const end = start + this.pageSize;\n    const filteredData = this.getFilteredDataBeforeRepaging();\n    this.dataPage = filteredData.slice(start, end);\n    this.count = Math.ceil(filteredData.length / this.pageSize);\n    this.requestUpdate();\n  }\n\n  content() {}\n\n  shouldUpdate() {\n    return this.dataPage;\n  }\n\n  render() {\n\n    return html`\n      <div id=\"wrapper\">\n        <div id=\"content\">${this.content()}</div>\n        ${this.showPager ? html`\n        <div id=\"pager\">\n          <sakai-pager count=\"${this.count}\" current=\"1\" @page-selected=${this.pageClicked}></sakai-pager>\n        </div>\n        ` : nothing}\n      </div>\n    `;\n  }\n\n  static styles = [\n    SakaiShadowElement.styles,\n    css`\n    #wrapper {\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      padding-bottom: 0;\n    }\n\n      #topbar {\n        display: flex;\n        margin-top: 8px;\n        margin-bottom: 20px;\n      }\n\n      #content {\n        background-color: var(--sakai-dashboard-widget-bg-color, white);\n        padding-bottom: 0;\n      }\n\n      #pager {\n        margin-top: auto;\n      }\n    `\n  ];\n}\n", "export const ASSIGNMENT_A_TO_Z = \"assignment_a_to_z\";\nexport const ASSIGNMENT_Z_TO_A = \"assignment_z_to_a\";\nexport const COURSE_A_TO_Z = \"course_a_to_z\";\nexport const COURSE_Z_TO_A = \"course_z_to_a\";\nexport const NEW_HIGH_TO_LOW = \"new_high_to_low\";\nexport const NEW_LOW_TO_HIGH = \"new_low_to_high\";\nexport const AVG_LOW_TO_HIGH = \"average_low_to_high\";\nexport const AVG_HIGH_TO_LOW = \"average_high_to_low\";\n", "import { css, html, nothing } from \"lit\";\nimport \"@sakai-ui/sakai-icon\";\nimport { SakaiPageableElement } from \"@sakai-ui/sakai-pageable-element\";\nimport { SakaiSitePicker } from \"@sakai-ui/sakai-site-picker\";\nimport \"@sakai-ui/sakai-site-picker/sakai-site-picker.js\";\nimport { ASSIGNMENT_A_TO_Z, ASSIGNMENT_Z_TO_A, COURSE_A_TO_Z\n  , COURSE_Z_TO_A, NEW_HIGH_TO_LOW, NEW_LOW_TO_HIGH\n  , AVG_LOW_TO_HIGH, AVG_HIGH_TO_LOW } from \"./sakai-grades-constants.js\";\n\nexport class SakaiGrades extends SakaiPageableElement {\n\n  static properties = {\n    secret: { type: Boolean },\n    _i18n: { state: true },\n  };\n\n  constructor() {\n\n    super();\n\n    this.showPager = true;\n    this.loadTranslations(\"grades\").then(r => this._i18n = r);\n  }\n\n  async loadAllData() {\n\n    const url = this.siteId ? `/api/sites/${this.siteId}/grades`\n      : \"/api/users/me/grades\";\n    return fetch(url)\n      .then(r => {\n\n        if (r.ok) {\n          return r.json();\n        }\n\n        throw new Error(`Failed to get grades from ${url}`);\n      })\n      .then(data => {\n\n        this.sites = [];\n        const done = [];\n        data.forEach(g => {\n\n          if (!done.includes(g.siteId)) {\n            this.sites.push({ siteId: g.siteId, title: g.siteTitle });\n            done.push(g.siteId);\n          }\n        });\n\n        this.data = data;\n        this._allData = data;\n        this.sortChanged({ target: { value: NEW_LOW_TO_HIGH } });\n      })\n      .catch (error => console.error(error));\n  }\n\n  sortChanged(e) {\n\n    switch (e.target.value) {\n      case ASSIGNMENT_A_TO_Z:\n        this.data.sort((g1, g2) => g1.name.localeCompare(g2.name));\n        break;\n      case ASSIGNMENT_Z_TO_A:\n        this.data.sort((g1, g2) => g2.name.localeCompare(g1.name));\n        break;\n      case COURSE_A_TO_Z:\n        this.data.sort((g1, g2) => g1.siteTitle.localeCompare(g2.siteTitle));\n        break;\n      case COURSE_Z_TO_A:\n        this.data.sort((g1, g2) => g2.siteTitle.localeCompare(g1.siteTitle));\n        break;\n      case NEW_HIGH_TO_LOW:\n        this.data.sort((g1, g2) => g2.ungraded - g1.ungraded);\n        break;\n      case NEW_LOW_TO_HIGH:\n        this.data.sort((g1, g2) => g1.ungraded - g2.ungraded);\n        break;\n      case AVG_LOW_TO_HIGH:\n        this.data.sort((g1, g2) => {\n          if (g1.notGradedYet) return 1;\n          else if (g2.notGradedYet) return -1;\n          return g1.score - g2.score;\n        });\n        break;\n      case AVG_HIGH_TO_LOW:\n        this.data.sort((g1, g2) => g2.score - g1.score);\n        break;\n      default:\n        break;\n    }\n\n    this.repage();\n  }\n\n  _filter() {\n\n    this.data = [ ... this._allData ];\n\n    if (this._currentFilter === \"sites\" && this._selectedSites !== SakaiSitePicker.ALL) {\n      this.data = [ ...this.data.filter(g => this._selectedSites.includes(g.siteId)) ];\n    }\n\n    this.repage();\n  }\n\n  _sitesSelected(e) {\n\n    this._selectedSites = e.detail.value;\n    this._currentFilter = \"sites\";\n    this._filter();\n  }\n\n  firstUpdated() {\n\n    if (this.secret) {\n      const gradesDiv = this.shadowRoot.getElementById(\"grades\");\n      gradesDiv.addEventListener(\"click\", () => {\n        this.secret = false;\n      }, { once: true });\n    }\n  }\n\n  shouldUpdate(changedProperties) {\n    return this._i18n && super.shouldUpdate(changedProperties);\n  }\n\n  content() {\n\n    return html`\n      ${!this.siteId ? html`\n      <div id=\"site-filter\">\n        <sakai-site-picker\n            .sites=${this.sites}\n            @sites-selected=${this._sitesSelected}>\n        </sakai-site-picker>\n      </div>\n      ` : nothing}\n      ${this.secret ? html `\n      <div class=\"score-msg\">${this._i18n.score_reveal_msg}</div>\n      ` : nothing}\n      <div id=\"topbar\">\n        <div id=\"filter\">\n          <select @change=${this.sortChanged}\n              title=\"${this._i18n.sort_tooltip}\"\n              aria-label=\"${this._i18n.sort_tooltip}\">\n            <option value=\"${NEW_LOW_TO_HIGH}\">${this._i18n.sort_new_low_to_high}</option>\n            <option value=\"${NEW_HIGH_TO_LOW}\">${this._i18n.sort_new_high_to_low}</option>\n            <option value=\"${AVG_LOW_TO_HIGH}\">${this._i18n.sort_average_low_to_high}</option>\n            <option value=\"${AVG_HIGH_TO_LOW}\">${this._i18n.sort_average_high_to_low}</option>\n            <option value=\"${ASSIGNMENT_A_TO_Z}\">${this._i18n.sort_assignment_a_to_z}</option>\n            <option value=\"${ASSIGNMENT_Z_TO_A}\">${this._i18n.sort_assignment_z_to_a}</option>\n            ${this.siteId ? \"\" : html`\n            <option value=\"${COURSE_A_TO_Z}\">${this._i18n.sort_course_a_to_z}</option>\n            <option value=\"${COURSE_Z_TO_A}\">${this._i18n.sort_course_z_to_a}</option>\n            `}\n          </select>\n        </div>\n      </div>\n\n      <div id=\"grades\" aria-live=\"polite\">\n        <div class=\"header\">${this._i18n.course_assignment}</div>\n        <div class=\"header score\">${this._i18n.score}</div>\n        <div class=\"header\">${this._i18n.view}</div>\n        ${this.dataPage.map((a, i) => html`\n        <div class=\"assignment cell ${i % 2 === 0 ? \"even\" : \"odd\"}\">\n          ${a.siteRole === \"Instructor\" ? html`\n          <div class=\"new-count\">${a.ungraded} ${this._i18n.new_submissions}</div>\n          ` : nothing}\n          ${this.siteId ? html`\n          <div class=\"title\">${a.name}</div>\n          ` : html`\n          <div class=\"course title\">${a.siteTitle} / ${a.name}</div>\n          `}\n        </div>\n        <div class=\"score cell ${i % 2 === 0 ? \"even\" : \"odd\"}${this.secret ? \" blurred\" : \"\"}\" aria-hidden=\"${this.secret ? \"true\" : \"false\"}\">\n            ${a.notGradedYet ? \"-\" : a.score} ${!a.notGradedYet && a.siteRole === \"Instructor\" ? html`${this._i18n.course_average}` : nothing}\n        </div>\n        <div class=\"next cell ${i % 2 === 0 ? \"even\" : \"odd\"}\">\n          <a href=\"${a.url}\"\n              aria-label=\"${this._i18n.url_tooltip}\"\n              title=\"${this._i18n.url_tooltip}\">\n            <sakai-icon type=\"right\" size=\"small\">\n              aria-label=\"${this._i18n.url_tooltip}\"\n              title=\"${this._i18n.url_tooltip}\">\n            </sakai-icon>\n          </a>\n        </div>\n        `)}\n      </div>\n    `;\n  }\n\n  static styles = [\n\n    SakaiPageableElement.styles,\n    css`\n      a {\n        color: var(--link-color);\n      }\n      a:hover { \n        color: var(--link-hover-color);\n      }\n      a:active {\n        color: var(--link-active-color);\n      }\n      a:visited {\n        color: var(--link-visited-color);\n      }\n      #total {\n        flex: 1;\n        margin-bottom: 10px;\n        font-style: italic;\n        font-weight: bold;\n        font-size: var(--sakai-grades-title-font-size, 12px);\n        margin-left: 18px;\n      }\n      #filter {\n        flex: 1;\n        text-align: right;\n      }\n\n      #site-filter {\n        margin-bottom: 12px;\n      }\n\n      #grades {\n        display:grid;\n        grid-template-columns: 4fr 2fr 0fr;\n        grid-auto-rows: minmax(10px, auto);\n      }\n\n        #grades > div:nth-child(-n+3) {\n          padding-bottom: 14px;\n        }\n        .header {\n          display: flex;\n          font-weight: bold;\n          padding: 0 5px 0 5px;\n        }\n        .assignment {\n          padding: 8px;\n        }\n        .cell {\n          padding: 8px;\n          font-size: var(--sakai-grades-title-font-size, 12px);\n        }\n        .new-count {\n          font-size: var(--sakai-grades-count-font-size, 10px);\n          font-weight: bold;\n          color: var(--sakai-text-color-dimmed, #262626);\n        }\n        .title {\n          font-size: var(--sakai-grades-title-font-size, 12px);\n        }\n        .score {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        .score-msg {\n          text-align: center;\n          color: red;\n          background-color: var(--sakai-background-color-2);\n        }\n        .even {\n          background-color: var(--sakai-table-even-color);\n        }\n        .next {\n          display: flex;\n          justify-content: right;\n          align-items: center;\n        }\n        .blurred {\n          filter: blur(3px);\n        }\n    `,\n  ];\n}\n"],
  "mappings": "oWAQO,SAASA,GAAWC,EAAMC,EAAM,CACrC,OACED,aAAgB,MAChBC,aAAgB,MAChBD,EAAK,QAAQ,IAAMC,EAAK,QAAQ,GAChCD,EAAK,SAAS,IAAMC,EAAK,SAAS,GAClCD,EAAK,YAAY,IAAMC,EAAK,YAAY,CAE5C,CChBA,SAASC,GAAqBC,EAAIC,EAAQ,CACzC,OAAOA,EAAS,CAAE,QAAS,CAAC,CAAE,EAAGD,EAAGC,EAAQA,EAAO,OAAO,EAAGA,EAAO,OACrE,CAGA,IAAIC,EAAO,OACPC,EAAQ,QACRC,GAAS,SACTC,EAAU,UACVC,EAAW,UAKXC,EAAuB,CACzB,OAAQ,CACN,QAAS,CACP,MAAO,SACT,EACA,QAAS,CACP,MAAO,UACP,sBAAuB,CACzB,EACA,SAAU,CACR,MAAO,WACP,SAAU,KACZ,EACA,QAAS,CACP,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,CACF,EACA,KAAM,CACJ,MAAO,CACL,MAAOF,EACP,IAAKA,EACL,KAAMC,CACR,EACA,OAAQ,CACN,MAAOH,EACP,IAAKE,EACL,KAAMA,CACR,EACA,KAAM,CACJ,MAAOH,EACP,IAAKG,EACL,KAAMA,CACR,EACA,KAAM,CACJ,MAAOH,EACP,IAAKG,EACL,KAAMA,EACN,QAASH,CACX,EACA,QAAS,CACP,MAAOC,EACP,IAAKE,EACL,KAAMA,CACR,CACF,EACA,KAAM,CACJ,MAAO,CACL,KAAMA,EACN,OAAQA,CACV,EACA,OAAQ,CACN,KAAMA,EACN,OAAQA,EACR,OAAQA,CACV,EACA,KAAM,CACJ,KAAMA,EACN,OAAQA,EACR,OAAQA,EACR,aAAcF,CAChB,EACA,KAAM,CACJ,KAAME,EACN,OAAQA,EACR,OAAQA,EACR,aAAcF,CAChB,EACA,QAAS,CACP,KAAME,EACN,OAAQA,EACR,OAAQA,CACV,CACF,EACA,SAAU,CACR,QAAS,CACP,MAAO,CACL,qBAAsB,EACtB,sBAAuB,CACzB,EACA,QAAS,CACP,qBAAsB,EACtB,sBAAuB,CACzB,EACA,QAAS,CACP,qBAAsB,EACtB,sBAAuB,CACzB,CACF,CACF,EACA,mBAAoB,SAAUG,EAAuB,CACnD,GAAKA,EACL,KAAIC,EAAU,CAAC,EACXC,EAAWF,EAAQ,MAAM,eAAe,EACxCG,EAAOH,EAAQ,QAAQ,QAAS,EAAE,EAAE,OASxC,GARI,CAACG,GAAQD,IAAUC,EAAO,GAC1BA,GACFF,EAAQ,MAAQ,WAChBA,EAAQ,gBAAkBE,IAAS,EAAI,SAAWA,IAAS,EAAI,OAAS,OACxEF,EAAQ,SAAWC,EAAWA,EAAS,CAAC,EAAE,YAAY,EAAI,OACjDF,EAAQ,QAAQ,GAAG,GAAK,IACjCC,EAAQ,MAAQ,WAEd,CAAC,QAAQ,KAAKD,CAAO,EAAG,OAAOC,EAAQ,MAAQA,EAAU,OAE7D,GADAA,EAAQ,YAAcD,EAAQ,QAAQ,GAAG,GAAK,EAC1C,cAAc,KAAKA,CAAO,GAAKA,EAAQ,QAAQ,GAAG,GAAK,EAAG,CAC5D,IAAII,EAAOJ,EAAQ,QAAQ,sBAAuB,EAAE,EACpDC,EAAQ,yBAA2B,KAAK,IAAI,KAAK,IAAIG,EAAK,QAAQ,SAAU,EAAE,EAAE,OAAQ,CAAC,EAAG,EAAE,EAC9FH,EAAQ,yBAA2B,KAAK,IAAI,KAAK,IAAIG,EAAK,OAAQ,CAAC,EAAG,EAAE,CAC1E,KAAO,CAIL,QAHIC,EAAQL,EAAQ,QAAQ,UAAW,EAAE,EAAE,MAAM,GAAG,EAChDM,EAAUD,EAAM,CAAC,EACjBE,EAAID,EAAQ,OAAS,EAClBA,EAAQC,CAAC,IAAM,KAAK,EAAEA,EAC7BN,EAAQ,qBAAuB,KAAK,IAAI,KAAK,IAAIK,EAAQ,OAAS,EAAIC,EAAG,CAAC,EAAG,EAAE,EAC/E,IAAIC,EAAWH,EAAM,CAAC,GAAK,GAE3B,IADAE,EAAI,EACGC,EAASD,CAAC,IAAM,KAAK,EAAEA,EAE9B,IADAN,EAAQ,sBAAwB,KAAK,IAAI,KAAK,IAAIM,EAAG,CAAC,EAAG,EAAE,EACpDC,EAASD,CAAC,IAAM,KAAK,EAAEA,EAC9BN,EAAQ,sBAAwB,KAAK,IAAI,KAAK,IAAIM,EAAG,CAAC,EAAG,EAAE,CAC7D,CACA,OAAON,EACT,EACA,iBAAkB,SAAUD,EAAuB,CACjD,GAAKA,EAEL,SADIC,EAAU,CAAC,EACNQ,EAAI,EAAGA,EAAIT,EAAQ,QAAS,CAGnC,QAFIU,EAAUV,EAAQS,CAAC,EACnBF,EAAI,EACDP,EAAQ,EAAES,CAAC,IAAMC,GAAS,EAAEH,EACnC,OAAQG,EAAS,CACf,IAAK,IACHT,EAAQ,IAAMM,IAAM,EAAIX,GAASW,IAAM,EAAIb,EAAOC,EAClD,MACF,IAAK,IACL,IAAK,IACHM,EAAQ,KAAOM,IAAM,EAAIT,EAAWD,EACpC,MACF,IAAK,IACL,IAAK,IACHU,EAAI,KAAK,IAAI,KAAK,IAAIA,EAAI,EAAG,CAAC,EAAG,CAAC,EAClCN,EAAQ,MAAQ,CAACJ,EAASC,EAAUH,EAAOD,EAAME,EAAM,EAAEW,CAAC,EAC1D,MACF,IAAK,IACL,IAAK,IACL,IAAK,IACHN,EAAQ,QAAUM,IAAM,EAAIX,GAASW,IAAM,EAAIb,EAAOC,EACtD,MACF,IAAK,IACL,IAAK,IACHM,EAAQ,IAAMM,IAAM,EAAIT,EAAWD,EACnC,MACF,IAAK,IACL,IAAK,IACHI,EAAQ,OAAS,GACjBA,EAAQ,KAAOM,IAAM,EAAIT,EAAWD,EACpC,MACF,IAAK,IACL,IAAK,IACHI,EAAQ,OAAS,GACjBA,EAAQ,KAAOM,IAAM,EAAIT,EAAWD,EACpC,MACF,IAAK,IACHI,EAAQ,OAASM,IAAM,EAAIT,EAAWD,EACtC,MACF,IAAK,IACL,IAAK,IACHI,EAAQ,OAASM,IAAM,EAAIT,EAAWD,EACtC,MACF,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACHI,EAAQ,aAAeM,IAAM,EAAIZ,EAAQD,EACzC,KACJ,CACF,CACA,OAAO,OAAO,KAAKO,CAAO,EAAE,OAASA,EAAU,OACjD,CACF,EAKIU,GAAsB,SAA8BC,EAAuCC,EAAiD,CAC9I,GAAI,OAAOD,GAAW,UAAYC,EAAUD,CAAM,EAAG,OAAOA,EAE5D,QADIE,EAAU,CAAC,EAAE,OAAOF,GAAU,CAAC,CAAC,EAC3BG,EAAI,EAAGC,EAAKF,EAAQ,OAAQC,EAAIC,EAAI,EAAED,EAE7C,QADIL,EAAUI,EAAQC,CAAC,EAAE,MAAM,GAAG,EAC3BL,EAAQ,QAAQ,CACrB,IAAIO,EAAYP,EAAQ,KAAK,GAAG,EAChC,GAAIG,EAAUI,CAAS,EAAG,OAAOA,EACjCP,EAAQ,IAAI,CACd,CAEJ,EAKIQ,EAAO,OAAQC,EAAM,MAAOC,EAAM,MAAOC,EAAM,MAAOC,EAAO,OAAQC,EAAQ,QAC7EC,EAAI,CACN,SAAUC,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,EAAIY,EACbI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,MAAO,IAAKlB,GAAKA,GAAK,EAAIY,EACtBI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BlB,EAAI,CAACkB,EACT,OAAOhB,IAAM,GAAKF,IAAM,EAAIY,EACxBI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,EAAIW,EACbX,IAAM,EAAIY,EACVZ,IAAM,EAAIa,EACV,GAAKb,EAAI,KAAOA,EAAI,KAAO,GAAKc,EAChC,IAAMd,EAAI,KAAOA,EAAI,KAAO,GAAKe,EACjCC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BC,GAAKD,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,OAChC,OAAOhB,IAAM,GAAKiB,IAAM,EAAIP,EACxBI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,EAAI,KAAO,GAAKA,EAAI,MAAQ,GAAKY,EACnC,GAAKZ,EAAI,IAAMA,EAAI,IAAM,IAAOA,EAAI,IAAM,IAAM,GAAKA,EAAI,KAAOc,EACjEd,EAAI,KAAO,GAAM,GAAKA,EAAI,IAAMA,EAAI,IAAM,GAAO,IAAMA,EAAI,KAAOA,EAAI,KAAO,GAAMe,EACnFC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,EAAI,KAAO,GAAMA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,GAAMY,EAC1EZ,EAAI,KAAO,GAAMA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,GAAMa,GACrE,GAAKb,EAAI,IAAMA,EAAI,IAAM,GAAMA,EAAI,KAAO,KAAQA,EAAI,IAAM,IAAM,GAAKA,EAAI,OAASA,EAAI,IAAM,IAAM,GAAKA,EAAI,OAASA,EAAI,IAAM,IAAM,GAAKA,EAAI,KAAQc,EACzJd,IAAM,GAAKA,EAAI,MAAY,EAAIe,EAC/BC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BC,GAAKD,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,OAC5BD,EAAI,EAAEC,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAC/B,OAAOC,IAAM,GAAKjB,EAAI,KAAO,GAAKA,EAAI,MAAQ,IAAMe,EAAI,KAAO,GAAKA,EAAI,MAAQ,GAAKL,EACjFO,IAAM,GAAM,GAAKjB,EAAI,IAAMA,EAAI,IAAM,IAAOA,EAAI,IAAM,IAAM,GAAKA,EAAI,MAAS,GAAKe,EAAI,IAAMA,EAAI,IAAM,IAAOA,EAAI,IAAM,IAAM,GAAKA,EAAI,KAAOH,EAC9IE,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BC,GAAKD,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,OAChC,OAAOhB,IAAM,GAAKiB,IAAM,EAAIP,EACvB,GAAKV,GAAKA,GAAK,GAAMiB,IAAM,EAAIL,EAChCK,IAAM,EAAIJ,EACVC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,EAAIW,EACbX,IAAM,EAAIY,EACVZ,IAAM,EAAIa,EACVb,IAAM,EAAIc,EACVd,IAAM,EAAIe,EACVC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3B,EAAI,EAAE,GAAKA,GAAG,QAAQ,gBAAiB,EAAE,EACzClB,EAAI,CAACkB,EACT,OAAOlB,IAAM,GAAK,IAAM,IAAME,IAAM,GAAKA,IAAM,GAAKU,EAChDI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BC,GAAKD,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,OAC5BD,EAAI,EAAEC,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAC/B,OAAOC,IAAM,GAAKjB,EAAI,MAAQ,GAAKe,EAAI,MAAQ,EAAIL,EAC/CO,IAAM,GAAKjB,EAAI,MAAQ,GAAKe,EAAI,MAAQ,EAAIJ,EAC5CM,IAAM,GAAM,GAAKjB,EAAI,KAAOA,EAAI,KAAO,GAAO,GAAKe,EAAI,KAAOA,EAAI,KAAO,EAAKH,EAC9EE,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC/B,OAAOhB,IAAM,GAAKA,IAAM,EAAIU,EACxBI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BC,GAAKD,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,OAC5BD,EAAI,EAAEC,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAC/B,OAAOC,IAAM,IAAMjB,IAAM,GAAKA,IAAM,GAAKA,IAAM,IAAMiB,IAAM,GAAMjB,EAAI,KAAO,GAAKA,EAAI,KAAO,GAAKA,EAAI,KAAO,GAAMiB,IAAM,GAAMF,EAAI,KAAO,GAAKA,EAAI,KAAO,GAAKA,EAAI,KAAO,EAAKL,EAC1KI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,EAAIY,EACbZ,IAAM,EAAIa,EACV,GAAKb,GAAKA,GAAK,EAAIc,EACnB,GAAKd,GAAKA,GAAK,GAAKe,EACpBC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,GAAKA,IAAM,GAAKY,EACzBZ,IAAM,GAAKA,IAAM,GAAKa,EACpB,GAAKb,GAAKA,GAAK,IAAQ,IAAMA,GAAKA,GAAK,GAAOc,EAChDE,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BC,GAAKD,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,OAChC,OAAOC,IAAM,GAAKjB,EAAI,KAAO,EAAIU,EAC7BO,IAAM,GAAKjB,EAAI,KAAO,EAAIW,EAC1BM,IAAM,IAAMjB,EAAI,MAAQ,GAAKA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,IAAMY,EACrGK,IAAM,EAAIJ,EACVC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BC,GAAKD,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,OAC5BlB,EAAI,CAACkB,EACT,OAAOhB,IAAM,GAAKiB,IAAM,EAAIP,EACxBV,IAAM,GAAKiB,IAAM,EAAIN,EACrBM,IAAM,IAAMnB,EAAI,GAAK,GAAKA,IAAMA,EAAI,KAAO,EAAIe,EAC/CC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3B,EAAI,EAAE,GAAKA,GAAG,QAAQ,gBAAiB,EAAE,EAC7C,OAAO,IAAM,GAAKhB,EAAI,KAAO,GAAKA,EAAI,MAAQ,IAAM,IAAM,EAAIU,EAC1DI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,EAAIY,EACbZ,IAAM,EAAIa,EACVG,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,EAAIW,EACbX,IAAM,EAAIY,EACVI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,EAAIW,GACZT,IAAM,GAAKA,IAAM,IAAMF,IAAM,EAAIY,EAClCI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAID,EAAI,EAAEC,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAC3BlB,EAAI,CAACkB,EACT,OAAOlB,EAAI,KAAO,IAAMA,EAAI,IAAM,IAAM,GAAKA,EAAI,KAAOY,EACnD,GAAKZ,EAAI,IAAMA,EAAI,IAAM,IAAOA,EAAI,IAAM,IAAM,GAAKA,EAAI,KAAOc,EACjEG,IAAM,EAAIF,EACVC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIC,GAAKD,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,OAC5BD,EAAI,EAAEC,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAC3BlB,EAAI,CAACkB,EACT,OAAOlB,EAAI,KAAO,GAAM,IAAMA,EAAI,KAAOA,EAAI,KAAO,IAAOmB,IAAM,GAAM,IAAMF,EAAI,KAAOA,EAAI,KAAO,GAAMN,EACrGX,EAAI,KAAO,GAAKA,EAAI,MAAQ,IAAMmB,IAAM,GAAKF,EAAI,KAAO,GAAKA,EAAI,MAAQ,IAAME,IAAM,GAAKF,EAAI,KAAO,EAAIL,EACzGI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BC,GAAKD,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,OAC5BD,EAAI,EAAEC,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAC/B,OAAOC,IAAM,GAAKjB,EAAI,KAAO,GAAKA,EAAI,MAAQ,IAAMe,EAAI,KAAO,GAAKA,EAAI,MAAQ,GAAKL,EACjFI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BC,GAAKD,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,OAC5BlB,EAAI,CAACkB,EACT,OAAOhB,IAAM,GAAKiB,IAAM,EAAIP,EACxBO,IAAM,GAAKnB,IAAM,GAAKA,IAAM,GAAM,GAAKA,EAAI,KAAOA,EAAI,KAAO,GAAMc,EACnEE,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,EAAIY,EACbZ,IAAM,GAAM,GAAKA,EAAI,KAAOA,EAAI,KAAO,GAAMc,EAC7C,IAAMd,EAAI,KAAOA,EAAI,KAAO,GAAKe,EACjCC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BC,GAAKD,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,OAChC,OAAOhB,IAAM,GAAKiB,IAAM,EAAIP,EACxBO,IAAM,GAAM,GAAKjB,EAAI,IAAMA,EAAI,IAAM,IAAOA,EAAI,IAAM,IAAM,GAAKA,EAAI,KAAOY,EAC5EK,IAAM,GAAKjB,IAAM,GAAM,GAAKA,EAAI,IAAMA,EAAI,IAAM,GAAMiB,IAAM,GAAM,GAAKjB,EAAI,IAAMA,EAAI,IAAM,GAAMiB,IAAM,GAAM,IAAMjB,EAAI,KAAOA,EAAI,KAAO,GAAMa,EAC/IC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC/B,MAAO,IAAKhB,GAAKA,GAAK,EAAIU,EACtBI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BC,GAAKD,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,OAChC,OAAOC,IAAM,GAAKjB,EAAI,KAAO,GAAKA,EAAI,MAAQ,GAAKU,EAC/CO,IAAM,GAAM,GAAKjB,EAAI,IAAMA,EAAI,IAAM,IAAOA,EAAI,IAAM,IAAM,GAAKA,EAAI,KAAOY,EAC5EK,IAAM,GAAKjB,EAAI,KAAO,GAAKiB,IAAM,GAAM,GAAKjB,EAAI,IAAMA,EAAI,IAAM,GAAMiB,IAAM,GAAM,IAAMjB,EAAI,KAAOA,EAAI,KAAO,GAAMa,EACpHC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BlB,EAAI,CAACkB,EACT,OAAOhB,IAAM,GAAKF,IAAM,EAAIY,EACxB,GAAKZ,GAAKA,GAAK,GAAKc,EACpBE,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BD,EAAI,EAAEC,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAC3BlB,EAAI,CAACkB,EACT,OAAQlB,IAAM,GAAKA,IAAM,GAAME,IAAM,GAAKe,IAAM,EAAIL,EAChDI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC3BC,GAAKD,EAAI,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,OAChC,OAAOC,IAAM,GAAKjB,EAAI,MAAQ,EAAIU,EAC9BO,IAAM,GAAKjB,EAAI,MAAQ,EAAIW,EAC3BM,IAAM,GAAM,GAAKjB,EAAI,KAAOA,EAAI,KAAO,GAAMiB,IAAM,EAAIL,EACvDE,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,MAAQ,IAAKlB,GAAKA,GAAK,GAAO,IAAMA,GAAKA,GAAK,GAAMY,EAChDI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,GAAKA,IAAM,GAAKA,IAAM,GAAKA,IAAM,GAAKA,IAAM,GAAKA,IAAM,GAAKY,EACrEZ,IAAM,GAAKA,IAAM,EAAIa,EACrBb,IAAM,EAAIc,EACVd,IAAM,EAAIe,EACVC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC/B,OAAQhB,EAAI,KAAO,GAAKA,EAAI,KAAO,GAAKA,EAAI,KAAO,GAAKA,EAAI,KAAO,GAAKA,EAAI,KAAO,GAAOA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,GAAMU,EAC7JV,EAAI,KAAO,GAAKA,EAAI,KAAO,GAAOA,EAAI,MAAS,KAAOA,EAAI,MAAS,KAAOA,EAAI,MAAS,KAAOA,EAAI,MAAS,KAAOA,EAAI,MAAS,KAAOA,EAAI,MAAS,KAAOA,EAAI,MAAS,KAAOA,EAAI,MAAS,KAAOA,EAAI,MAAS,IAAOY,EACvNZ,IAAM,GAAKA,EAAI,KAAO,GAAMA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,GAAMa,EAClFC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAQlB,EAAI,KAAO,GAAKA,EAAI,KAAO,IAAOA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,GAAMc,EAC1EE,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,GAAKA,IAAM,EAAIY,EACxBZ,IAAM,EAAIa,EACVb,IAAM,EAAIc,EACVE,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,GAAKA,IAAM,GAAKA,IAAM,GAAKA,IAAM,EAAIW,EAC9CX,IAAM,EAAIY,EACVZ,IAAM,EAAIa,EACVb,IAAM,GAAKA,IAAM,EAAIc,EACrBd,IAAM,GAAKA,IAAM,EAAIe,EACrBC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,EAAI,KAAO,GAAKA,EAAI,MAAQ,GAAKY,EACpCZ,EAAI,KAAO,GAAKA,EAAI,MAAQ,GAAKa,EACjCb,EAAI,KAAO,GAAKA,EAAI,MAAQ,GAAKc,EACjCE,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,GAAKA,IAAM,GAAKY,EACzBZ,IAAM,GAAKA,IAAM,GAAKa,EACtBb,IAAM,GAAKA,IAAM,GAAKc,EACtBE,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,EAAIY,EACbZ,IAAM,GAAKA,IAAM,EAAIa,EACrBb,IAAM,EAAIc,EACVd,IAAM,EAAIe,EACVC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,GAAKA,IAAM,EAAIY,EACxBI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,IAAMA,IAAM,GAAKA,IAAM,IAAMA,IAAM,IAAMe,EAClDC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC/B,OAAOhB,IAAM,EAAIU,EACbV,IAAM,GAAO,GAAKA,EAAI,KAAOA,EAAI,KAAO,IAAOA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,GAAMa,EACrGC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,EAAI,KAAO,GAAKA,EAAI,KAAO,GAAKA,EAAI,KAAO,GAAKA,IAAM,EAAIe,EAC7DC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIhB,EAAI,KAAK,MAAM,KAAK,IAAI,CAACgB,CAAC,CAAC,EAC/B,OAAOhB,EAAI,KAAO,GAAKA,EAAI,MAAQ,GAAKU,EACpCV,EAAI,KAAO,GAAKA,EAAI,MAAQ,GAAKW,GAChCX,EAAI,KAAO,GAAKA,EAAI,KAAO,IAAOA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,GAAMa,EACvEC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,EAAIY,EACbZ,IAAM,GAAKA,IAAM,EAAIa,EACrBb,IAAM,EAAIc,EACVE,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,MAAO,IAAKlB,GAAKA,GAAK,EAAIY,EACtBI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAQlB,IAAM,GAAKA,IAAM,GAAM,GAAKA,GAAKA,GAAK,EAAMY,EAChDZ,IAAM,GAAKA,IAAM,EAAIa,EACrBb,IAAM,EAAIc,EACVd,IAAM,EAAIe,EACVC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,IAAM,EAAIY,EACbZ,EAAI,KAAO,GAAKA,EAAI,MAAQ,GAAKe,EACjCC,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAQlB,EAAI,KAAO,GAAKA,EAAI,KAAO,IAAOA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,GAAMY,EAC1EI,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAQlB,EAAI,KAAO,GAAKA,EAAI,KAAO,GAAMA,IAAM,GAAKc,EAChDE,CACN,EACA,SAAUE,EAAoC,CAC5C,IAAIlB,EAAI,CAACkB,EACT,OAAOlB,EAAI,KAAO,GAAKA,EAAI,MAAQ,GAAKc,EACpCE,CACN,CACF,EAEII,GAAU,CACZ,GAAI,CAAE,SAAUH,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,EAAE,CAAE,EACvB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,EAAE,EAAG,QAASA,EAAE,CAAC,CAAE,EACtC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,EAAE,EAAG,QAASA,EAAE,CAAC,CAAE,EACrC,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,EAAE,EAAG,QAASA,EAAE,CAAC,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,EAAE,EAAG,QAASA,EAAE,EAAE,CAAE,EACtC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,EAAE,CAAE,EACvB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,EAAE,EAAG,QAASA,EAAE,CAAC,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,IAAK,CAAE,SAAUA,EAAE,EAAE,CAAE,EACvB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,EAAE,CAAE,EACvB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,EAAE,CAAE,EACvB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,EAAE,EAAG,QAASA,EAAE,EAAE,CAAE,EACtC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,EAAE,EAAG,QAASA,EAAE,CAAC,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,EAAE,CAAE,EACvB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,EAAE,CAAE,EACvB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,QAAS,CAAE,SAAUA,EAAE,CAAC,CAAE,EAC1B,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,EAAE,EAAG,QAASA,EAAE,CAAC,CAAE,EACrC,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,IAAK,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACtC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,EAAE,CAAE,EACvB,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,EAAE,CAAE,EACtB,IAAK,CAAE,SAAUA,EAAE,EAAE,CAAE,EACvB,IAAK,CAAE,SAAUA,EAAE,EAAE,CAAE,EACvB,IAAK,CAAE,SAAUA,EAAE,EAAE,CAAE,EACvB,IAAK,CAAE,SAAUA,EAAE,EAAE,CAAE,EACvB,IAAK,CAAE,SAAUA,EAAE,EAAE,CAAE,EACvB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,EAAG,QAASA,EAAE,EAAE,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,EAAE,EAAG,QAASA,EAAE,CAAC,CAAE,EACrC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,EAAE,CAAE,EACvB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,EAAE,EAAG,QAASA,EAAE,EAAE,CAAE,EACtC,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,IAAK,CAAE,SAAUA,EAAE,CAAC,CAAE,EACtB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,SAAUA,EAAE,CAAC,CAAE,EACrB,GAAI,CAAE,QAASA,EAAE,CAAC,CAAE,EACpB,GAAI,CAAE,QAASA,EAAE,CAAC,CAAE,EACpB,GAAI,CAAE,QAASA,EAAE,CAAC,CAAE,CACtB,EAEII,GAAyBrC,GAAqB,SAAUE,EAAQoC,EAAS,CAiB7EA,EAAUpC,EAAO,QAAU,SACzBqC,EACAlB,EACAmB,EACgC,CAChC,OAAOC,EAAaF,EAAK,KAAMlB,GAAU,KAAMmB,GAAS,CAAC,EAAG,EAAI,CAClE,EAEAF,EAAQ,QAAU,SAChBC,EACAlB,EACAmB,EAC+B,CAC/B,OAAOC,EAAaF,EAAK,KAAMlB,GAAU,KAAMmB,GAAS,CAAC,EAAG,EAAK,CACnE,EAEA,SAASC,EACPC,EACAC,EACAtB,EACAmB,EACAI,EACe,CACf,IAAI9B,EAAQ4B,EAAS,IAAI,SAAUG,EAAS,CAC1C,OAAOC,EAAiBD,EAASF,EAAQtB,EAAQmB,EAAOI,CAAI,CAC9D,CAAC,EAED,OAAKA,EAQD9B,EAAM,SAAW,EAAUA,EAAM,CAAC,EAC/B,SAAiBiC,EAAM,CAE5B,QADIC,EAAU,GACLC,EAAI,EAAGA,EAAInC,EAAM,OAAQ,EAAEmC,EAClCD,GAAWlC,EAAMmC,CAAC,EAAEF,CAAI,EAE1B,OAAOC,CACT,EAdS,SAAiBD,EAAM,CAC5B,OAAOjC,EAAM,OAAO,SAAUA,EAAOoC,EAAM,CACzC,OAAOpC,EAAM,OAAOoC,EAAKH,CAAI,CAAC,CAChC,EAAG,CAAC,CAAC,CACP,CAWJ,CAEA,SAASD,EACPD,EACAF,EACAtB,EACAmB,EACAI,EACe,CACf,GAAI,OAAOC,GAAY,SAAU,CAC/B,IAAIM,EAAqBN,EACzB,OAAO,UAAmB,CAAE,OAAOM,CAAM,CAC3C,CAEA,IAAIC,EAAKP,EAAQ,CAAC,EACdQ,EAAOR,EAAQ,CAAC,EAEpB,GAAIF,GAAUE,EAAQ,CAAC,IAAM,IAAK,CAChCO,EAAKT,EAAO,CAAC,EACb,IAAIW,EAASX,EAAO,CAAC,EACjBY,GAAaf,EAAM,QAAUgB,EAAS,QAAQ,CAACJ,EAAI,QAAQ,EAAG/B,CAAM,EACxE,OAAO,SAAiB0B,EAAM,CAC5B,OAAOQ,EAAUE,EAAOL,EAAIL,CAAI,EAAIO,EAAQP,CAAI,CAClD,CACF,CAGA,IAAIW,EACAL,IAAS,UAAYA,IAAS,iBAChCK,EAAW,CAAC,EACZ,OAAO,KAAKb,EAAQ,CAAC,CAAC,EAAE,QAAQ,SAAUc,EAAK,CAC7CD,EAASC,CAAG,EAAIlB,EAAaI,EAAQ,CAAC,EAAEc,CAAG,EAAGd,EAASxB,EAAQmB,EAAOI,CAAI,CAC5E,CAAC,EACDC,EAAU,CAACA,EAAQ,CAAC,EAAGA,EAAQ,CAAC,EAAGA,EAAQ,CAAC,EAAGa,CAAQ,GAC9Cb,EAAQ,CAAC,GAAK,OAAOA,EAAQ,CAAC,GAAM,WAC7Ca,EAAW,CAAC,EACZ,OAAO,KAAKb,EAAQ,CAAC,CAAC,EAAE,QAAQ,SAAUc,EAAK,CAC7CD,EAASC,CAAG,EAAIlB,EAAaI,EAAQ,CAAC,EAAEc,CAAG,EAAGd,EAASxB,EAAQmB,EAAOI,CAAI,CAC5E,CAAC,EACDC,EAAU,CAACA,EAAQ,CAAC,EAAGA,EAAQ,CAAC,EAAGa,CAAQ,GAG7C,IAAIE,EAAUP,IAASb,EAAMa,CAAI,GAAKG,EAASH,CAAI,GACnD,GAAIO,EAAS,CACX,IAAIC,EAAOD,EAAQf,EAASxB,CAAM,EAClC,OAAO,SAAiB0B,EAAM,CAC5B,OAAOc,EAAKJ,EAAOL,EAAIL,CAAI,EAAGA,CAAI,CACpC,CACF,CAEA,OAAOH,EACH,SAAiBG,EAAM,CAAE,OAAO,OAAOU,EAAOL,EAAIL,CAAI,CAAC,CAAE,EACzD,SAAiBA,EAAM,CAAE,OAAOU,EAAOL,EAAIL,CAAI,CAAE,CACvD,CAEA,SAASU,EAAQL,EAAiBL,EAA8B,CAC9D,GAAIA,GAASK,KAAML,EAAO,OAAOA,EAAKK,CAAE,EAGxC,QAFItC,EAAQsC,EAAG,MAAM,GAAG,EACpBU,EAAIf,EACC7B,EAAI,EAAG6C,EAAKjD,EAAM,OAAQgD,GAAK5C,EAAI6C,EAAI,EAAE7C,EAChD4C,EAAIA,EAAEhD,EAAMI,CAAC,CAAC,EAEhB,OAAO4C,CACT,CAEA,SAASE,EAAiBnB,EAA2BtB,EAAuB,CAC1E,IAAI0C,EAAQpB,EAAQ,CAAC,EACjBnC,EAAUF,EAAqB,OAAOyD,CAAK,GAAKzD,EAAqB,mBAAmByD,CAAK,GAAKzD,EAAqB,OAAO,QAClI,OAAO,IAAI,KAAK,aAAae,EAASb,CAAO,EAAE,MACjD,CAEA,SAASwD,EAAmBrB,EAA2BtB,EAAuB,CAC5E,IAAI0C,EAAQpB,EAAQ,CAAC,EACjBnC,EAAUF,EAAqB,SAASyD,CAAK,GAAKzD,EAAqB,SAAS,QAChF2D,EAAK,IAAI,KAAK,aAAa5C,EAASb,EAAQ,OAAO,EAAE,OACrD0D,EAAK,IAAI,KAAK,aAAa7C,EAASb,EAAQ,OAAO,EAAE,OACrD2D,EAAK,IAAI,KAAK,aAAa9C,EAASb,EAAQ,KAAK,EAAE,OACnD4D,EAAM,gBAAgB,KAAK,OAAO/C,CAAO,CAAC,EAAI,IAAM,IAExD,OAAO,SAAUW,EAAGa,EAAM,CAExB,GADAb,EAAI,CAACA,EACD,CAAC,SAASA,CAAC,EAAG,OAAOiC,EAAGjC,CAAC,EAC7B,IAAIqC,EAAI,CAAC,EAAErC,EAAI,GAAK,IAChBsC,EAAI,CAAC,EAAEtC,EAAI,GAAK,IAChBuC,GAAOF,EAAKF,EAAG,KAAK,IAAIE,CAAC,CAAC,EAAID,EAAO,IACvCF,EAAG,KAAK,IAAII,CAAC,CAAC,EAAIF,EAAMH,EAAG,KAAK,IAAIjC,EAAI,EAAE,CAAC,EAC7C,OAAOA,EAAI,EAAImC,EAAG,EAAE,EAAE,QAAQA,EAAG,CAAC,EAAGI,CAAG,EAAIA,CAC9C,CACF,CAEA,SAASC,EAAmB7B,EAA2BtB,EAAuB,CAC5E,IAAI8B,EAAOR,EAAQ,CAAC,EAChBoB,EAAQpB,EAAQ,CAAC,EACjBnC,EAAUF,EAAqB6C,CAAI,EAAEY,CAAK,GAAKzD,EAAqB,iBAAiByD,CAAK,GAAKzD,EAAqB6C,CAAI,EAAE,QAC9H,OAAO,IAAI,KAAK,eAAe9B,EAASb,CAAO,EAAE,MACnD,CAEA,SAASiE,EAAiB9B,EAA2BtB,EAAuB,CAC1E,IAAI8B,EAAOR,EAAQ,CAAC,EAChB+B,EAAavB,IAAS,gBAAkB,UAAY,WACpDC,EAAST,EAAQ,CAAC,EAClBa,EAAWb,EAAQ,CAAC,EACpBgC,EACJ,GAAI,KAAK,aAAe,KAAK,YAAY,mBAAmBtD,CAAO,EAAE,OAAS,EAC5EsD,EAAc,IAAI,KAAK,YAAYtD,EAAS,CAAE,KAAMqD,CAAW,CAAC,MAC3D,CACL,IAAIvD,EAASD,GAAoBG,EAASa,EAAO,EAC7C0C,EAAUzD,GAAUe,GAAQf,CAAM,EAAEuD,CAAU,GAAMG,EACxDF,EAAc,CAAE,OAAQC,CAAO,CACjC,CAEA,OAAO,SAAU3B,EAAOJ,EAAM,CAC5B,IAAIiC,EACFtB,EAAS,KAAM,CAACP,CAAK,GACrBO,EAASmB,EAAY,OAAO1B,EAAQG,CAAM,CAAC,GAC3CI,EAAS,MACX,OAAOsB,EAAOjC,CAAI,CACpB,CACF,CAEA,SAASgC,GAA+B,CAAE,MAAO,OAAQ,CAEzD,SAASE,EAAiBpC,EAA2BtB,EAAuB,CAC1E,IAAImC,EAAWb,EAAQ,CAAC,EACxB,OAAO,SAAUM,EAAOJ,EAAM,CAC5B,IAAIiC,EAAStB,EAASP,CAAK,GAAKO,EAAS,MACzC,OAAOsB,EAAOjC,CAAI,CACpB,CACF,CAEA,IAAIS,EAAuB,CACzB,OAAQQ,EACR,QAASA,EACT,SAAUA,EACV,SAAUE,EACV,KAAMQ,EACN,KAAMA,EACN,OAAQC,EACR,cAAeA,EACf,OAAQM,CACV,EACA3C,EAAQ,MAAQkB,CAChB,CAAC,EACG0B,GAA2B7C,GAAuB,QAClD8C,GAA2B9C,GAAuB,MAElD+C,GAAqBpF,GAAqB,SAAUE,EAAQoC,EAAS,CAqBzE,IAAI+C,EAAU,IACVC,EAAU,IACVC,EAAU,IACVC,EAAU,IACVC,EAAU,IACVC,EAAU,IACVC,EAAU,KACVC,EAAe,KACfC,EAAM,IACNC,EAAS,UACTC,EAAc,CAChB,SACA,OACA,OACA,UACA,WACA,UACF,EACIC,EAAY,CACd,SACA,SACA,eACF,EAqDA1D,EAAUpC,EAAO,QAAU,SACzBO,EACAC,EACU,CACV,OAAOuF,EAAS,CACd,QAAS,OAAOxF,CAAO,EACvB,MAAO,EACP,SAAWC,GAAWA,EAAQ,UAAa,KAC3C,OAASA,GAAWA,EAAQ,QAAW,IACzC,EAAG,EAAE,CACP,EAEA,SAASuF,EAAU9E,EAAuB+E,EAAmC,CAC3E,IAAIzF,EAAUU,EAAQ,QAClBgF,EAAS1F,EAAQ,OACjBiC,EAAqB,CAAC,EACtB0D,EAAQjF,EAAQ,MAChBkF,EAAOC,EAAUnF,EAAS+E,CAAU,EAGxC,IAFIG,GAAM3D,EAAS,KAAK2D,CAAI,EACxBA,GAAQlF,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,OAAQV,EAAQ,MAAM2F,EAAOjF,EAAQ,KAAK,CAAC,CAAC,EACtFA,EAAQ,MAAQgF,GAAQ,CAC7B,GAAI1F,EAAQU,EAAQ,KAAK,IAAMmE,EAAS,CACtC,GAAI,CAACY,EAAY,MAAMK,EAASpF,CAAO,EACvC,KACF,CACA,GAAI+E,GAAc/E,EAAQ,UAAYV,EAAQ,MAAMU,EAAQ,MAAOA,EAAQ,MAAQwE,EAAQ,MAAM,IAAMA,EAAS,MAChHjD,EAAS,KAAK8D,EAAiBrF,CAAO,CAAC,EACvCiF,EAAQjF,EAAQ,MAChBkF,EAAOC,EAAUnF,EAAS+E,CAAU,EAChCG,GAAM3D,EAAS,KAAK2D,CAAI,EACxBA,GAAQlF,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,OAAQV,EAAQ,MAAM2F,EAAOjF,EAAQ,KAAK,CAAC,CAAC,CAC/F,CACA,OAAOuB,CACT,CAEA,SAAS4D,EAAWnF,EAAuB+E,EAAsC,CAO/E,QANIzF,EAAUU,EAAQ,QAClBgF,EAAS1F,EAAQ,OACjBgG,EAAiBP,IAAe,UAAYA,IAAe,gBAC3DQ,EAAiB,CAAC,CAACvF,EAAQ,SAC3BwF,EAAcT,IAAe,UAC7BG,EAAO,GACJlF,EAAQ,MAAQgF,GAAQ,CAC7B,IAAIS,EAAOnG,EAAQU,EAAQ,KAAK,EAChC,GACEyF,IAASvB,GAAWuB,IAAStB,GAC5BmB,GAAiBG,IAASpB,GAC1BkB,GAAkBE,IAASnB,GAC3BkB,GAAcE,EAAaD,EAAK,WAAW,CAAC,CAAC,EAE9C,MACK,GAAIA,IAASf,EAElB,GADAe,EAAOnG,EAAQ,EAAEU,EAAQ,KAAK,EAC1ByF,IAASf,EACXQ,GAAQO,EACR,EAAEzF,EAAQ,cAGVyF,IAASvB,GAAWuB,IAAStB,GAC5BmB,GAAiBG,IAASpB,GAC1BkB,GAAkBE,IAASnB,GAC5BkB,EAGA,IADAN,GAAQO,EACD,EAAEzF,EAAQ,MAAQgF,GAEvB,GADAS,EAAOnG,EAAQU,EAAQ,KAAK,EACxByF,IAASf,GAAOpF,EAAQU,EAAQ,MAAQ,CAAC,IAAM0E,EACjDQ,GAAQR,EACR,EAAE1E,EAAQ,cACDyF,IAASf,EAAK,CACvB,EAAE1E,EAAQ,MACV,KACF,MACEkF,GAAQO,OAIZP,GAAQR,OAIVQ,GAAQO,EACR,EAAEzF,EAAQ,KAEd,CACA,OAAOkF,CACT,CAEA,SAASQ,EAAcC,EAAiC,CACtD,OACGA,GAAQ,GAAQA,GAAQ,IACzBA,IAAS,IAAQA,IAAS,KAAQA,IAAS,KAAQA,IAAS,MAC3DA,GAAQ,MAAUA,GAAQ,MAC3BA,IAAS,MAAUA,IAAS,MAAUA,IAAS,MAAUA,IAAS,MAClEA,IAAS,MAAUA,IAAS,OAAUA,IAAS,KAEnD,CAEA,SAASC,EAAgB5F,EAAkC,CAIzD,QAHIV,EAAUU,EAAQ,QAClBgF,EAAS1F,EAAQ,OACjB2F,EAAQjF,EAAQ,MACbA,EAAQ,MAAQgF,GAAUU,EAAapG,EAAQ,WAAWU,EAAQ,KAAK,CAAC,GAC7E,EAAEA,EAAQ,MAERiF,EAAQjF,EAAQ,OAASA,EAAQ,QACnCA,EAAQ,OAAO,KAAK,CAAC,QAASA,EAAQ,QAAQ,MAAMiF,EAAOjF,EAAQ,KAAK,CAAC,CAAC,CAE9E,CAEA,SAASqF,EAAkBrF,EAAyC,CAClE,IAAIV,EAAUU,EAAQ,QACtB,GAAIV,EAAQU,EAAQ,KAAK,IAAMqE,EAC7B,OAAIrE,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUqE,CAAO,CAAC,EAC3D,EAAErE,EAAQ,MACH,CAACqE,CAAO,EAGjB,IAAIwB,EAAMC,EAAS9F,CAAO,EAC1B,GAAI6F,EAAK,OAAOA,EAGhB,GAAIvG,EAAQU,EAAQ,KAAK,IAAMkE,EAAS,MAAMkB,EAASpF,EAASkE,CAAO,EACnElE,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUkE,CAAO,CAAC,EAC3D,EAAElE,EAAQ,MACV4F,EAAe5F,CAAO,EAEtB,IAAIiC,EAAK8D,EAAQ/F,CAAO,EACxB,GAAI,CAACiC,EAAI,MAAMmD,EAASpF,EAAS,gBAAgB,EAC7CA,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,KAAMiC,CAAE,CAAC,EAClD2D,EAAe5F,CAAO,EAEtB,IAAIyF,EAAOnG,EAAQU,EAAQ,KAAK,EAChC,GAAIyF,IAAStB,EACX,OAAInE,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUmE,CAAO,CAAC,EAC3D,EAAEnE,EAAQ,MACH,CAACiC,CAAE,EAGZ,GAAIwD,IAASrB,EAAS,MAAMgB,EAASpF,EAASoE,EAAU,OAASD,CAAO,EACpEnE,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUoE,CAAO,CAAC,EAC3D,EAAEpE,EAAQ,MACV4F,EAAe5F,CAAO,EAEtB,IAAIkC,EAAO6D,EAAQ/F,CAAO,EAC1B,GAAI,CAACkC,EAAM,MAAMkD,EAASpF,EAAS,kBAAkB,EAIrD,GAHIA,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,OAAQkC,CAAI,CAAC,EACtD0D,EAAe5F,CAAO,EACtByF,EAAOnG,EAAQU,EAAQ,KAAK,EACxByF,IAAStB,EAAS,CAEpB,GADInE,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUmE,CAAO,CAAC,EACvDjC,IAAS,UAAYA,IAAS,iBAAmBA,IAAS,SAC5D,MAAMkD,EAASpF,EAASkC,EAAO,eAAe,EAEhD,QAAElC,EAAQ,MACH,CAACiC,EAAIC,CAAI,CAClB,CAEA,GAAIuD,IAASrB,EAAS,MAAMgB,EAASpF,EAASoE,EAAU,OAASD,CAAO,EACpEnE,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUoE,CAAO,CAAC,EAC3D,EAAEpE,EAAQ,MACV4F,EAAe5F,CAAO,EAEtB,IAAIgG,EACJ,GAAI9D,IAAS,UAAYA,IAAS,gBAAiB,CACjD,IAAIC,EAAS8D,EAAkBjG,CAAO,EACtC4F,EAAe5F,CAAO,EACtBgG,EAAM,CAAC/D,EAAIC,EAAMC,EAAQ+D,EAAiBlG,EAASkC,CAAI,CAAC,CAC1D,SAAWA,IAAS,SAClB8D,EAAM,CAAC/D,EAAIC,EAAMgE,EAAiBlG,EAASkC,CAAI,CAAC,UACvC0C,EAAY,QAAQ1C,CAAI,GAAK,EACtC8D,EAAM,CAAC/D,EAAIC,EAAMiE,EAAkBnG,CAAO,CAAC,MACtC,CACL,IAAIoG,EAAQpG,EAAQ,MAChBqG,GAAoCF,EAAkBnG,CAAO,EACjE4F,EAAe5F,CAAO,EAClBV,EAAQU,EAAQ,KAAK,IAAMkE,IAC7BlE,EAAQ,MAAQoG,EAChBC,GAASH,EAAiBlG,EAASkC,CAAI,GAEzC8D,EAAM,CAAC/D,EAAIC,EAAMmE,EAAM,CACzB,CAGA,GADAT,EAAe5F,CAAO,EAClBV,EAAQU,EAAQ,KAAK,IAAMmE,EAAS,MAAMiB,EAASpF,EAASmE,CAAO,EACvE,OAAInE,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUmE,CAAO,CAAC,EAC3D,EAAEnE,EAAQ,MACHgG,CACT,CAEA,SAASF,EAAU9F,EAA0C,CAC3D,IAAIsG,EAAWtG,EAAQ,SACvB,GAAI,GAACsG,GAAYtG,EAAQ,QAAQA,EAAQ,KAAK,IAAMsE,GAEpD,IAAItE,EAAQ,QAAQ,MAAMA,EAAQ,MAAOA,EAAQ,MAAQwE,EAAQ,MAAM,IAAMA,EAC3E,MAAMY,EAASpF,EAAS,KAAM,0CAA0C,EAEtEA,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUsE,CAAO,CAAC,EAC3D,EAAEtE,EAAQ,MAEV,IAAIiC,EAAK8D,EAAQ/F,EAAS,EAAI,EAC9B,GAAI,CAACiC,EAAI,MAAMmD,EAASpF,EAAS,gBAAgB,EAIjD,GAHIA,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,KAAMiC,CAAE,CAAC,EAClD2D,EAAe5F,CAAO,EAElBA,EAAQ,QAAQ,MAAMA,EAAQ,MAAOA,EAAQ,MAAQyE,EAAa,MAAM,IAAMA,EAChF,OAAIzE,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUyE,CAAY,CAAC,EAChEzE,EAAQ,OAASyE,EAAa,OACvB,CAACxC,EAAIqE,CAAQ,EAEtB,GAAItG,EAAQ,QAAQA,EAAQ,KAAK,IAAMuE,EAAS,MAAMa,EAASpF,EAASuE,CAAO,EAC3EvE,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUuE,CAAO,CAAC,EAC3D,EAAEvE,EAAQ,MAEV,IAAIuC,EAAWuC,EAAS9E,EAASsG,CAAQ,EAErCC,EAAMvG,EAAQ,MAClB,GAAIA,EAAQ,QAAQ,MAAMA,EAAQ,MAAOA,EAAQ,MAAQwE,EAAQ,MAAM,IAAMA,EAAS,MAAMY,EAASpF,EAASwE,EAAUvC,EAAKsC,CAAO,EAChIvE,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUwE,CAAO,CAAC,EAC3DxE,EAAQ,OAASwE,EAAQ,OACzB,IAAIgC,EAAUT,EAAQ/F,EAAS,EAAI,EAEnC,GADIwG,GAAWxG,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,KAAMwG,CAAO,CAAC,EAC9DvE,IAAOuE,EACT,MAAAxG,EAAQ,MAAQuG,EACVnB,EAASpF,EAASwE,EAAUvC,EAAKsC,EAASC,EAAUgC,EAAUjC,CAAO,EAG7E,GADAqB,EAAe5F,CAAO,EAClBA,EAAQ,QAAQA,EAAQ,KAAK,IAAMuE,EAAS,MAAMa,EAASpF,EAASuE,CAAO,EAC/E,OAAIvE,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUuE,CAAO,CAAC,EAC3D,EAAEvE,EAAQ,MAEH,CAACiC,EAAIqE,EAAU,CAAE,SAAU/D,CAAS,CAAC,EAC9C,CAEA,SAASwD,EAAS/F,EAAuByG,EAAsC,CAI7E,QAHInH,EAAUU,EAAQ,QAClBgF,EAAS1F,EAAQ,OACjB2C,EAAK,GACFjC,EAAQ,MAAQgF,GAAQ,CAC7B,IAAIS,EAAOnG,EAAQU,EAAQ,KAAK,EAChC,GACEyF,IAASvB,GAAWuB,IAAStB,GAAWsB,IAASrB,GACjDqB,IAASpB,GAAWoB,IAASf,GAAOgB,EAAaD,EAAK,WAAW,CAAC,CAAC,GAClEgB,IAAUhB,IAASnB,GAAWmB,IAASlB,GAAWkB,IAAS,KAC5D,MACFxD,GAAMwD,EACN,EAAEzF,EAAQ,KACZ,CACA,OAAOiC,CACT,CAEA,SAASkE,EAAmBnG,EAAoC,CAC9D,IAAIiF,EAAQjF,EAAQ,MAChB8C,EAAQqC,EAAUnF,EAAS,SAAS,EACxC,GAAI,CAAC8C,EAAO,MAAMsC,EAASpF,EAAS,wBAAwB,EAC5D,OAAIA,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,QAASA,EAAQ,QAAQ,MAAMiF,EAAOjF,EAAQ,KAAK,CAAC,CAAC,EACvF8C,CACT,CAEA,SAASmD,EAAmBjG,EAAoC,CAC9D,IAAIV,EAAUU,EAAQ,QAClBgF,EAAS1F,EAAQ,OACjB6C,EAAS,EACb,GAAI7C,EAAQ,MAAMU,EAAQ,MAAOA,EAAQ,MAAQ2E,EAAO,MAAM,IAAMA,EAAQ,CACtE3E,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAU,QAAQ,EAAG,CAAC,SAAU,GAAG,CAAC,EAC7EA,EAAQ,OAAS2E,EAAO,OACxBiB,EAAe5F,CAAO,EAEtB,QADIiF,EAAQjF,EAAQ,MACbA,EAAQ,MAAQgF,GAAU0B,EAAQpH,EAAQ,WAAWU,EAAQ,KAAK,CAAC,GACxE,EAAEA,EAAQ,MAEZ,GAAIiF,IAAUjF,EAAQ,MAAO,MAAMoF,EAASpF,EAAS,eAAe,EAChEA,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUV,EAAQ,MAAM2F,EAAOjF,EAAQ,KAAK,CAAC,CAAC,EACvFmC,EAAS,CAAC7C,EAAQ,MAAM2F,EAAOjF,EAAQ,KAAK,CAC9C,CACA,OAAOmC,CACT,CAEA,SAASuE,EAASf,EAAiC,CACjD,OAAQA,GAAQ,IAAQA,GAAQ,EAClC,CAEA,SAASO,EAAkBlG,EAAuB+E,EAA2C,CAI3F,QAHIzF,EAAUU,EAAQ,QAClBgF,EAAS1F,EAAQ,OACjBC,EAA4B,CAAC,EAC1BS,EAAQ,MAAQgF,GAAU1F,EAAQU,EAAQ,KAAK,IAAMmE,GAAS,CACnE,IAAIwC,EAAWZ,EAAQ/F,CAAO,EAC9B,GAAI,CAAC2G,EAAU,MAAMvB,EAASpF,EAAS,sBAAsB,EACzDA,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,WAAY2G,CAAQ,CAAC,EAC9Df,EAAe5F,CAAO,EACtBT,EAAQoH,CAAQ,EAAIC,EAAgB5G,EAAS+E,CAAU,EACvDa,EAAe5F,CAAO,CACxB,CACA,GAAI,CAACT,EAAQ,OAASsF,EAAU,QAAQE,CAAU,GAAK,EACrD,MAAMK,EAASpF,EAAS,KAAM,KAAM,4CAA8C+E,CAAU,EAE9F,OAAOxF,CACT,CAEA,SAASqH,EAAiB5G,EAAuB+E,EAAmC,CAClF,GAAI/E,EAAQ,QAAQA,EAAQ,KAAK,IAAMkE,EAAS,MAAMkB,EAASpF,EAASkE,EAAU,uBAAuB,EACrGlE,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUkE,CAAO,CAAC,EAC3D,EAAElE,EAAQ,MACV,IAAI6B,EAAUiD,EAAS9E,EAAS+E,CAAU,EAC1C,GAAI/E,EAAQ,QAAQA,EAAQ,KAAK,IAAMmE,EAAS,MAAMiB,EAASpF,EAASmE,EAAU,qBAAqB,EACvG,OAAInE,EAAQ,QAAQA,EAAQ,OAAO,KAAK,CAAC,SAAUmE,CAAO,CAAC,EAC3D,EAAEnE,EAAQ,MACH6B,CACT,CAEA,SAASuD,EAAUpF,EAAuBoF,EAA4ByB,EAAyBhF,EAA0B,CACvH,IAAIvC,EAAUU,EAAQ,QAClB8G,EAAQxH,EAAQ,MAAM,EAAGU,EAAQ,KAAK,EAAE,MAAM,OAAO,EACrDmC,EAASnC,EAAQ,MACjB+G,EAAOD,EAAM,OACbE,EAASF,EAAM,MAAM,EAAE,EAAE,CAAC,EAAE,OAChC,OAAAD,EAAQA,IACL7G,EAAQ,OAASV,EAAQ,OAAU,yBAC/ByG,EAAQ/F,CAAO,GAAKV,EAAQU,EAAQ,KAAK,GAE3C6B,IAASA,EAAUoF,GAAa7B,EAAUyB,CAAK,GACpDhF,GAAW,OAASvC,EAAQ,QAAQ,SAAU;AAAA,CAAI,EAC3C,IAAI4H,GAAYrF,EAASuD,EAAUyB,EAAO1E,EAAQ4E,EAAMC,CAAM,CACvE,CAEA,SAASC,GAAc7B,EAAwByB,EAAmB,CAChE,OAAKzB,EACE,YAAcA,EAAW,cAAgByB,EAD1B,cAAgBA,EAAQ,QAEhD,CAMA,SAASK,GAAarF,EAAsBuD,EAAwByB,EAAqB1E,EAAqB4E,EAAmBC,EAAqB,CACpJ,MAAM,KAAK,KAAMnF,CAAO,EACxB,KAAK,KAAO,cACZ,KAAK,QAAUA,EACf,KAAK,SAAWuD,EAChB,KAAK,MAAQyB,EACb,KAAK,OAAS1E,EACd,KAAK,KAAO4E,EACZ,KAAK,OAASC,CAChB,CACAE,GAAY,UAAY,OAAO,OAAO,MAAM,SAAS,EACrD/F,EAAQ,YAAc+F,EACtB,CAAC,EACGC,GAAuBlD,GAAmB,YAE1CmD,GAAe,IAAI,OACrB,KAAO,OAAO,KAAKnG,EAAO,EAAE,KAAK,GAAG,EAAI,MAC1C,EAkBIoG,GAA6C,IAAI,QAOrD,SAASC,GACPhI,EACAc,EACAb,EACA,CACA,GAAI,EAAE,gBAAgB+H,KAAkBD,GAAU,IAAI,IAAI,EACxD,MAAM,IAAI,UAAU,0DAA0D,EAEhF,IAAIjG,EAAM6C,GAAmB3E,CAAO,EACpC+H,GAAU,IAAI,KAAM,CAClB,IAAKjG,EACL,OAAQF,GAAuBE,EAAKhB,EAASb,GAAWA,EAAQ,KAAK,EACrE,OAAQ+H,GAAc,mBAAmBlH,CAAO,EAAE,CAAC,GAAK,KACxD,QAASA,EACT,QAASb,CACX,CAAC,CACH,CACA,IAAIgI,GAAgBD,GAGpB,OAAO,iBAAiBA,GAAc,UAAW,CAC/C,OAAQ,CACN,aAAc,GACd,IAAK,UAAmB,CACtB,IAAIE,EAASH,GAAU,IAAI,IAAI,EAC/B,GAAI,CAACG,EAAQ,MAAM,IAAI,UAAU,oGAAqG,EACtI,OAAOA,EAAO,MAChB,CACF,EACA,cAAe,CACb,aAAc,GACd,SAAU,GACV,MAAO,SAAwB5F,EAAuB,CACpD,IAAI4F,EAASH,GAAU,IAAI,IAAI,EAC/B,GAAI,CAACG,EAAQ,MAAM,IAAI,UAAU,2GAA4G,EAC7I,IAAI9E,EAAO8E,EAAO,UAAYA,EAAO,QAAUtG,GAAuB,QACpEsG,EAAO,IACPA,EAAO,QACPA,EAAO,SAAWA,EAAO,QAAQ,KACnC,GACA,OAAO9E,EAAKd,CAAI,CAClB,CACF,EACA,gBAAiB,CACf,aAAc,GACd,SAAU,GACV,MAAO,UAA4B,CACjC,IAAI4F,EAASH,GAAU,IAAI,IAAI,EAC/B,GAAI,CAACG,EAAQ,MAAM,IAAI,UAAU,6GAA8G,EAC/I,MAAO,CACL,OAAQA,EAAO,MACjB,CACF,CACF,CACF,CAAC,EAGG,OAAO,OAAW,KACpB,OAAO,eAAeF,GAAc,UAAW,OAAO,YAAa,CAAE,MAAO,QAAS,CAAC,EAGxF,OAAO,iBAAiBA,GAAe,CACrC,mBAAoB,CAClB,aAAc,GACd,SAAU,GACV,MAAO,SAA6BG,EAA8C,CAChF,MAAO,CAAC,EAAE,OACR,KAAK,aAAa,mBAAmBA,CAAgB,EACrD,KAAK,eAAe,mBAAmBA,CAAgB,EACvD,KAAK,YAAc,KAAK,YAAY,mBAAmBA,CAAgB,EAAI,CAAC,EAC5E,CAAC,EAAE,OAAOA,GAAoB,CAAC,CAAC,EAAE,OAAO,SAAUvH,EAAQ,CACzD,OAAOkH,GAAa,KAAKlH,CAAM,CACjC,CAAC,CACH,EAAE,OAAO,SAAUc,EAAG,EAAG2B,EAAG,CAAE,OAAOA,EAAE,QAAQ3B,CAAC,IAAM,CAAE,CAAC,CAC3D,CACF,CACF,CAAC,EAED,IAAO0G,GAAQH,GCt/CA,SAARI,GAAoCC,EAAK,CAC9C,MAAO,CAAC,EAAEA,GAAOA,EAAI,SAAW,OAAOA,EAAI,SAAY,UAAY,OAAO,KAAKA,CAAG,EAAE,SAAW,EACjG,CCQO,IAAMC,GAAN,KAAsB,CAE3B,YAAY,CACV,uBAAAC,EAAyB,GACzB,eAAAC,EAAiB,GACjB,kBAAAC,EAAoB,GACpB,oCAAAC,EAAsC,EACxC,EAAI,CAAC,EAAG,CAEN,KAAK,mBAAqB,SAAS,uBAAuB,EAE1D,KAAK,wBAA0B,CAAC,CAACH,EAEjC,KAAK,gBAAkBC,EAEvB,KAAK,mBAAqBC,EAG1B,KAAK,sCAAwCC,EAM7C,KAAK,UAAY,CAAC,EAMlB,KAAK,uBAAyB,IAAI,IAMlC,KAAK,wBAA0B,CAAC,EAMhC,KAAK,+BAAiC,CAAC,EAEvC,KAAK,oBAAsB,CACzB,YAAa,GAEb,eAAgB,IAAI,GACtB,EAEA,KAAK,kBAAoB,CAEvB,eAAgB,IAAI,GACtB,EAQA,IAAMC,EAAgB,SAAS,gBAAgB,aAAa,oBAAoB,EAGhF,KAAK,iCAAmC,EAAQA,EAE5C,KAAK,mCACP,KAAK,OAASA,GAAiB,QAC/B,KAAK,6BAA6B,GAG/B,SAAS,gBAAgB,OAC5B,SAAS,gBAAgB,KAAO,KAAK,QAAU,SAIjD,KAAK,gCAAgC,CACvC,CAGA,8BAA+B,CAyB7B,KAAK,8BAAgC,SAAS,gBAAgB,MAAQ,IACxE,CAEA,UAAW,CACT,KAAK,mCAAmC,CAC1C,CAKA,IAAI,QAAS,CACX,OAAI,KAAK,iCACA,KAAK,UAAY,GAEnB,SAAS,gBAAgB,IAClC,CAKA,IAAI,OAAOC,EAAO,CAEhB,IAAIC,EACA,KAAK,kCACPA,EAAmC,KAAK,SACxC,KAAK,SAAWD,EACZ,KAAK,gCAAkC,MACzC,KAAK,sBAAsBA,CAAK,IAGlCC,EAAY,SAAS,gBAAgB,KACrC,KAAK,sBAAsBD,CAAK,GAG7BA,EAAM,SAAS,GAAG,GACrB,KAAK,qBAAqBA,CAAK,EAGjC,KAAK,iBAAiBA,EAAOC,CAAS,CACxC,CAMA,sBAAsBC,EAAQ,CAC5B,KAAK,mCAAmC,EACxC,SAAS,gBAAgB,KAAOA,EAChC,KAAK,gCAAgC,CACvC,CAQA,qBAAqBF,EAAO,CAC1B,MAAM,IAAI,MAAM;AAAA,0BACMA,CAAK;AAAA;AAAA;AAAA,KAG1B,CACH,CAKA,IAAI,iBAAkB,CACpB,OAAI,OAAO,KAAK,+BAA+B,KAAK,MAAM,GAAM,SACvD,QAAQ,IAAI,OAAO,OAAO,KAAK,+BAA+B,KAAK,MAAM,CAAC,CAAC,EAE7E,QAAQ,QAAQ,CACzB,CAEA,OAAQ,CACN,KAAK,UAAY,CAAC,EAClB,KAAK,uBAAyB,IAAI,IAClC,KAAK,wBAA0B,CAAC,EAChC,KAAK,+BAAiC,CAAC,CACzC,CASA,QAAQE,EAAQC,EAAWC,EAAM,CAC/B,GACE,CAAC,KAAK,uCACN,KAAK,oBAAoBF,EAAQC,CAAS,EAE1C,MAAM,IAAI,MACR,cAAcA,CAAS,4CAA4CD,CAAM,IAC3E,EAGF,KAAK,UAAUA,CAAM,EAAI,KAAK,UAAUA,CAAM,GAAK,CAAC,EAEhD,KAAK,sCACP,KAAK,UAAUA,CAAM,EAAEC,CAAS,EAAI,CAClC,GAAG,KAAK,UAAUD,CAAM,EAAEC,CAAS,EACnC,GAAGC,CACL,EAEA,KAAK,UAAUF,CAAM,EAAEC,CAAS,EAAIC,CAExC,CAMA,qBAAqBC,EAASC,EAAQ,CACpC,KAAK,uBAAuB,IAAID,EAASC,CAAM,CACjD,CAQA,eAAeC,EAAY,CAAE,OAAAL,CAAO,EAAI,CAAC,EAAG,CAC1C,OAAO,QAAQ,IACbK,EAAW,IAETJ,GAAa,KAAK,cAAcA,EAAW,CAAE,OAAAD,CAAO,CAAC,CACvD,CACF,CACF,CAQA,cAAcM,EAAc,CAAE,OAAAN,EAAS,KAAK,MAAO,EAAI,CAAE,OAAQ,KAAK,MAAO,EAAG,CAC9E,IAAMO,EAAkB,OAAOD,GAAiB,SAE1CL,EACJM,EAAkB,OAAO,KAAKD,CAAY,EAAE,CAAC,EAAIA,EAGnD,GAAI,KAAK,oBAAoBN,EAAQC,CAAS,EAC5C,OAAO,QAAQ,QAAQ,EAGzB,IAAMO,EAAwB,KAAK,iCAAiCR,EAAQC,CAAS,EACrF,OAAIO,GAIG,KAAK,mBAAmBR,EAAQM,EAAcC,EAAiBN,CAAS,CACjF,CASA,IAAIQ,EAAMC,EAAMC,EAAO,CAAC,EAAG,CACzB,IAAMX,EAASW,EAAK,OAASA,EAAK,OAAS,KAAK,OAC1CC,EAAU,KAAK,mBAAmBH,EAAMT,CAAM,EACpD,OAAKY,EAGa,IAAIC,GAAcD,EAASZ,CAAM,EAClC,OAAOU,CAAI,EAHnB,EAIX,CAGA,iCAAkC,CAC3B,KAAK,6BACR,KAAK,2BAA6B,IAAI,iBAAiBI,GAAa,CAClEA,EAAU,QAAQC,GAAY,CACxB,KAAK,iCACH,SAAS,gBAAgB,OAAS,QAEpC,KAAK,8BAAgC,KACrC,KAAK,sBAAsB,KAAK,MAAM,GAEtC,KAAK,8BAAgC,SAAS,gBAAgB,KAGhE,KAAK,iBAAiB,SAAS,gBAAgB,KAAMA,EAAS,UAAY,EAAE,CAEhF,CAAC,CACH,CAAC,GAEH,KAAK,2BAA2B,QAAQ,SAAS,gBAAiB,CAChE,WAAY,GACZ,gBAAiB,CAAC,MAAM,EACxB,kBAAmB,EACrB,CAAC,CACH,CAGA,oCAAqC,CAC/B,KAAK,4BACP,KAAK,2BAA2B,WAAW,CAE/C,CAOA,oBAAoBf,EAAQC,EAAW,CACrC,MAAO,CAAC,EAAE,KAAK,UAAUD,CAAM,GAAK,KAAK,UAAUA,CAAM,EAAEC,CAAS,EACtE,CAOA,iCAAiCD,EAAQC,EAAW,CAClD,OAAI,KAAK,+BAA+BD,CAAM,EACrC,KAAK,+BAA+BA,CAAM,EAAEC,CAAS,EAEvD,IACT,CAUA,mBAAmBD,EAAQM,EAAcC,EAAiBN,EAAW,CACnE,IAAMG,EAAS,KAAK,oBAAoBE,EAAcC,EAAiBN,CAAS,EAC1Ee,EAAgB,KAAK,2BAA2BZ,EAAQJ,EAAQC,CAAS,EAC/E,YAAK,6BAA6BD,EAAQC,EAAWe,CAAa,EAC3DA,EAAc,KAKnBC,GAAO,CAEL,GACE,KAAK,+BAA+BjB,CAAM,GAC1C,KAAK,+BAA+BA,CAAM,EAAEC,CAAS,IAAMe,EAC3D,CACA,IAAMd,EAAOgB,GAAmBD,CAAG,EAAIA,EAAI,QAAUA,EACrD,KAAK,QAAQjB,EAAQC,EAAWC,CAAI,CACtC,CACF,CACF,CACF,CASA,oBAAoBI,EAAcC,EAAiBN,EAAW,CAC5D,IAAIG,EAAS,KAAK,wBAAwBH,CAAS,EAYnD,GAXKG,IACCG,GAEFH,EAD+DE,EACxCL,CAAS,EAChC,KAAK,wBAAwBA,CAAS,EAAIG,IAE1CA,EAAS,KAAK,uBAAuBH,CAAS,EAC9C,KAAK,wBAAwBA,CAAS,EAAIG,IAI1C,CAACA,EACH,MAAM,IAAI,MAAM,cAAcH,CAAS,2BAA2B,EAGpE,YAAK,wBAAwBA,CAAS,EAAIG,EAEnCA,CACT,CAWA,2BAA2BA,EAAQJ,EAAQC,EAAWP,EAAiB,KAAK,gBAAiB,CAC3F,OAAOU,EAAOJ,EAAQC,CAAS,EAAE,MAAM,IAAM,CAC3C,IAAMkB,EAAO,KAAK,mBAAmBnB,CAAM,EAC3C,OAAOI,EAAOe,EAAMlB,CAAS,EAAE,MAAM,IAAM,CACzC,GAAIP,EACF,OAAO,KAAK,2BAA2BU,EAAQV,EAAgBO,EAAW,EAAE,EAAE,MAC5E,IAAM,CACJ,IAAMmB,EAAe,KAAK,mBAAmB1B,CAAc,EAC3D,MAAM,IAAI,MACR,uBAAuBO,CAAS,yBAAyBD,CAAM,yBAAyBN,CAAc,qEACtDM,CAAM,+BAA+BmB,CAAI,uBAAuBzB,CAAc,cAAc0B,CAAY,KAC1J,CACF,CACF,EAEF,MAAM,IAAI,MACR,uBAAuBnB,CAAS,iBAAiBD,CAAM,8DACdA,CAAM,+BAA+BmB,CAAI,KACpF,CACF,CAAC,CACH,CAAC,CACH,CAQA,6BAA6BnB,EAAQC,EAAWoB,EAAS,CAClD,KAAK,+BAA+BrB,CAAM,IAC7C,KAAK,+BAA+BA,CAAM,EAAI,CAAC,GAEjD,KAAK,+BAA+BA,CAAM,EAAEC,CAAS,EAAIoB,CAC3D,CAOA,uBAAuBpB,EAAW,CAEhC,OAAW,CAACqB,EAAKxB,CAAK,IAAK,KAAK,uBAAwB,CACtD,IAAMyB,EAAmB,OAAOD,GAAQ,UAAYA,IAAQrB,EACtDuB,EACJ,OAAOF,GAAQ,UAAYA,EAAI,YAAY,OAAS,UAAYA,EAAI,KAAKrB,CAAS,EACpF,GAAIsB,GAAoBC,EACtB,OAAO1B,CAEX,CACA,OAAO,IAET,CAQA,mBAAmBE,EAAQ,CACzB,OAAOA,EAAO,UAAU,EAAG,CAAC,CAC9B,CAOA,iBAAiByB,EAAMC,KAAaC,EAAS,CAC3C,KAAK,mBAAmB,iBAAiBF,EAAMC,EAAU,GAAGC,CAAO,CACrE,CAOA,oBAAoBF,EAAMC,KAAaC,EAAS,CAC9C,KAAK,mBAAmB,oBAAoBF,EAAMC,EAAU,GAAGC,CAAO,CACxE,CAKA,cAAcC,EAAO,CACnB,KAAK,mBAAmB,cAAcA,CAAK,CAC7C,CAQA,iBAAiBC,EAAW9B,EAAW,CAErC,KAAK,cAAc,IAAI,YAAY,kBAAkB,CAAC,EAClD8B,IAAc9B,IAGd,KAAK,yBACP,KAAK,gBAAgB8B,EAAW9B,CAAS,EACzC,KAAK,gBAAgB,KAAK,IAAM,CAC9B,KAAK,cAAc,IAAI,YAAY,gBAAiB,CAAE,OAAQ,CAAE,UAAA8B,EAAW,UAAA9B,CAAU,CAAE,CAAC,CAAC,CAC3F,CAAC,GAED,KAAK,cAAc,IAAI,YAAY,gBAAiB,CAAE,OAAQ,CAAE,UAAA8B,EAAW,UAAA9B,CAAU,CAAE,CAAC,CAAC,EAE7F,CAOA,gBAAgB8B,EAAW9B,EAAW,CACpC,IAAM+B,EAAsB,KAAK,UAAU/B,CAAS,GAAK,CAAC,EACpDgC,EAAsB,KAAK,UAAUF,CAAS,GAAK,CAAC,EAC1D,OAAO,KAAKC,CAAmB,EAAE,QAAQ7B,GAAa,CAC3B8B,EAAoB9B,CAAS,GAEpD,KAAK,cAAcA,EAAW,CAC5B,OAAQ4B,CACV,CAAC,CAEL,CAAC,CACH,CAQA,mBAAmBpB,EAAMT,EAAQ,CAC/B,GAAI,OAAOS,GAAS,SAClB,OAAO,KAAK,kBAAkBA,EAAMT,CAAM,EAE5C,IAAMgC,EAAe,MAAM,KAAKvB,CAAI,EAAE,QAAQ,EAC1Ca,EACAV,EACJ,KAAOoB,EAAa,QAGlB,GAFAV,EAAMU,EAAa,IAAI,EACvBpB,EAAU,KAAK,kBAAkBU,EAAKtB,CAAM,EACxCY,EACF,OAAOA,CAIb,CAUA,kBAAkBU,EAAKtB,EAAQ,CAC7B,GAAI,CAACsB,GAAOA,EAAI,QAAQ,GAAG,IAAM,GAC/B,MAAM,IAAI,MACR,oCAAoCA,CAAG,6CACzC,EAEF,GAAM,CAACW,EAAIC,CAAW,EAAIZ,EAAI,MAAM,GAAG,EACjCjB,EAAa,KAAK,UAAUL,CAAM,EAClCmC,EAAW9B,EAAaA,EAAW4B,CAAE,EAAI,CAAC,EAE1CG,EADQF,EAAY,MAAM,GAAG,EACd,OAMnB,CAACtB,EAASyB,IAAU,OAAOzB,GAAY,SAAWA,EAAQyB,CAAI,EAAIzB,EAClEuB,CACF,EAEA,OAAO,OAAOC,IAAW,KAAK,mBAAqBd,EAAM,GAAG,CAC9D,CAKA,8BAA8B,CAAE,OAAAtB,EAAQ,cAAAsC,CAAc,EAAG,CACvD,KAAK,kBAAkB,eAAe,IAAItC,EAAQsC,CAAa,CACjE,CAKA,gCAAgC,CAAE,OAAAtC,EAAQ,cAAAsC,CAAc,EAAG,CACzD,KAAK,oBAAoB,eAAe,IAAItC,EAAQsC,CAAa,CACnE,CACF,ECziBO,SAASC,IAAqB,CACnC,GAAIC,GAAiB,IAAI,yBAAyB,EAChD,OAAOA,GAAiB,IAAI,yBAAyB,EAGvD,IAAMC,EAAkB,IAAIC,GAAgB,CAC1C,uBAAwB,GACxB,eAAgB,OAClB,CAAC,EACD,OAAAF,GAAiB,IAAI,0BAA2BC,CAAe,EAExDA,CACT,CCjEO,SAASE,GAAkBC,EAAKC,EAAS,GAAI,CAAE,QAAAC,EAAS,KAAAC,EAAM,MAAAC,EAAO,IAAAC,CAAI,EAAI,CAAC,EAAG,CACtF,IAAMC,EAAa,CAAC,EACpB,QAASC,EAAI,EAAGC,EAAIR,EAAI,OAAQO,EAAIC,EAAGD,GAAK,EAEtCP,EAAI,WAAWO,CAAC,IAAM,IACxBD,EAAW,KAAK,GAAG,EAEVN,EAAI,WAAWO,CAAC,IAAM,KAC/BD,EAAW,KAAK,EAAE,EAElBA,EAAW,KAAKN,EAAI,OAAOO,CAAC,CAAC,EAIjC,IAAME,EAASH,EAAW,KAAK,EAAE,EAEjC,GAAI,CAACH,GAAQD,IAAY,QAAUE,IAAU,QAAUC,IAAQ,UAAW,CAgBxE,GAfwB,CAEtB,QACA,UACA,aACA,aACA,aACA,aAIA,aACA,YACF,EAEoB,SAASJ,CAAM,EACjC,OAAOQ,EAAO,QAAQ,IAAK,EAAE,EAG/B,GAAKA,EAAO,QAAQ,GAAG,IAAM,IAAMR,IAAW,SAAYA,IAAW,QAAS,CAE5E,IAAMS,EAAQD,EAAO,MAAM,qBAAqB,EAChD,GAAIC,IAAU,KACZ,MAAO,GAAGA,EAAM,CAAC,CAAC,KAAKA,EAAM,CAAC,CAAC,IAAIA,EAAM,CAAC,CAAC,EAE/C,CAEA,GAAID,EAAO,QAAQ,IAAI,IAAM,IAAMR,IAAW,QAE5C,OAAOQ,EAAO,QAAQ,KAAM,GAAG,EAGjC,GAAIR,IAAW,QAAS,CAEtB,IAAMS,EAAQD,EAAO,MAAM,sBAAsB,EACjD,GAAIC,IAAU,KACZ,MAAO,GAAGA,EAAM,CAAC,CAAC,KAAKA,EAAM,CAAC,CAAC,IAAIA,EAAM,CAAC,CAAC,EAE/C,CAEA,GAAIT,IAAW,QAEb,OAAOQ,EAAO,QAAQ,uCAAU,sCAAQ,CAE5C,SAAWP,IAAY,QAAUE,IAAU,QAAUC,IAAQ,WACvDI,EAAO,QAAQ,GAAG,IAAM,IAAMR,EAAO,WAAW,KAAK,EAAG,CAE1D,GAAM,CAAC,CAAEU,EAAcC,EAAiBC,EAAYC,CAAK,EACvDL,EAAO,MAAM,2BAA2B,GAAK,CAAC,EAChD,MAAO,GAAGE,CAAY,KAAKC,CAAe,IAAIC,CAAU,IAAIC,CAAK,EACnE,CAGF,OAAOL,CACT,CC5EO,SAASM,GAA4BC,EAAQ,CAClD,OAAIA,EAAO,CAAC,IAAM,SAEhBA,EAAO,CAAC,EAAI,OAEPA,CACT,CCNO,SAASC,GAAiBC,EAAQ,CACvC,OAAOA,EAAO,IAAIC,GACZA,IAAM,OAAS,CAACA,EAAE,SAAS,GAAG,EACzB,GAAGA,CAAC,IAENA,CACR,CACH,CCLA,IAAMC,GAAoB,CAAC,EASpB,SAASC,EAAc,CAAE,OAAAC,EAAS,QAAS,MAAAC,EAAQ,MAAO,EAAI,CAAC,EAAG,CACvE,IAAIC,EAASJ,GAAkBE,CAAM,GAAKF,GAAkBE,CAAM,EAAEC,CAAK,EAEzE,GAAIC,EACF,OAAOA,EAGTA,EAAS,CAAC,EAEV,IAAMC,EAAY,IAAI,KAAK,eAAeH,EAAQ,CAAE,MAAOC,CAAM,CAAC,EAClE,QAASG,EAAI,EAAGA,EAAI,GAAIA,GAAK,EAAG,CAC9B,IAAMC,EAAO,IAAI,KAAK,KAAMD,EAAG,CAAC,EAC1BE,EAAgBH,EAAU,OAAOE,CAAI,EACrCE,EAAiBC,GAAkBF,CAAa,EACtDJ,EAAO,KAAKK,CAAc,CAC5B,CACA,OAAIP,IAAW,SAAWC,IAAU,QAClCC,EAASO,GAA4BP,CAAM,EAClCF,IAAW,SAAWC,IAAU,UACzCC,EAASQ,GAAiBR,CAAM,GAElCJ,GAAkBE,CAAM,EAAIF,GAAkBE,CAAM,GAAK,CAAC,EAC1DF,GAAkBE,CAAM,EAAEC,CAAK,EAAIC,EAE5BA,CACT,CCpCA,IAAMS,GAAoB,CAAC,EAO3B,SAASC,GAAsBC,EAAQ,CACrC,IAAMC,EAAqBH,GAAkBE,CAAM,EAC/CE,EAEJ,OAAID,IAIJH,GAAkBE,CAAM,EAAI,CAC1B,KAAM,CAAC,EACP,MAAO,CAAC,EACR,OAAQ,CAAC,CACX,EAGe,CAAC,OAAQ,QAAS,QAAQ,EAClC,QAAQG,GAAS,CACtBD,EAAWJ,GAAkBE,CAAM,EAAEG,CAAK,EAC1C,IAAMC,EAAY,IAAI,KAAK,eAAeJ,EAAQ,CAChD,QAASG,CACX,CAAC,EAEKE,EAAO,IAAI,KAAK,YAAY,EAClC,QAASC,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAAG,CAC7B,IAAMC,EAAUH,EAAU,OAAOC,CAAI,EAC/BG,EAAoBC,GAAkBF,CAAO,EACnDL,EAAS,KAAKM,CAAiB,EAC/BH,EAAK,QAAQA,EAAK,QAAQ,EAAI,CAAC,CACjC,CACF,CAAC,EAEMP,GAAkBE,CAAM,EACjC,CAUO,SAASU,GAAgB,CAAE,OAAAV,EAAS,QAAS,MAAAG,EAAQ,OAAQ,eAAAQ,EAAiB,CAAE,EAAI,CAAC,EAAG,CAC7F,IAAMT,EAAWH,GAAsBC,CAAM,EAAEG,CAAK,EAC9CS,EAAkB,CAAC,EACzB,QAASN,EAAIK,EAAgBL,EAAIK,EAAiB,EAAGL,GAAK,EACxDM,EAAgB,KAAKV,EAASI,EAAI,CAAC,CAAC,EAEtC,OAAOM,CACT,CCtDO,SAASC,EAAkBC,EAAM,CACtC,OAAO,IAAI,KAAKA,EAAK,YAAY,EAAGA,EAAK,SAAS,EAAGA,EAAK,QAAQ,CAAC,CACrE,CC+HA,IAAMC,GAAiC,CACrCC,EACAC,IAAAA,CAEA,IAAMC,EAAWF,EAAOG,KACxB,GAAID,IAAJ,OACE,MAAA,GAEF,QAAWE,KAAOF,EASfE,EAA2D,OAC1DH,EAAAA,EACA,EAGFF,GAA+BK,EAAKH,CAAAA,EAEtC,MAAA,EAAW,EASPI,GAAkCD,GAAAA,CACtC,IAAIJ,EAAQE,EACZ,EAAG,CACD,IAAKF,EAASI,EAAIE,QAAlB,OACE,MAEFJ,EAAWF,EAAOG,KAClBD,EAASK,OAAOH,CAAAA,EAChBA,EAAMJ,CACR,OAASE,GAAUM,OAAS,EAAG,EAG3BC,GAA6BL,GAAAA,CAGjC,QAASJ,EAASA,EAASI,EAAIE,KAAWF,EAAMJ,EAAQ,CACtD,IAAIE,EAAWF,EAAOG,KACtB,GAAID,IAAJ,OACEF,EAAOG,KAA2BD,EAAW,IAAIQ,YACxCR,EAASS,IAAIP,CAAAA,EAGtB,MAEFF,EAASU,IAAIR,CAAAA,EACbS,GAAqBb,CAAAA,CACtB,CAAA,EAUH,SAASc,GAAyCC,EAAAA,CAC5CC,KAAKb,OADuCY,QAE9CV,GAA+BW,IAAAA,EAC/BA,KAAKV,KAAWS,EAChBN,GAA0BO,IAAAA,GAE1BA,KAAKV,KAAWS,CAEpB,CAuBA,SAASE,GAEPhB,EACAiB,EAAAA,GACAC,EAAgB,EAAA,CAEhB,IAAMC,EAAQJ,KAAKK,KACbnB,EAAWc,KAAKb,KACtB,GAAID,IAAJ,QAA8BA,EAASM,OAAS,EAGhD,GAAIU,EACF,GAAII,MAAMC,QAAQH,CAAAA,EAIhB,QAASI,EAAIL,EAAeK,EAAIJ,EAAMK,OAAQD,IAC5CzB,GAA+BqB,EAAMI,CAAAA,EAAAA,EAAI,EACzCnB,GAA+Be,EAAMI,CAAAA,CAAAA,OAE9BJ,GAAS,OAIlBrB,GAA+BqB,EAAAA,EAAyB,EACxDf,GAA+Be,CAAAA,QAGjCrB,GAA+BiB,KAAMf,CAAAA,CAEzC,CAKA,IAAMY,GAAwBT,GAAAA,CACvBA,EAAkBsB,MAAQC,GAASC,QACrCxB,EAAkByB,OACjBZ,GACDb,EAAkB0B,OAA8BhB,GAClD,EAoBmBiB,GAAhB,cAAuCC,EAAAA,CAA7C,aAAAC,CAAAA,MAAAA,GAAAA,SAAAA,EAYWjB,KAAwBb,KAAAA,MAgFlC,CAzEU,KACP+B,EACAlC,EACAmC,EAAAA,CAEAC,MAAMC,KAAaH,EAAMlC,EAAQmC,CAAAA,EACjC1B,GAA0BO,IAAAA,EAC1BA,KAAKf,YAAciC,EAAKI,IACzB,CAcQ,KACPrC,EACAsC,EAAAA,GAAsB,CAElBtC,IAAgBe,KAAKf,cACvBe,KAAKf,YAAcA,EACfA,EACFe,KAAKwB,cAAAA,EAELxB,KAAKyB,eAAAA,GAGLF,IACFxC,GAA+BiB,KAAMf,CAAAA,EACrCI,GAA+BW,IAAAA,EAElC,CAYD,SAASI,EAAAA,CACP,GAAIsB,GAAmB1B,KAAK2B,CAAAA,EAC1B3B,KAAK2B,EAAOC,KAAWxB,EAAOJ,IAAAA,MACzB,CAML,IAAM6B,EAAY,CAAA,GAAK7B,KAAK2B,EAAOtB,IAAAA,EACnCwB,EAAU7B,KAAK8B,CAAAA,EAAqB1B,EACnCJ,KAAK2B,EAAyBC,KAAWC,EAAW7B,KAAM,CAAA,CAC5D,CACF,CAQS,cAAAyB,CAAiB,CACjB,aAAAD,CAAgB,CAAA,ECzWzB,IASUO,GATV,KASUA,CAEX,YAAYC,EAAAA,CACVC,KAAKC,EAAOF,CACb,CAID,YAAAG,CACEF,KAAKC,EAAAA,MACN,CAID,UAAUF,EAAAA,CACRC,KAAKC,EAAOF,CACb,CAID,OAAAI,CACE,OAAOH,KAAKC,CACb,CAAA,EAMUG,GANV,KAMUA,CAAb,aAAAC,CACUL,KAAQM,EAAAA,OACRN,KAAQO,EAAAA,MAwBjB,CAhBC,KAAAC,CACE,OAAOR,KAAKM,CACb,CAID,OAAAG,CACET,KAAKM,IAAa,IAAII,QAASC,GAAaX,KAAKO,EAAWI,CAAAA,CAC7D,CAID,QAAAC,CACEZ,KAAKO,IAAAA,EACLP,KAAKM,EAAWN,KAAKO,EAAAA,MACtB,CAAA,EC3EH,IAAMM,GAAaC,GAAAA,CACTC,GAAYD,CAAAA,GAA8C,OAAhCA,EAAuBE,MAAS,WAG9DC,GAAY,WAELC,GAAP,cAA8BC,EAAAA,CAApC,aAAAC,CAAAA,MAAAA,GAAAA,SAAAA,EACUC,KAAmBC,GAAWL,GAC9BI,KAAQE,GAAc,CAAA,EACtBF,KAAAG,EAAa,IAAIC,GAAcJ,IAAAA,EAC/BA,KAAAK,EAAW,IAAIC,EAsFxB,CApFC,UAAUC,EAAAA,CACR,OAAOA,EAAKC,KAAMf,GAAAA,CAAOD,GAAUC,CAAAA,CAAAA,GAAOgB,EAC3C,CAEQ,OAAOC,EAAaH,EAAAA,CAC3B,IAAMI,EAAiBX,KAAKE,GACxBU,EAAiBD,EAAeE,OACpCb,KAAKE,GAAWK,EAEhB,IAAMO,EAAWd,KAAKG,EAChBY,EAASf,KAAKK,EAIfL,KAAKgB,aACRhB,KAAKiB,aAAAA,EAGP,QAASC,EAAI,EAAGA,EAAIX,EAAKM,QAAAA,EAEnBK,EAAIlB,KAAKC,IAFkBiB,IAAK,CAMpC,IAAMC,EAAQZ,EAAKW,CAAAA,EAGnB,GAAA,CAAK1B,GAAU2B,CAAAA,EAIb,OAHAnB,KAAKC,GAAsBiB,EAGpBC,EAILD,EAAIN,GAAkBO,IAAUR,EAAeO,CAAAA,IAMnDlB,KAAKC,GAAsBL,GAC3BgB,EAAiB,EAMjBQ,QAAQC,QAAQF,CAAAA,EAAOxB,KAAK2B,MAAOC,GAAAA,CAIjC,KAAOR,EAAOS,IAAAA,GAAAA,MACNT,EAAOS,IAAAA,EAKf,IAAMC,EAAQX,EAASY,MAAAA,EACvB,GAAID,IAAJ,OAAyB,CACvB,IAAME,EAAQF,EAAMvB,GAAS0B,QAAQT,CAAAA,EAIjCQ,EAAAA,IAAcA,EAAQF,EAAMxB,KAC9BwB,EAAMxB,GAAsB0B,EAC5BF,EAAMI,SAASN,CAAAA,EAElB,CAAA,CAAA,EAEJ,CAED,OAAOd,EACR,CAEQ,cAAAQ,CACPjB,KAAKG,EAAW2B,WAAAA,EAChB9B,KAAKK,EAAS0B,MAAAA,CACf,CAEQ,aAAAC,CACPhC,KAAKG,EAAW8B,UAAUjC,IAAAA,EAC1BA,KAAKK,EAAS6B,OAAAA,CACf,CAAA,EAwBUC,GAAQC,GAAUvC,EAAAA,EClH/B,IAAMwC,GAA8BC,GAElC,cAA4BA,CAAW,CAIrC,WAAW,oBAAqB,CAC9B,MAAO,CAAC,CACV,CAKA,WAAW,2BAA4B,CACrC,MAAO,EACT,CAEA,aAAc,CACZ,MAAM,EAEN,KAAK,iBAAmBC,GAAmB,EAG3C,KAAK,+BAEH,IAAIC,IAAS,CACX,IAAMC,EAAoC,MAAM,KAAKD,CAAI,EAAE,CAAC,EAC5D,KAAK,0BAA0BC,CAAK,CACtC,EAEF,KAAK,gCAAkC,IAAM,CAC3C,KAAK,2BAA2B,CAClC,EAIA,KAAK,iCAAiC,EAElC,KAAK,0BACP,KAAK,yBAAyB,KAAK,IAAM,CAEvC,KAAK,sBAAwB,EAC/B,CAAC,CAEL,CAMA,MAAM,gBAAiB,CACjB,OAAO,eAAe,IAAI,EAAE,YAAY,2BAC1C,MAAM,KAAK,yBAEb,MAAM,eAAe,CACvB,CAEA,mBAAoB,CAClB,MAAM,kBAAkB,EACpB,KAAK,0BACP,KAAK,yBAAyB,KAAK,IAAM,KAAK,cAAc,CAAC,EAE/D,KAAK,iBAAiB,iBACpB,mBACA,KAAK,+BACP,EACA,KAAK,iBAAiB,iBAAiB,gBAAiB,KAAK,8BAA8B,CAC7F,CAEA,sBAAuB,CACrB,MAAM,qBAAqB,EAC3B,KAAK,iBAAiB,oBACpB,mBACA,KAAK,+BACP,EACA,KAAK,iBAAiB,oBACpB,gBACA,KAAK,8BACP,CACF,CASA,OAAOC,EAAMC,EAAWC,EAAS,CAC/B,OAAI,KAAK,sBACA,KAAK,iBAAiB,IAAIF,EAAMC,EAAWC,CAAO,EAGtD,KAAK,yBAIHC,GACL,KAAK,yBAAyB,KAAK,IACjC,KAAK,iBAAiB,IAAIH,EAAMC,EAAWC,CAAO,CACpD,EACAE,CACF,EARS,EASX,CAMA,uBAAwB,CAEtB,IAAMC,EAAmB,CAAC,EAGpBC,EAAI,IAAI,IACd,cAAO,eAAe,IAAI,EAAE,YAAY,mBAAmB,QAAQA,EAAE,IAAI,KAAKA,CAAC,CAAC,EAChFA,EAAE,QAAQC,GAAmB,CAC3BF,EAAiB,KAAKE,CAAe,CACvC,CAAC,EACMF,CACT,CAGA,kCAAmC,CACjC,KAAK,yBAA2B,KAAK,iBAAiB,eACpD,KAAK,sBAAsB,CAC7B,CACF,CAOA,4BAA6B,CAC3B,KAAK,iCAAiC,CACxC,CAMA,0BAA0BN,EAAO,CAC/B,KAAK,gBAAgBA,EAAM,OAAO,UAAWA,EAAM,OAAO,SAAS,CACrE,CAEA,eAAgB,CACd,KAAK,gBAAgB,CACvB,CAOA,gBAAgBS,EAAWC,EAAW,CACpC,KAAK,gBAAgB,EACrB,KAAK,cAAc,CACrB,CAGA,iBAAkB,CAAC,CACrB,EAEWC,GAAgBC,GAAYhB,EAA2B,EClL7D,IAAMiB,GAAgBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;ECEtB,SAASC,GACdC,EAAO,IAAI,KACX,CACE,UAAAC,EAAY,EACZ,QAAAC,EAAU,GACV,YAAAC,EAAc,GACd,SAAAC,EAAW,GACX,cAAAC,EAAgB,GAChB,aAAAC,EAAe,GACf,UAAAC,EAAY,GACZ,KAAAC,EAAO,GACP,MAAAC,EAAQ,GACR,OAAAC,EAAS,GACT,SAAAC,EAAW,GACX,aAAAC,EAAe,EACjB,EAAI,CAAC,EACL,CACA,MAAO,CACL,UAAAX,EACA,QAAAC,EACA,KAAAF,EACA,YAAAG,EACA,SAAAC,EACA,cAAAC,EACA,aAAAC,EACA,UAAAC,EACA,KAAAC,EACA,MAAAC,EACA,OAAAC,EACA,SAAAC,EACA,SAAU,KACV,YAAa,QACb,YAAa,OACb,aAAAC,CACF,CACF,CC/BO,SAASC,GAAWC,EAAM,CAAE,eAAAC,EAAiB,CAAE,EAAI,CAAC,EAAG,CAC5D,GAAI,OAAO,UAAU,SAAS,KAAKD,CAAI,IAAM,gBAC3C,MAAM,IAAI,MAAM,uBAAuB,EAEzC,IAAIE,EAAgB,IAAI,KAAKF,CAAI,EAE3BG,EAAU,IAAI,KAAKH,CAAI,EAC7B,KAAOG,EAAQ,OAAO,IAAMF,GAC1BE,EAAQ,QAAQA,EAAQ,QAAQ,EAAI,CAAC,EACrCD,EAAgB,IAAI,KAAKC,CAAO,EAGlC,IAAMC,EAAO,CAEX,KAAM,CAAC,CACT,EACA,QAASC,EAAI,EAAGA,EAAI,EAAGA,GAAK,EACtBA,IAAM,GACRH,EAAc,QAAQA,EAAc,QAAQ,EAAI,CAAC,EAEnDE,EAAK,KAAK,KACRE,GAAU,IAAI,KAAKJ,CAAa,EAAG,CACjC,UAAWG,EACX,YAAaA,IAAM,CACrB,CAAC,CACH,EAEF,OAAOD,CACT,CC3BO,SAASG,GAAYC,EAAM,CAAE,eAAAC,EAAiB,CAAE,EAAI,CAAC,EAAG,CAC7D,GAAI,OAAO,UAAU,SAAS,KAAKD,CAAI,IAAM,gBAC3C,MAAM,IAAI,MAAM,uBAAuB,EAEzC,IAAME,EAAkB,IAAI,KAAKF,CAAI,EACrCE,EAAgB,QAAQ,CAAC,EACzB,IAAMC,EAAc,CAAE,eAAAF,CAAe,EAE/BG,EAAQ,CAEZ,MAAO,CAAC,CACV,EAEIC,EAAWC,GAAWJ,EAAiBC,CAAW,EACtD,EAAG,CACDC,EAAM,MAAM,KAAKC,CAAQ,EACzB,IAAME,EAAqB,IAAI,KAAKF,EAAS,KAAK,CAAC,EAAE,IAAI,EACzDE,EAAmB,QAAQA,EAAmB,QAAQ,EAAI,CAAC,EAC3DF,EAAWC,GAAWC,EAAoBJ,CAAW,CACvD,OAASC,EAAM,MAAM,SAAW,GAEhC,OAAOA,CACT,CCxBO,SAASI,GACdC,EACA,CAAE,eAAAC,EAAiB,EAAG,WAAAC,EAAa,EAAG,aAAAC,EAAe,CAAE,EAAI,CAAC,EAC5D,CACA,IAAMC,EAAiB,CAErB,OAAQ,CAAC,CACX,EAEA,QAASC,EAAIH,EAAYG,EAAI,EAAGA,GAAK,EAAG,CACtC,IAAMC,EAAW,IAAI,KAAKN,CAAI,EAC9BM,EAAS,SAASA,EAAS,SAAS,EAAID,CAAC,EACzCD,EAAe,OAAO,KAAKG,GAAYD,EAAU,CAAE,eAAAL,CAAe,CAAC,CAAC,CACtE,CAEAG,EAAe,OAAO,KAAKG,GAAYP,EAAM,CAAE,eAAAC,CAAe,CAAC,CAAC,EAEhE,QAASI,EAAI,EAAGA,EAAIF,EAAcE,GAAK,EAAG,CACxC,IAAMG,EAAa,IAAI,KAAKR,CAAI,EAChCQ,EAAW,SAASA,EAAW,SAAS,GAAKH,EAAI,EAAE,EACnDD,EAAe,OAAO,KAAKG,GAAYC,EAAY,CAAE,eAAAP,CAAe,CAAC,CAAC,CACxE,CAEA,OAAOG,CACT,CC/BO,IAAMK,GAAqB,CAChC,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,UACF,EAOO,SAASC,GAAgBC,EAAKC,EAAUC,EAAeJ,GAAoB,CAChF,IAAMK,EAAYH,EAAI,KAAK,QAAQ,EAC7BI,EAAYF,EAAaF,EAAI,KAAK,SAAS,CAAC,EAC5CK,EAAOL,EAAI,KAAK,YAAY,EAC5BM,EAAcN,EAAI,UAAYC,EAASD,EAAI,SAAS,EAAIC,EAAS,CAAC,EAExE,MAAO,CAAE,UAAAE,EAAW,UAAAC,EAAW,KAAAC,EAAM,YAAAC,CAAY,CACnD,CCvBA,IAAMC,GAAgB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACpCC,GAAiB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAE,EAO/D,SAASC,GAAYC,EAAK,CAAE,SAAAC,EAAU,aAAAC,EAAeC,EAAmB,EAAG,CAChF,GAAM,CAAE,UAAAC,EAAW,UAAAC,EAAW,KAAAC,EAAM,YAAAC,CAAY,EAAIC,GAAgBR,EAAKC,EAAUC,CAAY,EAE/F,SAASO,GAAgB,CACvB,MAAO,GAAGJ,CAAS,IAAIC,CAAI,IAAIC,CAAW,EAC5C,CAEA,SAASG,GAAyB,CAChC,MAAO,GAAGV,EAAI,YAAY,EAC5B,CAEA,IAAMW,EAAWP,IAAc,EACzBQ,EAAiBZ,EAAI,YAAc,GAAKH,GAAc,SAASO,CAAS,EACxES,EAAuBb,EAAI,aAAeH,GAAc,SAASO,CAAS,EAE5EE,EAAO,IAAM,IAAMA,EAAO,MAAQ,GAAKA,EAAO,MAAQ,KACxDR,GAAe,CAAC,EAAI,IAEtB,IAAMgB,EAAgBhB,GAAeE,EAAI,KAAK,SAAS,CAAC,EAClDe,EAAe,CAAC,EACtB,QAASC,EAAIF,EAAeE,GAAKF,EAAgB,EAAGE,GAAK,EACvDD,EAAa,KAAKC,CAAC,EAErB,IAAMC,EAAoBjB,EAAI,YAAc,GAAKe,EAAa,SAASX,CAAS,EAC1Ec,EAAkBlB,EAAI,aAAee,EAAa,SAASX,CAAS,EACpEe,EAAUL,IAAkBV,EAElC,OAAOgB;AAAA;AAAA;AAAA;AAAA,uBAIcpB,EAAI,YAAY;AAAA,mBACpBW,CAAQ;AAAA,2BACAC,CAAc;AAAA,kCACPC,CAAoB;AAAA,+BACvBI,CAAiB;AAAA,4BACpBC,CAAe;AAAA,kBACzBC,CAAO;AAAA;AAAA;AAAA;AAAA,gBAITnB,EAAI,IAAI;AAAA;AAAA,mBAELqB,GAAUrB,EAAI,QAAQ,CAAC;AAAA,uBACnBqB,GAAUrB,EAAI,WAAW,CAAC;AAAA,uBAC1BqB,GAAUrB,EAAI,WAAW,CAAC;AAAA,wBACzBA,EAAI,SAAW,OAAS,OAAO;AAAA,oBACnCA,EAAI,QAAQ;AAAA,gBAChBA,EAAI,IAAI;AAAA,iBACPA,EAAI,KAAK;AAAA,kBACRA,EAAI,MAAM;AAAA,0BACFA,EAAI,aAAa;AAAA,yBAClBA,EAAI,YAAY;AAAA,sBACnBA,EAAI,SAAS;AAAA;AAAA,mDAEgBI,CAAS;AAAA,kCAC1BK,EAAc,CAAC,IAAIC,EAAuB,CAAC;AAAA;AAAA;AAAA,GAI7E,CCjEO,SAASY,GACdC,EACA,CAAE,cAAAC,EAAe,SAAAC,EAAU,aAAAC,EAAc,YAAAC,EAAcA,EAAmB,EAC1E,CACA,OAAOC;AAAA;AAAA,QAEDL,EAAK,OAAO,IACZM,GAASD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUCJ,EAAc,IACd,CAACM,EAAQC,IAAMH;AAAA;AAAA;AAAA;AAAA;AAAA,oCAKGH,EAASM,CAAC,CAAC;AAAA;AAAA,wBAEvBD,CAAM;AAAA;AAAA,mBAGd,CAAC;AAAA;AAAA;AAAA;AAAA,gBAIDD,EAAM,MAAM,IACZG,GAAQJ;AAAA;AAAA,sBAEFI,EAAK,KAAK,IAAIC,GACdN,EAAYM,EAAK,CAAE,cAAAT,EAAe,SAAAC,EAAU,aAAAC,CAAa,CAAC,CAC5D,CAAC;AAAA;AAAA,iBAGP,CAAC;AAAA;AAAA;AAAA,SAIT,CAAC;AAAA;AAAA,GAGP,CC/CO,SAASQ,GAAqBC,EAAM,CACzC,IAAMC,EAAS,IAAI,KAAKD,CAAI,EAC5B,OAAAC,EAAO,QAAQ,CAAC,EAChBA,EAAO,SAASD,EAAK,SAAS,EAAI,CAAC,EAC5BC,CACT,CCLO,SAASC,GAAwBC,EAAM,CAC5C,IAAMC,EAAW,IAAI,KAAKD,CAAI,EAC9B,OAAAC,EAAS,QAAQ,CAAC,EACX,IAAI,KAAKA,CAAQ,CAC1B,CCcA,IAAMC,GAA6CC,GACjDA,EAAG,UAAU,SAAS,sBAAsB,EAM9C,SAASC,GAAoBD,EAAI,CAC/B,OAAOA,EAAG,aAAa,eAAe,IAAM,MAC9C,CAKO,IAAME,GAAN,cAA2BC,GAAcC,EAAU,CAAE,CAC1D,WAAW,oBAAqB,CAC9B,MAAO,CACL,CACE,gBAA+CC,GAAU,CACvD,OAAQA,EAAQ,CACd,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,IAAK,QACL,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,IAAK,QACL,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,IAAK,QACL,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,IAAK,QACL,IAAK,KACH,MAAO,QAAO,kBAAsC,EACtD,QACE,MAAO,QAAO,kBAAsC,CACxD,CACF,CACF,EACA,GAAG,MAAM,kBACX,CACF,CAEA,WAAW,YAAa,CACtB,MAAO,CAIL,QAAS,CAAE,UAAW,EAAM,EAK5B,QAAS,CAAE,UAAW,EAAM,EAK5B,aAAc,CAAE,UAAW,EAAM,EAMjC,aAAc,CAAE,UAAW,EAAM,EAOjC,YAAa,CAAE,UAAW,EAAM,EAOhC,eAAgB,CAAE,UAAW,EAAM,EASnC,sBAAuB,CAAE,UAAW,EAAM,EAK1C,OAAQ,CAAE,UAAW,EAAM,EAK3B,cAAe,CAAE,UAAW,EAAM,EAKlC,OAAQ,CAAE,UAAW,EAAM,CAC7B,CACF,CAEA,aAAc,CACZ,MAAM,EAIN,KAAK,OAAS,CAAE,OAAQ,CAAC,CAAE,EAC3B,KAAK,QAAU,IAAI,KAAK,CAAC,EAEzB,KAAK,QAAU,IAAI,KAAK,MAAgB,EAExC,KAAK,gBAAkBC,GAAOA,EAI9B,KAAK,aAAeA,GAAO,GAE3B,KAAK,eAAiB,EACtB,KAAK,sBAAwB,QAE7B,KAAK,QAAUC,EAAkB,IAAI,IAAM,EAE3C,KAAK,YAAc,KAAK,QAKxB,KAAK,cAAgB,KAErB,KAAK,wBAA0B,GAE/B,KAAK,cAAgB,GACrB,KAAK,OAAS,GAEd,KAAK,+BAAiC,KAAK,0BAA0B,KAAK,IAAI,EAE9E,KAAK,2BAA6B,KAAK,sBAAsB,KAAK,IAAI,EAEtE,KAAK,2BAA6B,KAAK,sBAAsB,KAAK,IAAI,EAEtE,KAAK,0BAA4B,KAAK,sBAAsB,KAAK,IAAI,CACvE,CAEA,WAAW,QAAS,CAClB,MAAO,CAACC,EAAa,CACvB,CAEA,QAAS,CACP,OAAOC;AAAA;AAAA,UAED,KAAK,mBAAmB,CAAC,IAAI,KAAK,aAAa,CAAC;AAAA;AAAA,KAGxD,CAEA,IAAI,aAAc,CAChB,OAAO,KAAK,aACd,CAEA,eAAgB,CACd,KAAK,aAAa,EAAG,CAAE,SAAU,cAAe,KAAM,OAAQ,CAAC,CACjE,CAEA,mBAAoB,CAClB,KAAK,aAAa,GAAI,CAAE,SAAU,cAAe,KAAM,OAAQ,CAAC,CAClE,CAEA,cAAe,CACb,KAAK,aAAa,EAAG,CAAE,SAAU,cAAe,KAAM,UAAW,CAAC,CACpE,CAEA,kBAAmB,CACjB,KAAK,aAAa,GAAI,CAAE,SAAU,cAAe,KAAM,UAAW,CAAC,CACrE,CAKA,MAAM,UAAUC,EAAM,CACpB,KAAK,YAAcA,EACnB,MAAM,KAAK,eACX,KAAK,iBAAiB,CACxB,CAEA,kBAAmB,EAEf,KAAK,YAAY,cAAc,qBAAqB,GAEA,cAAc,gBAAgB,EAC7E,MAAM,EACb,KAAK,cAAgB,KAAK,WAC5B,CAEA,MAAM,mBAAoB,CACpB,KAAK,cACP,MAAM,KAAK,UAAU,KAAK,YAAY,CAE1C,CAEA,MAAM,mBAAoB,CAExB,MAAM,kBAAkB,EAExB,KAAK,wBAA0B,GAO/B,MAAM,KAAK,eAaN,KAAK,gBACR,KAAK,wBACH,KAAK,YAAY,eAAe,oBAAoB,EAEtD,KAAK,wBAAwB,iBAAiB,QAAS,KAAK,0BAA0B,EACtF,KAAK,wBAAwB,iBAAiB,QAAS,KAAK,0BAA0B,EACtF,KAAK,wBAAwB,iBAAiB,OAAQ,KAAK,yBAAyB,EACpF,KAAK,wBAAwB,iBAAiB,UAAW,KAAK,8BAA8B,EAC5F,KAAK,cAAgB,GAEzB,CAEA,cAAe,CACb,KAAK,8BAA8B,EAGnC,KAAK,OAAS,KAAK,aAAa,CAClC,CAEA,sBAAuB,CACrB,MAAM,qBAAqB,EACvB,KAAK,0BACP,KAAK,wBAAwB,oBAAoB,QAAS,KAAK,0BAA0B,EACzF,KAAK,wBAAwB,oBAAoB,QAAS,KAAK,0BAA0B,EACzF,KAAK,wBAAwB,oBAAoB,OAAQ,KAAK,yBAAyB,EACvF,KAAK,wBAAwB,oBAC3B,UACA,KAAK,8BACP,EAEA,KAAK,cAAgB,GAEzB,CAGA,QAAQC,EAAmB,CACzB,MAAM,QAAQA,CAAiB,EAC3BA,EAAkB,IAAI,eAAe,GAAK,KAAK,eACjD,KAAK,iBAAiB,CAE1B,CAQA,cAAcC,EAAMC,EAAUC,EAAS,CAGrC,GAFA,MAAM,cAAcF,EAAMC,EAAUC,CAAO,EAEvCF,IAAS,OACX,OAGEA,IAAS,iBACX,KAAK,qBAAqB,EAGP,CAAC,cAAe,UAAW,UAAW,eAAgB,cAAc,EAExE,SAASA,CAAI,GAAK,KAAK,0BACtC,KAAK,OAAS,KAAK,aAAa,EAEpC,CAMA,iBAAkB,CACZ,KAAK,aACP,KAAK,kBAAkB,GAEvB,KAAK,YAAmC,KAAK,qBAC7C,KAAK,iBAAiB,EAE1B,CAKA,+BAAgC,CAC1B,KAAK,cAAgB,KAAK,SAAW,KAAK,aAE5C,KAAK,YAAc,KAAK,aACd,KAAK,gBAAgB,KAAK,WAAW,IAC/C,KAAK,YAAc,KAAK,uBAAuB,KAAK,WAAW,GAGjE,KAAK,qBAAuB,KAAK,WACnC,CAOA,wBAAwBG,EAAOC,EAAM,CACnC,IAAMC,EACJ,KAAK,YAAY,SAAS,IAAM,GAC5BC,EAAc,CAAE,OAAQ,KAAK,YAAY,CAAE,CAAC,EAAE,CAAC,EAC/CA,EAAc,CAAE,OAAQ,KAAK,YAAY,CAAE,CAAC,EAAE,KAAK,YAAY,SAAS,EAAI,CAAC,EAC7EC,EACJ,KAAK,YAAY,SAAS,IAAM,EAC5BD,EAAc,CAAE,OAAQ,KAAK,YAAY,CAAE,CAAC,EAAE,EAAE,EAChDA,EAAc,CAAE,OAAQ,KAAK,YAAY,CAAE,CAAC,EAAE,KAAK,YAAY,SAAS,EAAI,CAAC,EAC7EE,EAAW,KAAK,YAAY,SAAS,IAAM,GAAKJ,EAAO,EAAIA,EAC3DK,EAAe,KAAK,YAAY,SAAS,IAAM,EAAIL,EAAO,EAAIA,EACpE,OAAOP;AAAA;AAAA,UAED,KAAK,uBAAuB,QAASU,EAAeE,CAAY,CAAC;AAAA,iFACMN,CAAK;AAAA,UAC5E,KAAK,mBAAmB,QAASE,EAAWG,CAAQ,CAAC;AAAA;AAAA,KAG7D,CAOA,uBAAuBL,EAAOC,EAAM,CAClC,IAAMI,EAAWJ,EAAO,EAClBK,EAAeL,EAAO,EAE5B,OAAOP;AAAA;AAAA,UAED,KAAK,uBAAuB,WAAYM,EAAOM,CAAY,CAAC;AAAA,gFACUL,CAAI;AAAA,UAC1E,KAAK,mBAAmB,WAAYD,EAAOK,CAAQ,CAAC;AAAA;AAAA,KAG5D,CAKA,oBAAqB,CACnB,IAAML,EAAQG,EAAc,CAAE,OAAQ,KAAK,YAAY,CAAE,CAAC,EAAE,KAAK,YAAY,SAAS,CAAC,EACjFF,EAAO,KAAK,YAAY,YAAY,EAC1C,OAAOP;AAAA;AAAA,UAED,KAAK,uBAAuBM,EAAOC,CAAI,CAAC,IAAI,KAAK,wBAAwBD,EAAOC,CAAI,CAAC;AAAA;AAAA,KAG7F,CAKA,cAAe,CACb,OAAOM,GAAa,KAAK,OAAQ,CAC/B,aAAcJ,EAAc,CAAE,OAAQ,KAAK,YAAY,CAAE,CAAC,EAC1D,cAAeK,GAAgB,CAC7B,OAAQ,KAAK,YAAY,EACzB,MAAO,KAAK,sBACZ,eAAgB,KAAK,cACvB,CAAC,EACD,SAAUA,GAAgB,CACxB,OAAQ,KAAK,YAAY,EACzB,MAAO,OACP,eAAgB,KAAK,cACvB,CAAC,EACD,YAAAC,EACF,CAAC,CACH,CAQA,sBAAsBC,EAAMN,EAAeE,EAAc,CACvD,IAAIK,EACAX,EAAQI,EACZ,OAAI,KAAK,SAAWM,IAAS,QAC3BC,EAAWC,GAAwB,KAAK,WAAW,EAAI,KAAK,QACnD,KAAK,UACdD,EAAWL,EAAe,KAAK,QAAQ,YAAY,GAEjD,CAACK,GAAY,KAAK,SAAWD,IAAS,YAEpCJ,IAAiB,KAAK,QAAQ,YAAY,GACxC,KAAK,YAAY,SAAS,EAAI,KAAK,QAAQ,SAAS,IACtDN,EAAQG,EAAc,CAAE,OAAQ,KAAK,YAAY,CAAE,CAAC,EAAE,KAAK,QAAQ,SAAS,CAAC,GAI5E,CAAE,SAAAQ,EAAU,MAAAX,CAAM,CAC3B,CAQA,kBAAkBU,EAAMR,EAAWG,EAAU,CAC3C,IAAIM,EACAX,EAAQE,EACZ,OAAI,KAAK,SAAWQ,IAAS,QAC3BC,EAAWE,GAAqB,KAAK,WAAW,EAAI,KAAK,QAChD,KAAK,UACdF,EAAWN,EAAW,KAAK,QAAQ,YAAY,GAE7C,CAACM,GAAY,KAAK,SAAWD,IAAS,YAEpCL,IAAa,KAAK,QAAQ,YAAY,GACpC,KAAK,YAAY,SAAS,GAAK,KAAK,QAAQ,SAAS,IACvDL,EAAQG,EAAc,CAAE,OAAQ,KAAK,YAAY,CAAE,CAAC,EAAE,KAAK,QAAQ,SAAS,CAAC,GAI5E,CAAE,SAAAQ,EAAU,MAAAX,CAAM,CAC3B,CASA,uBAAuBU,EAAMN,EAAeE,EAAc,CACxD,GAAM,CAAE,SAAAK,EAAU,MAAAX,CAAM,EAAI,KAAK,sBAAsBU,EAAMN,EAAeE,CAAY,EAClFQ,EAAsB,KAAK,qBAAqB,WAAYJ,EAAMV,EAAOM,CAAY,EAS3F,OAAOZ;AAAA;AAAA;AAAA,qBAGUoB,CAAmB;AAAA,gBACxBA,CAAmB;AAAA,iBAZH,IAAM,CAC5BJ,IAAS,WACX,KAAK,iBAAiB,EAEtB,KAAK,kBAAkB,CAE3B,CAOgC;AAAA,oBAChBC,CAAQ;AAAA;AAAA,UAElB,KAAK,sBAAsB,CAAC;AAAA;AAAA,KAGpC,CAGA,uBAAwB,CACtB,OAAOjB,OACT,CASA,mBAAmBgB,EAAMR,EAAWG,EAAU,CAC5C,GAAM,CAAE,SAAAM,EAAU,MAAAX,CAAM,EAAI,KAAK,kBAAkBU,EAAMR,EAAWG,CAAQ,EACtEU,EAAkB,KAAK,qBAAqB,OAAQL,EAAMV,EAAOK,CAAQ,EAS/E,OAAOX;AAAA;AAAA;AAAA,qBAGUqB,CAAe;AAAA,gBACpBA,CAAe;AAAA,iBAZC,IAAM,CAC5BL,IAAS,WACX,KAAK,aAAa,EAElB,KAAK,cAAc,CAEvB,CAOgC;AAAA,oBAChBC,CAAQ;AAAA;AAAA,UAElB,KAAK,kBAAkB,CAAC;AAAA;AAAA,KAGhC,CAGA,mBAAoB,CAClB,OAAOjB,OACT,CAUA,qBAAqBsB,EAAMN,EAAMV,EAAOC,EAAM,CAC5C,MAAO,GAAG,KAAK,OAAO,iBAAiBe,CAAI,GAAGN,CAAI,EAAE,CAAC,KAAKV,CAAK,IAAIC,CAAI,EACzE,CAMA,0BAA2B,CACzB,IAAMgB,EAAaC,GAAU,IAAI,KAAK,KAAK,OAAO,CAAC,EAC7CC,EAAaD,GAAU,IAAI,KAAK,KAAK,OAAO,CAAC,EAE7CE,EAAkEzB,GAAS,CAC/E,GAAM,CAAE,UAAA0B,EAAW,UAAAC,EAAW,KAAArB,CAAK,EAAIsB,GACrC5B,EACAa,GAAgB,CACd,OAAQ,KAAK,YAAY,EACzB,MAAO,OACP,eAAgB,KAAK,cACvB,CAAC,CACH,EACA,MAAO,GAAGa,CAAS,IAAIC,CAAS,IAAIrB,CAAI,EAC1C,EAEMuB,EAAyBJ,EAAkBH,CAAU,EACrDQ,EAAuBL,EAAkBD,CAAU,EAEzD,MAAO,CACL,uBAAAK,EACA,qBAAAC,CACF,CACF,CAQA,sBAAsBC,EAAM,CAAE,aAAAC,EAAe,EAAM,EAAI,CAAC,EAAG,CACzD,IAAMpC,EAAM2B,GAAU,IAAI,KAAKQ,EAAK,IAAI,EAAGA,CAAI,EACzCE,EAAQpC,EAAkB,IAAI,IAAM,EAC1CD,EAAI,QAAUsC,GAAWtC,EAAI,KAAM,KAAK,WAAW,EACnD,IAAMuC,EAAe,GAAGvC,EAAI,KAAK,YAAY,CAAC,GAAG,IAAIA,EAAI,KAAK,SAAS,EAAI,CAAC,GAAG,MAAM,EAAE,CAAC,GAClFwC,EACJJ,GAAgB,GAAGA,EAAa,YAAY,CAAC,GAAG,IAAIA,EAAa,SAAS,EAAI,CAAC,GAAG,MAAM,EAAE,CAAC,GAC7F,OAAApC,EAAI,cAAgBoC,GAAgBG,EAAeC,EACnDxC,EAAI,aAAeoC,GAAgBG,IAAiBC,EACpDxC,EAAI,UAAYoC,GAAgBG,EAAeC,EAC/CxC,EAAI,SAAW,KAAK,aAAesC,GAAWtC,EAAI,KAAM,KAAK,YAAY,EAAI,GAC7EA,EAAI,KAAOA,EAAI,KAAOqC,EACtBrC,EAAI,MAAQsC,GAAWtC,EAAI,KAAMqC,CAAK,EACtCrC,EAAI,OAASA,EAAI,KAAOqC,EACxBrC,EAAI,SAAW,KAAK,aAAaA,EAAI,IAAI,EACzCA,EAAI,SAAWA,EAAI,QAAU,IAAM,KACnCA,EAAI,YAAcA,EAAI,SAAW,OAAS,QAC1CA,EAAI,YAAcA,EAAI,MAAQ,OAAS,OACvCA,EAAI,aAAe,GAEf,KAAK,SAAWC,EAAkBD,EAAI,IAAI,EAAIC,EAAkB,KAAK,OAAO,IAC9ED,EAAI,SAAW,GAEfA,EAAI,aAAe,wDACjB,KAAK,yBAAyB,EAAE,sBAClC,iCAGE,KAAK,SAAWC,EAAkBD,EAAI,IAAI,EAAIC,EAAkB,KAAK,OAAO,IAC9ED,EAAI,SAAW,GAEfA,EAAI,aAAe,sDACjB,KAAK,yBAAyB,EAAE,oBAClC,iCAGEA,EAAI,WAENA,EAAI,aAAe,wDAGd,KAAK,gBAAgBA,CAAG,CACjC,CAMA,aAAaQ,EAAS,CACpB,IAAMiC,EAAOC,GAAoB,KAAK,YAAa,CACjD,eAAgB,KAAK,eACrB,GAAGlC,CACL,CAAC,EACD,OAAAiC,EAAK,OAAO,QAAQ,CAAChC,EAAOkC,IAAW,CACrClC,EAAM,MAAM,QAAQ,CAACmC,EAAMC,IAAU,CACnCD,EAAK,KAAK,QAAQ,CAAC5C,EAAK8C,IAAS,CAE/B,IAAMC,EAAaN,EAAK,OAAOE,CAAM,EAAE,MAAME,CAAK,EAAE,KAAKC,CAAI,EACvDV,EAAeK,EAAK,OAAOE,CAAM,EAAE,MAAM,CAAC,EAAE,KAAK,CAAC,EAAE,KAC1DF,EAAK,OAAOE,CAAM,EAAE,MAAME,CAAK,EAAE,KAAKC,CAAI,EAAI,KAAK,sBAAsBC,EAAY,CACnF,aAAAX,CACF,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,EACMK,CACT,CAMA,qBAAqBO,EAAc,CACjC,KAAK,aAAeA,EACpB,KAAK,cAAgBA,EACrB,KAAK,cACH,IAAI,YAAY,6BAA8B,CAC5C,OAAQ,CACN,aAAAA,CACF,CACF,CAAC,CACH,CACF,CAKA,sBAAuB,CACjB,KAAK,gBACP,KAAK,YAAc,KAAK,cAE5B,CAMA,oBAAoB5C,EAAM,CACxB,IAAM6C,EAAQ7C,GAAQ,KAAK,YAC3B,OAAO,KAAK,yBAAyB6C,EAAO,CAAE,KAAM,QAAS,CAAC,CAChE,CAMA,wBAAwB7C,EAAM,CAC5B,IAAM6C,EAAQ7C,GAAQ,KAAK,YAC3B,OAAO,KAAK,yBAAyB6C,EAAO,CAAE,KAAM,MAAO,CAAC,CAC9D,CAMA,uBAAuB7C,EAAM,CAC3B,IAAM6C,EAAQ7C,GAAQ,KAAK,YAC3B,OAAO,KAAK,yBAAyB6C,EAAO,CAAE,KAAM,MAAO,CAAC,CAC9D,CAMA,gBAAgB7C,EAAM,CAEpB,MAAO,CADc,KAAK,sBAAsB,CAAE,KAAAA,CAAK,CAAC,EACnC,QACvB,CAQA,yBAAyBA,EAAM,CAAE,KAAAqB,EAAO,MAAO,EAAI,CAAC,EAAG,CACrD,IAAMyB,EACJ,KAAK,SAAW,KAAK,QAAU9C,EAAO,IAAI,KAAK,KAAK,OAAO,EAAI,IAAI,KAAKA,CAAI,EACxE+C,EAAW,KAAK,SAAW,KAAK,QAAU/C,EAAO,IAAI,KAAK,KAAK,OAAO,EAAI,IAAI,KAAKA,CAAI,EAEzF,KAAK,SAAW,KAAK,QAAUA,GACjC8C,EAAW,QAAQA,EAAW,QAAQ,EAAI,CAAC,EAEzC,KAAK,SAAW,KAAK,QAAU9C,GACjC+C,EAAS,QAAQA,EAAS,QAAQ,EAAI,CAAC,EAGzC,IAAIC,EAAI,EACR,EAAG,CAED,GADAA,GAAK,GACD3B,IAAS,QAAUA,IAAS,YAC9ByB,EAAW,QAAQA,EAAW,QAAQ,EAAI,CAAC,EACvC,KAAK,gBAAgBA,CAAU,GACjC,OAAOA,EAGX,IAAIzB,IAAS,QAAUA,IAAS,UAC9B0B,EAAS,QAAQA,EAAS,QAAQ,EAAI,CAAC,EACnC,KAAK,gBAAgBA,CAAQ,GAC/B,OAAOA,CAGb,OAASC,EAAI,KAEb,IAAM1C,EAAON,EAAK,YAAY,EACxBK,EAAQL,EAAK,SAAS,EAAI,EAC1BJ,EAAMI,EAAK,QAAQ,EACzB,MAAM,IAAI,MACR,2DAA2DM,CAAI,IAAID,CAAK,IAAIT,CAAG,EACjF,CACF,CAMA,sBAAsBqD,EAAI,CACxB,IAAM3D,EAAkD2D,EAAG,aAAa,EAAE,CAAC,EACvE5D,GAAYC,CAAE,GAAK,CAACC,GAAoBD,CAAE,GAC5C,KAAK,qBAAqBA,EAAG,IAAI,CAErC,CAKA,uBAAwB,CAEpB,CAAC,KAAK,eACND,GAA2C,KAAK,YAAY,aAAc,IAE1E,KAAK,cACH,KAAK,YAAY,eAChB,KAEP,CAKA,sBAAuB,CACrB,WAAW,IAAM,CAEb,KAAK,YAAY,eACjB,CAACA,GAA2C,KAAK,YAAY,aAAc,IAE3E,KAAK,cAAgB,KAEzB,EAAG,CAAC,CACN,CAMA,qBAAqBC,EAAI,CACnBD,GAAYC,CAAE,GAAK,CAACC,GAAoBD,CAAE,GAC5C,KAAK,qBAAqBA,EAAG,IAAI,CAErC,CAMA,0BAA0B2D,EAAI,CAgB5B,OAfsB,CACpB,YACA,UACA,aACA,YACA,WACA,SACA,IACA,OACF,EAEkB,SAASA,EAAG,GAAG,GAC/BA,EAAG,eAAe,EAGZA,EAAG,IAAK,CACd,IAAK,IACL,IAAK,QACH,KAAK,qBAC0CA,EAAG,aAAa,EAAE,CAAC,CAClE,EACA,MACF,IAAK,UACH,KAAK,aAAa,GAAI,CAAE,SAAU,gBAAiB,KAAM,MAAO,CAAC,EACjE,MACF,IAAK,YACH,KAAK,aAAa,EAAG,CAAE,SAAU,gBAAiB,KAAM,MAAO,CAAC,EAChE,MACF,IAAK,YACH,KAAK,aAAa,GAAI,CAAE,SAAU,gBAAiB,KAAM,MAAO,CAAC,EACjE,MACF,IAAK,aACH,KAAK,aAAa,EAAG,CAAE,SAAU,gBAAiB,KAAM,MAAO,CAAC,EAChE,MACF,IAAK,WACCA,EAAG,SAAW,GAChB,KAAK,aAAa,EAAG,CAAE,SAAU,gBAAiB,KAAM,UAAW,CAAC,EAEpE,KAAK,aAAa,EAAG,CAAE,SAAU,gBAAiB,KAAM,OAAQ,CAAC,EAEnE,MACF,IAAK,SACCA,EAAG,SAAW,GAChB,KAAK,aAAa,GAAI,CAAE,SAAU,gBAAiB,KAAM,UAAW,CAAC,EAErE,KAAK,aAAa,GAAI,CAAE,SAAU,gBAAiB,KAAM,OAAQ,CAAC,EAEpE,MACF,IAAK,MACH,KAAK,cAAgB,KACrB,KAEJ,CACF,CAUA,aAAaC,EAAQ,CAAE,SAAAC,EAAU,KAAApC,CAAK,EAAG,CACvC,IAAMqC,EAAU,IAAI,KAAK,KAAK,WAAW,EASzC,GANIrC,IAAS,QACXqC,EAAQ,QAAQ,CAAC,EAEnBA,EAAQ,MAAMrC,CAAI,EAAE,EAAEqC,EAAQ,MAAMrC,CAAI,EAAE,EAAE,EAAImC,CAAM,EAGlDnC,IAAS,OAAQ,CACnB,IAAMsC,EAAU,IAAI,KAAKD,EAAQ,YAAY,EAAGA,EAAQ,SAAS,EAAI,EAAG,CAAC,EAAE,QAAQ,EACnFA,EAAQ,QAAQ,KAAK,IAAI,KAAK,YAAY,QAAQ,EAAGC,CAAO,CAAC,CAC/D,CACA,KAAKF,CAAQ,EAAIC,CACnB,CAKA,aAAc,CACZ,OAAO,KAAK,QAAU,KAAK,iBAAiB,MAC9C,CACF,EC16BO,IAAME,GAAiBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;ECCvB,IAAMC,EAAN,MAAMC,UAAwBC,EAAmB,CAEtD,OAAO,WAAa,CAElB,MAAO,CAAE,KAAM,KAAM,EACrB,OAAQ,CAAE,UAAW,UAAW,KAAM,MAAO,EAC7C,OAAQ,CAAE,UAAW,UAAW,KAAM,MAAO,EAC7C,SAAU,CAAE,KAAM,OAAQ,EAC1B,cAAe,CAAE,UAAW,iBAAkB,KAAM,KAAM,EAC1D,MAAO,CAAE,MAAO,EAAK,CACvB,EAEA,aAAc,CAEZ,MAAM,EAEN,KAAK,iBAAiB,aAAa,EAAE,KAAKC,GAAK,KAAK,MAAQA,CAAC,CAC/D,CAEA,mBAAoB,CAIlB,GAFA,MAAM,kBAAkB,EAEpB,KAAK,QAAU,CAAC,KAAK,MAAO,CAE9B,IAAMC,EAAM,cAAc,KAAK,MAAM,qBACrC,MAAMA,EAAK,CAAE,YAAa,aAAc,CAAC,EACtC,KAAKC,GAAK,CAET,GAAIA,EAAE,GACJ,OAAOA,EAAE,KAAK,EAEhB,MAAM,IAAI,MAAM,6CAA6CD,CAAG,EAAE,CACpE,CAAC,EACA,KAAKE,GAAQ,CAEZ,KAAK,MAAQ,KAAK,UAAYA,EAAK,MAAM,OAAOC,GAAK,KAAK,UAAU,SAASA,EAAE,MAAM,CAAC,EAAID,EAAK,MAC/F,KAAK,cAAc,CACrB,CAAC,EACA,MAAME,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACxC,CACF,CAEA,aAAa,EAAG,CAEd,IAAMC,EAAQ,KAAK,SAAW,MAAM,KAAK,EAAE,OAAO,eAAe,EAAE,IAAIC,GAAKA,EAAE,KAAK,EAAI,EAAE,OAAO,MAChG,KAAK,cAAc,IAAI,YAAY,iBAAkB,CAAE,OAAQ,CAAE,MAAOD,CAAM,EAAG,QAAS,EAAK,CAAC,CAAC,CACnG,CAEA,cAAe,CACb,OAAO,KAAK,OAAS,KAAK,KAC5B,CAEA,cAAe,CAET,KAAK,WACP,KAAK,cAAc,iBAAiBR,EAAgB,GAAG,IAAI,EAAE,SAAW,GAE5E,CAEA,QAAS,CAEP,OAAOU;AAAA,4BACiB,KAAK,MAAM,mBAAmB,aAAa,KAAK,YAAY,cAAc,KAAK,QAAQ;AAAA,wCAC3E,CAAC,KAAK,aAAa,IAAI,KAAK,MAAM,gBAAgB;AAAA,UAChF,KAAK,MAAM,IAAIJ,GAAKI;AAAA,2BACHJ,EAAE,MAAM,eAAe,KAAK,SAAWA,EAAE,QAAW,KAAK,eAAe,SAASA,EAAE,MAAM,CAAE,IAAIA,EAAE,KAAK;AAAA,SACxH,CAAC;AAAA;AAAA,KAGR,CACF,EAEAP,EAAgB,IAAM,MC1EtB,CAAC,eAAe,IAAI,mBAAmB,GAAK,eAAe,OAAO,oBAAqBY,CAAe,ECM/F,IAAMC,GAAN,cAA4BC,EAAa,CAE9C,OAAO,WAAa,CAElB,OAAQ,CAAE,UAAW,UAAW,KAAM,MAAO,EAC7C,OAAQ,CAAE,UAAW,UAAW,KAAM,MAAO,EAC7C,MAAO,CAAE,KAAM,OAAQ,EACvB,MAAO,CAAE,MAAO,EAAK,EACrB,YAAa,CAAE,MAAO,EAAK,EAC3B,QAAS,CAAE,MAAO,EAAK,CACzB,EAEA,aAAc,CAEZ,MAAM,EAEN,KAAK,iBAAiB,6BAA8BC,GAAS,CAC3D,KAAK,eAAeA,EAAM,OAAO,aAAa,QAAQ,CAAC,CACzD,CAAC,EAEDC,GAAe,aAAa,EAAE,KAAKC,GAAK,KAAK,MAAQA,CAAC,CACxD,CAEA,mBAAoB,CAElB,MAAM,kBAAkB,EAEnB,KAAK,OAAO,KAAK,SAAS,CACjC,CAEA,eAAeC,EAAM,CACnB,KAAK,YAAc,KAAK,QAAQ,OAAOC,GAAKA,EAAE,MAAQD,GAAQC,EAAE,MAASD,EAAO,GAAK,GAAK,GAAK,GAAK,CACtG,CAEA,UAAW,CAET,IAAME,EAAM,KAAK,OACb,cAAc,KAAK,MAAM,YAAc,8BAE3C,MAAMA,EAAK,CAAE,MAAO,WAAY,YAAa,aAAc,CAAC,EAC3D,KAAKH,GAAK,CAET,GAAIA,EAAE,GACJ,OAAOA,EAAE,KAAK,EAGhB,MAAM,IAAI,MAAM,uDAAuDG,CAAG,EAAE,CAC9E,CAAC,EACA,KAAKC,GAAQ,CAEZ,KAAK,WAAaA,EAAK,OACvB,KAAK,QAAUA,EAAK,OACf,KAAK,SACR,KAAK,OAASA,EAAK,OAAO,OAAO,CAACC,EAAKH,KACjCA,EAAE,QAAU,CAACG,EAAI,KAAKC,GAAKA,EAAE,SAAWJ,EAAE,MAAM,GAAGG,EAAI,KAAK,CAAE,OAAQH,EAAE,OAAQ,MAAOA,EAAE,SAAU,CAAC,EACjGG,GACN,CAAC,CAAC,GAGP,KAAK,WAAW,cAAc,8BAA8B,GAAG,MAAM,CACvE,CAAC,EACA,MAAOE,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACvC,CAEA,SAAU,CAEH,KAAK,iBAEV,KAAK,QAAU,CAAE,GAAI,KAAK,UAAW,EAEjC,KAAK,iBAAmB,SAAW,KAAK,gBAAkBC,EAAgB,MAC5E,KAAK,QAAU,CAAE,GAAG,KAAK,QAAQ,OAAO,GAAK,KAAK,gBAAkB,EAAE,MAAM,CAAE,GAElF,CAEA,cAAc,EAAG,CAEf,KAAK,cAAgB,EAAE,OAAO,MAC9B,KAAK,eAAiB,QACtB,KAAK,QAAQ,CACf,CAEA,eAAgB,CAEd,KAAK,aAAe,KACpB,KAAK,gBAAgB,EAErB,KAAK,eAAe,KAAK,IAAM,CAE7B,KAAK,WAAW,cAAc,8BAA8B,GAAG,MAAM,EACrE,KAAK,eAAe,IAAI,KAAK,EAAE,SAAS,EAAG,EAAG,EAAG,CAAC,CAAC,CACrD,CAAC,CAEH,CAEA,OAAOC,EAAmB,CAExB,MAAM,OAAOA,CAAiB,EAE9B,KAAK,WAAW,iBAAiB,oDAAoD,EAAE,QAAQC,GAAK,CAKlG,GAHAA,EAAE,UAAU,OAAO,YAAY,EAC/BA,EAAE,UAAU,OAAO,UAAU,EAEzBA,EAAE,MAAQ,KAAK,QAAS,CAC1B,IAAMT,EAAOS,EAAE,KAAK,QAAQ,EAEtBC,EAAgB,KAAK,QAAQ,KAAKT,GAAKA,EAAE,MAAQD,GAAQC,EAAE,MAASD,EAAO,GAAK,GAAK,GAAK,GAAK,EACjGU,IACFD,EAAE,UAAU,IAAI,YAAY,EACxBC,EAAc,OAAS,YACzBD,EAAE,UAAU,IAAI,UAAU,EAGhC,CACF,CAAC,CACH,CAGA,oBAAqB,CAEnB,OAAOE;AAAA,QACH,MAAM,mBAAmB,CAAC;AAAA;AAAA;AAAA,4DAG0B,KAAK,aAAa,IAAI,KAAK,MAAM,KAAK;AAAA;AAAA;AAAA,KAIhG,CAEA,QAAS,CAEP,OAAOA;AAAA,QACF,KAAK,OAOJC,EAPaD;AAAA;AAAA;AAAA,qBAGF,KAAK,MAAM;AAAA,8BACF,KAAK,aAAa;AAAA;AAAA;AAAA,OAG/B;AAAA;AAAA,kCAEiB,KAAK,MAAM,oBAAoB;AAAA;AAAA;AAAA,UAGvD,MAAM,OAAO,CAAC;AAAA,UACd,KAAK,aAAa,OAAS,EAAIA;AAAA;AAAA;AAAA,cAG3B,KAAK,MAAM,UAAU,IAAI,IAAI,KAAK,KAAK,YAAY,CAAC,EAAE,KAAK,EAAE,mBAAmB,OAAW,CAAE,UAAW,QAAS,CAAC,CAAC;AAAA;AAAA,YAErH,KAAK,YAAY,IAAI,GAAKA;AAAA;AAAA,yBAEb,EAAE,GAAG;AAAA,oCACM,EAAE,IAAI;AAAA,wBAClB,EAAE,KAAK,kBAAkB,EAAE,SAAS;AAAA;AAAA;AAAA,WAGjD,CAAC;AAAA;AAAA,UAEAC,CAAO;AAAA;AAAA,KAGjB,CAEA,OAAO,OAAS,CACdhB,GAAa,OACbiB,EACF,CACF,EChLA,CAAC,eAAe,IAAI,aAAa,GAAK,eAAe,OAAO,cAAeC,EAAU,ECG9E,IAAMC,GAAN,cAAmCC,EAAmB,CAE3D,OAAO,WAAa,CAElB,OAAQ,CAAE,UAAW,UAAW,KAAM,MAAO,EAC7C,OAAQ,CAAE,UAAW,UAAW,KAAM,MAAO,EAC7C,SAAU,CAAE,KAAM,KAAM,EACxB,UAAW,CAAE,KAAM,OAAQ,EAC3B,MAAO,CAAE,KAAM,OAAQ,CACzB,EAEA,aAAc,CAEZ,MAAM,EAEN,KAAK,MAAQ,EACb,KAAK,SAAW,EAChB,KAAK,YAAc,EACnB,KAAK,cAAgB,EACvB,CAEA,mBAAoB,CAElB,MAAM,kBAAkB,EAEnB,KAAK,OACR,KAAK,SAAS,CAElB,CAEA,iBAAiBC,EAAS,CACxB,OAAOC,GAAeD,CAAO,CAC/B,CAEA,UAAW,CAEL,KAAK,cACP,KAAK,YAAY,EAAE,KAAK,IAAM,CAE5B,KAAK,MAAQ,KAAK,KAAK,KAAK,KAAK,OAAS,KAAK,QAAQ,EACvD,KAAK,cAAc,CAAC,CACtB,CAAC,EAED,KAAK,cAAc,CAAC,CAExB,CAEA,MAAM,aAAc,CAAC,CAErB,cAAcE,EAAM,CAEb,KAAK,MAGR,KAAK,YAAcA,EACnB,KAAK,OAAO,GAHZ,KAAK,YAAY,CAKrB,CAEA,YAAY,EAAG,CACb,KAAK,cAAc,EAAE,OAAO,IAAI,CAClC,CAGA,+BAAgC,CAC9B,OAAO,KAAK,IACd,CAEA,QAAS,CAEP,IAAMC,GAAS,KAAK,YAAc,GAAK,KAAK,SACtCC,EAAMD,EAAQ,KAAK,SACnBE,EAAe,KAAK,8BAA8B,EACxD,KAAK,SAAWA,EAAa,MAAMF,EAAOC,CAAG,EAC7C,KAAK,MAAQ,KAAK,KAAKC,EAAa,OAAS,KAAK,QAAQ,EAC1D,KAAK,cAAc,CACrB,CAEA,SAAU,CAAC,CAEX,cAAe,CACb,OAAO,KAAK,QACd,CAEA,QAAS,CAEP,OAAOC;AAAA;AAAA,4BAEiB,KAAK,QAAQ,CAAC;AAAA,UAChC,KAAK,UAAYA;AAAA;AAAA,gCAEK,KAAK,KAAK,gCAAgC,KAAK,WAAW;AAAA;AAAA,UAE9EC,CAAO;AAAA;AAAA,KAGjB,CAEA,OAAO,OAAS,CACdR,GAAmB,OACnBS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAuBF,CACF,ECjIO,IAAMC,GAAoB,oBACpBC,GAAoB,oBACpBC,GAAgB,gBAChBC,GAAgB,gBAChBC,GAAkB,kBAClBC,GAAkB,kBAClBC,GAAkB,sBAClBC,GAAkB,sBCExB,IAAMC,GAAN,cAA0BC,EAAqB,CAEpD,OAAO,WAAa,CAClB,OAAQ,CAAE,KAAM,OAAQ,EACxB,MAAO,CAAE,MAAO,EAAK,CACvB,EAEA,aAAc,CAEZ,MAAM,EAEN,KAAK,UAAY,GACjB,KAAK,iBAAiB,QAAQ,EAAE,KAAKC,GAAK,KAAK,MAAQA,CAAC,CAC1D,CAEA,MAAM,aAAc,CAElB,IAAMC,EAAM,KAAK,OAAS,cAAc,KAAK,MAAM,UAC/C,uBACJ,OAAO,MAAMA,CAAG,EACb,KAAKD,GAAK,CAET,GAAIA,EAAE,GACJ,OAAOA,EAAE,KAAK,EAGhB,MAAM,IAAI,MAAM,6BAA6BC,CAAG,EAAE,CACpD,CAAC,EACA,KAAKC,GAAQ,CAEZ,KAAK,MAAQ,CAAC,EACd,IAAMC,EAAO,CAAC,EACdD,EAAK,QAAQE,GAAK,CAEXD,EAAK,SAASC,EAAE,MAAM,IACzB,KAAK,MAAM,KAAK,CAAE,OAAQA,EAAE,OAAQ,MAAOA,EAAE,SAAU,CAAC,EACxDD,EAAK,KAAKC,EAAE,MAAM,EAEtB,CAAC,EAED,KAAK,KAAOF,EACZ,KAAK,SAAWA,EAChB,KAAK,YAAY,CAAE,OAAQ,CAAE,MAAOG,EAAgB,CAAE,CAAC,CACzD,CAAC,EACA,MAAOC,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACzC,CAEA,YAAY,EAAG,CAEb,OAAQ,EAAE,OAAO,MAAO,CACtB,KAAKC,GACH,KAAK,KAAK,KAAK,CAACC,EAAIC,IAAOD,EAAG,KAAK,cAAcC,EAAG,IAAI,CAAC,EACzD,MACF,KAAKC,GACH,KAAK,KAAK,KAAK,CAACF,EAAIC,IAAOA,EAAG,KAAK,cAAcD,EAAG,IAAI,CAAC,EACzD,MACF,KAAKG,GACH,KAAK,KAAK,KAAK,CAACH,EAAIC,IAAOD,EAAG,UAAU,cAAcC,EAAG,SAAS,CAAC,EACnE,MACF,KAAKG,GACH,KAAK,KAAK,KAAK,CAACJ,EAAIC,IAAOA,EAAG,UAAU,cAAcD,EAAG,SAAS,CAAC,EACnE,MACF,KAAKK,GACH,KAAK,KAAK,KAAK,CAACL,EAAIC,IAAOA,EAAG,SAAWD,EAAG,QAAQ,EACpD,MACF,KAAKH,GACH,KAAK,KAAK,KAAK,CAACG,EAAIC,IAAOD,EAAG,SAAWC,EAAG,QAAQ,EACpD,MACF,KAAKK,GACH,KAAK,KAAK,KAAK,CAACN,EAAIC,IACdD,EAAG,aAAqB,EACnBC,EAAG,aAAqB,GAC1BD,EAAG,MAAQC,EAAG,KACtB,EACD,MACF,KAAKM,GACH,KAAK,KAAK,KAAK,CAACP,EAAIC,IAAOA,EAAG,MAAQD,EAAG,KAAK,EAC9C,MACF,QACE,KACJ,CAEA,KAAK,OAAO,CACd,CAEA,SAAU,CAER,KAAK,KAAO,CAAE,GAAI,KAAK,QAAS,EAE5B,KAAK,iBAAmB,SAAW,KAAK,iBAAmBQ,EAAgB,MAC7E,KAAK,KAAO,CAAE,GAAG,KAAK,KAAK,OAAOZ,GAAK,KAAK,eAAe,SAASA,EAAE,MAAM,CAAC,CAAE,GAGjF,KAAK,OAAO,CACd,CAEA,eAAe,EAAG,CAEhB,KAAK,eAAiB,EAAE,OAAO,MAC/B,KAAK,eAAiB,QACtB,KAAK,QAAQ,CACf,CAEA,cAAe,CAET,KAAK,QACW,KAAK,WAAW,eAAe,QAAQ,EAC/C,iBAAiB,QAAS,IAAM,CACxC,KAAK,OAAS,EAChB,EAAG,CAAE,KAAM,EAAK,CAAC,CAErB,CAEA,aAAaa,EAAmB,CAC9B,OAAO,KAAK,OAAS,MAAM,aAAaA,CAAiB,CAC3D,CAEA,SAAU,CAER,OAAOC;AAAA,QACF,KAAK,OAOJC,EAPaD;AAAA;AAAA;AAAA,qBAGF,KAAK,KAAK;AAAA,8BACD,KAAK,cAAc;AAAA;AAAA;AAAA,OAGhC;AAAA,QACT,KAAK,OAASA;AAAA,+BACS,KAAK,MAAM,gBAAgB;AAAA,QAChDC,CAAO;AAAA;AAAA;AAAA,4BAGW,KAAK,WAAW;AAAA,uBACrB,KAAK,MAAM,YAAY;AAAA,4BAClB,KAAK,MAAM,YAAY;AAAA,6BACtBd,EAAe,KAAK,KAAK,MAAM,oBAAoB;AAAA,6BACnDQ,EAAe,KAAK,KAAK,MAAM,oBAAoB;AAAA,6BACnDC,EAAe,KAAK,KAAK,MAAM,wBAAwB;AAAA,6BACvDC,EAAe,KAAK,KAAK,MAAM,wBAAwB;AAAA,6BACvDR,EAAiB,KAAK,KAAK,MAAM,sBAAsB;AAAA,6BACvDG,EAAiB,KAAK,KAAK,MAAM,sBAAsB;AAAA,cACtE,KAAK,OAAS,GAAKQ;AAAA,6BACJP,EAAa,KAAK,KAAK,MAAM,kBAAkB;AAAA,6BAC/CC,EAAa,KAAK,KAAK,MAAM,kBAAkB;AAAA,aAC/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAMiB,KAAK,MAAM,iBAAiB;AAAA,oCACtB,KAAK,MAAM,KAAK;AAAA,8BACtB,KAAK,MAAM,IAAI;AAAA,UACnC,KAAK,SAAS,IAAI,CAACQ,EAAGC,IAAMH;AAAA,sCACAG,EAAI,IAAM,EAAI,OAAS,KAAK;AAAA,YACtDD,EAAE,WAAa,aAAeF;AAAA,mCACPE,EAAE,QAAQ,IAAI,KAAK,MAAM,eAAe;AAAA,YAC7DD,CAAO;AAAA,YACT,KAAK,OAASD;AAAA,+BACKE,EAAE,IAAI;AAAA,YACvBF;AAAA,sCACwBE,EAAE,SAAS,MAAMA,EAAE,IAAI;AAAA,WAClD;AAAA;AAAA,iCAEsBC,EAAI,IAAM,EAAI,OAAS,KAAK,GAAG,KAAK,OAAS,WAAa,EAAE,kBAAkB,KAAK,OAAS,OAAS,OAAO;AAAA,cAC/HD,EAAE,aAAe,IAAMA,EAAE,KAAK,IAAI,CAACA,EAAE,cAAgBA,EAAE,WAAa,aAAeF,IAAO,KAAK,MAAM,cAAc,GAAKC,CAAO;AAAA;AAAA,gCAE7GE,EAAI,IAAM,EAAI,OAAS,KAAK;AAAA,qBACvCD,EAAE,GAAG;AAAA,4BACE,KAAK,MAAM,WAAW;AAAA,uBAC3B,KAAK,MAAM,WAAW;AAAA;AAAA,4BAEjB,KAAK,MAAM,WAAW;AAAA,uBAC3B,KAAK,MAAM,WAAW;AAAA;AAAA;AAAA;AAAA,SAIpC,CAAC;AAAA;AAAA,KAGR,CAEA,OAAO,OAAS,CAEdrB,GAAqB,OACrBsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAiFF,CACF",
  "names": ["isSameDate", "day1", "day2", "createCommonjsModule", "fn", "module", "LONG", "SHORT", "NARROW", "NUMERIC", "TWODIGIT", "formatMessageFormats", "pattern", "options", "currency", "syms", "size", "parts", "integer", "n", "fraction", "i", "current", "lookupClosestLocale", "locale", "available", "locales", "l", "ll", "candidate", "zero", "one", "two", "few", "many", "other", "f", "s", "v", "plurals", "formatMessageInterpret", "exports", "ast", "types", "interpretAST", "elements", "parent", "join", "element", "interpretElement", "args", "message", "e", "part", "value", "id", "type", "offset", "formatter", "defaults", "getArg", "children", "key", "getFrmt", "frmt", "a", "ii", "interpretNumber", "style", "interpretDuration", "fs", "fm", "fh", "sep", "h", "m", "dur", "interpretDateTime", "interpretPlural", "pluralType", "pluralRules", "select", "returnOther", "clause", "interpretSelect", "formatMessageInterpret_1", "formatMessageInterpret_2", "formatMessageParse", "ARG_OPN", "ARG_CLS", "ARG_SEP", "NUM_ARG", "TAG_OPN", "TAG_CLS", "TAG_END", "TAG_SELF_CLS", "ESC", "OFFSET", "simpleTypes", "submTypes", "parseAST", "parentType", "length", "start", "text", "parseText", "expected", "parsePlaceholder", "isHashSpecial", "isAngleSpecial", "isArgStyle", "char", "isWhitespace", "code", "skipWhitespace", "tag", "parseTag", "parseId", "arg", "parsePluralOffset", "parseSubMessages", "parseSimpleFormat", "index", "format", "tagsType", "end", "closeId", "isTag", "isDigit", "selector", "parseSubMessage", "found", "lines", "line", "column", "errorMessage", "SyntaxError", "formatMessageParse_1", "supportedExp", "internals", "MessageFormat", "messageFormat", "values", "requestedLocales", "MessageFormat_default", "isLocalizeESModule", "obj", "LocalizeManager", "autoLoadOnLocaleChange", "fallbackLocale", "showKeyAsFallback", "allowOverridesForExistingNamespaces", "initialLocale", "value", "oldLocale", "locale", "namespace", "data", "pattern", "loader", "namespaces", "namespaceObj", "isDynamicImport", "existingLoaderPromise", "keys", "vars", "opts", "message", "MessageFormat_default", "mutations", "mutation", "loaderPromise", "obj", "isLocalizeESModule", "lang", "fallbackLang", "promise", "key", "isMatchingString", "isMatchingRegexp", "type", "listener", "options", "event", "newLocale", "oldLocaleNamespaces", "newLocaleNamespaces", "reversedKeys", "ns", "namesString", "messages", "result", "name", "postProcessor", "getLocalizeManager", "singletonManager", "localizeManager", "LocalizeManager", "normalizeIntlDate", "str", "locale", "weekday", "year", "month", "day", "dateString", "i", "n", "result", "match", "_weekDayName", "_monthDayNumber", "_monthName", "_year", "forceShortMonthNamesForEnGb", "months", "forceDotsForNlnl", "months", "m", "monthsLocaleCache", "getMonthNames", "locale", "style", "months", "formatter", "i", "date", "formattedDate", "normalizedDate", "normalizeIntlDate", "forceShortMonthNamesForEnGb", "forceDotsForNlnl", "weekdayNamesCache", "getCachedWeekdayNames", "locale", "cachedWeekdayNames", "weekdays", "style", "formatter", "date", "i", "weekday", "normalizedWeekday", "normalizeIntlDate", "getWeekdayNames", "firstDayOfWeek", "orderedWeekdays", "normalizeDateTime", "date", "notifyChildrenConnectedChanged", "parent", "isConnected", "children", "_$disconnectableChildren", "obj", "removeDisconnectableFromParent", "_$parent", "delete", "size", "addDisconnectableToParent", "Set", "has", "add", "installDisconnectAPI", "reparentDisconnectables", "newParent", "this", "notifyChildPartConnectedChanged", "isClearingValue", "fromPartIndex", "value", "_$committedValue", "Array", "isArray", "i", "length", "type", "PartType", "CHILD", "_$notifyConnectionChanged", "_$reparentDisconnectables", "AsyncDirective", "Directive", "constructor", "part", "attributeIndex", "super", "_$initialize", "_$isConnected", "isClearingDirective", "reconnected", "disconnected", "isSingleExpression", "__part", "_$setValue", "newValues", "__attributeIndex", "PseudoWeakRef", "ref", "this", "_ref", "disconnect", "deref", "Pauser", "constructor", "_promise", "_resolve", "get", "pause", "Promise", "resolve", "resume", "isPromise", "x", "isPrimitive", "then", "_infinity", "UntilDirective", "AsyncDirective", "constructor", "this", "__lastRenderedIndex", "__values", "__weakThis", "PseudoWeakRef", "__pauser", "Pauser", "args", "find", "noChange", "_part", "previousValues", "previousLength", "length", "weakThis", "pauser", "isConnected", "disconnected", "i", "value", "Promise", "resolve", "async", "result", "get", "_this", "deref", "index", "indexOf", "setValue", "disconnect", "pause", "reconnected", "reconnect", "resume", "until", "directive", "LocalizeMixinImplementation", "superclass", "getLocalizeManager", "args", "event", "keys", "variables", "options", "be", "D", "uniqueNamespaces", "s", "uniqueNamespace", "newLocale", "oldLocale", "LocalizeMixin", "dedupeMixin", "calendarStyle", "i", "createDay", "date", "weekOrder", "central", "startOfWeek", "selected", "previousMonth", "currentMonth", "nextMonth", "past", "today", "future", "disabled", "disabledInfo", "createWeek", "date", "firstDayOfWeek", "weekStartDate", "tmpDate", "week", "i", "createDay", "createMonth", "date", "firstDayOfWeek", "firstDayOfMonth", "weekOptions", "month", "nextWeek", "createWeek", "firstDayOfNextWeek", "createMultipleMonth", "date", "firstDayOfWeek", "pastMonths", "futureMonths", "multipleMonths", "i", "pastDate", "createMonth", "futureDate", "defaultMonthLabels", "getDayMonthYear", "day", "weekdays", "monthsLabels", "dayNumber", "monthName", "year", "weekdayName", "firstWeekDays", "lastDaysOfYear", "dayTemplate", "day", "weekdays", "monthsLabels", "defaultMonthLabels", "dayNumber", "monthName", "year", "weekdayName", "getDayMonthYear", "__getFullDate", "__getAccessibleMessage", "firstDay", "endOfFirstWeek", "startOfFirstFullWeek", "lastDayNumber", "lastWeekDays", "i", "endOfLastFullWeek", "startOfLastWeek", "lastDay", "ke", "to", "dataTemplate", "data", "weekdaysShort", "weekdays", "monthsLabels", "dayTemplate", "ke", "month", "header", "i", "week", "day", "getFirstDayNextMonth", "date", "result", "getLastDayPreviousMonth", "date", "previous", "isDayButton", "el", "isDisabledDayButton", "LionCalendar", "LocalizeMixin", "h", "locale", "day", "normalizeDateTime", "calendarStyle", "ke", "date", "changedProperties", "name", "oldValue", "options", "month", "year", "nextMonth", "getMonthNames", "previousMonth", "nextYear", "previousYear", "dataTemplate", "getWeekdayNames", "dayTemplate", "type", "disabled", "getLastDayPreviousMonth", "getFirstDayNextMonth", "previousButtonTitle", "nextButtonTitle", "mode", "newMinDate", "createDay", "newMaxDate", "getSelectableDate", "dayNumber", "monthName", "getDayMonthYear", "earliestSelectableDate", "latestSelectableDate", "_day", "currentMonth", "today", "isSameDate", "dayYearMonth", "currentYearMonth", "data", "createMultipleMonth", "monthi", "week", "weeki", "dayi", "currentDay", "selectedDate", "_date", "futureDate", "pastDate", "i", "ev", "modify", "dateType", "tmpDate", "maxDays", "calendarStyles", "i", "SakaiSitePicker", "_SakaiSitePicker", "SakaiShadowElement", "t", "url", "r", "data", "s", "error", "sites", "o", "ke", "SakaiSitePicker", "SakaiCalendar", "LionCalendar", "event", "loadProperties", "r", "time", "e", "url", "data", "acc", "a", "error", "SakaiSitePicker", "changedProperties", "c", "matchingEvent", "ke", "D", "calendarStyles", "SakaiPager", "SakaiPageableElement", "SakaiShadowElement", "options", "loadProperties", "page", "start", "end", "filteredData", "ke", "D", "i", "ASSIGNMENT_A_TO_Z", "ASSIGNMENT_Z_TO_A", "COURSE_A_TO_Z", "COURSE_Z_TO_A", "NEW_HIGH_TO_LOW", "NEW_LOW_TO_HIGH", "AVG_LOW_TO_HIGH", "AVG_HIGH_TO_LOW", "SakaiGrades", "SakaiPageableElement", "r", "url", "data", "done", "g", "NEW_LOW_TO_HIGH", "error", "ASSIGNMENT_A_TO_Z", "g1", "g2", "ASSIGNMENT_Z_TO_A", "COURSE_A_TO_Z", "COURSE_Z_TO_A", "NEW_HIGH_TO_LOW", "AVG_LOW_TO_HIGH", "AVG_HIGH_TO_LOW", "SakaiSitePicker", "changedProperties", "ke", "D", "a", "i"]
}
