{
  "version": 3,
  "sources": ["../node_modules/@sakai-ui/sakai-conversations/src/SakaiTopicSummary.js", "../node_modules/@sakai-ui/sakai-conversations/sakai-topic-summary.js", "../node_modules/@sakai-ui/sakai-conversations/src/SakaiTopicList.js", "../node_modules/@sakai-ui/sakai-conversations/sakai-topic-list.js", "../node_modules/@sakai-ui/sakai-conversations/src/SakaiConversations.js", "../node_modules/@sakai-ui/sakai-conversations/sakai-conversations.js"],
  "sourcesContent": ["import { html, nothing } from \"lit\";\nimport { SakaiElement } from \"@sakai-ui/sakai-element\";\nimport \"@sakai-ui/sakai-icon\";\nimport { QUESTION, DISCUSSION } from \"./sakai-conversations-constants.js\";\n\nexport class SakaiTopicSummary extends SakaiElement {\n\n  static properties = { topic: { type: Object } };\n\n  constructor() {\n\n    super();\n\n    this.loadTranslations(\"conversations\").then(r => this.i18n = r);\n  }\n\n  _topicSelected(e) {\n\n    e.target.focus();\n    document.querySelector(\".portal-main-container\").scrollTo({ top: 0, behavior: \"smooth\" });\n    this.dispatchEvent(new CustomEvent(\"topic-selected\", { detail: { topic: this.topic }, bubbles: true }));\n  }\n\n  shouldUpdate() {\n    return this.i18n && this.topic;\n  }\n\n  render() {\n\n    return html`\n      <a href=\"javascript:;\" @click=${this._topicSelected} class=\"topic-summary-link\">\n        <div class=\"topic-summary\n              ${this.topic.numberOfUnreadPosts > 0 && !this.topic.selected ? \" unread\" : \"\"}\n              ${this.topic.selected ? \"selected\" : \"\"}\"\n        >\n          <div class=\"type-icon\">\n            ${this.topic.type === QUESTION ? html`\n              <sakai-icon type=\"questioncircle\"\n                  class=\"question-icon\"\n                  size=\"medium\"\n                  aria-label=\"${this.i18n.question_tooltip}\"\n                  title=\"${this.i18n.question_tooltip}\">\n              </sakai-icon>\n            ` : nothing }\n            ${this.topic.type === DISCUSSION ? html`\n            <div class=\"discussion-icon-wrapper\">\n              <sakai-icon type=\"forums\"\n                  class=\"discussion-icon\"\n                  size=\"small\"\n                  aria-label=\"${this.i18n.discussion_tooltip}\"\n                  title=\"${this.i18n.discussion_tooltip}\">\n              </sakai-icon>\n            </div>\n            ` : nothing }\n          </div>\n\n          <div class=\"topic-summary-title-wrapper\">\n            <div class=\"topic-summary-title\">${this.topic.draft ? html`<span class=\"draft\">[${this.i18n.draft}]</span>` : nothing } ${this.topic.title}</div>\n          </div>\n\n          <div class=\"topic-summary-pinned-indicator\">\n            ${this.topic.pinned && !this.topic.bookmarked ? html`\n            <div>\n              <sakai-icon type=\"pin\"\n                  size=\"small\"\n                  aria-label=\"${this.i18n.pinned_tooltip}\"\n                  title=\"${this.i18n.pinned_tooltip}\">\n              </sakai-icon>\n            </div>\n            ` : nothing }\n            ${this.topic.bookmarked ? html`\n            <div>\n              <sakai-icon type=\"favourite\"\n                  size=\"small\"\n                  class=\"bookmarked\"\n                  aria-label=\"${this.i18n.bookmarked_tooltip}\"\n                  title=\"${this.i18n.bookmarked_tooltip}\">\n              </sakai-icon>\n            </div>\n            ` : nothing }\n            ${this.topic.locked ? html`\n            <div class=\"topic-status\"\n                role=\"img\"\n                title=\"${this.i18n.topic_locked_tooltip}\"\n                aria-label=\"${this.i18n.topic_locked_tooltip}\">\n              <sakai-icon type=\"lock\" size=\"small\"></sakai-icon></div>\n            </div>\n            ` : nothing }\n            ${this.topic.hidden ? html`\n            <div class=\"topic-status\"\n                role=\"img\"\n                title=\"${this.i18n.topic_hidden_tooltip}\"\n                aria-label=\"${this.i18n.topic_hidden_tooltip}\">\n              <sakai-icon type=\"hidden\" size=\"small\"></sakai-icon></div>\n            </div>\n            ` : nothing }\n          </div>\n\n          ${this.topic.formattedDueDate ? html`\n          <div></div>\n          <div class=\"topic-summary-duedate\"><span>Due</span><span>${this.topic.formattedDueDate}</span></div>\n          <div></div>\n          ` : nothing }\n\n          <div class=\"unread-icon\">\n          ${this.topic.numberOfUnreadPosts > 0 ? html`\n            <sakai-icon type=\"circle\"\n                size=\"small\"\n                aria-label=\"${this.i18n.unread_tooltip}\"\n                title=\"${this.i18n.unread_tooltip}\">\n            </sakai-icon>\n          ` : nothing }\n          </div>\n\n          <div class=\"topic-tags\">\n          ${this.topic.tags.map(tag => html`\n            <div class=\"tag\"><div>${tag.label}</div></div>\n          `)}\n          </div>\n\n          <div>\n          ${this.topic.type === QUESTION ? html`\n            ${this.topic.resolved ? html`\n              <sakai-icon type=\"check_circle\"\n                  size=\"small\"\n                  class=\"answered-icon\"\n                  title=\"${this.i18n.answered_tooltip}\">\n              </sakai-icon>\n            ` : html`\n              <sakai-icon type=\"questioncircle\"\n                  size=\"small\"\n                  class=\"unanswered-icon\"\n                  title=\"${this.i18n.unanswered_tooltip}\">\n              </sakai-icon>\n            `}\n          ` : nothing }\n          </div>\n          <div class=\"topic-summary-empty-cell\">\n          </div>\n          <div class=\"topic-summary-creator-block\">\n            <div>\n              <span>${this.topic.creatorDisplayName}</span>\n              ${this.topic.isInstructor ? html`\n              <span>(${this.i18n.instructor})</span>\n            ` : nothing }\n            </div>\n            <div class=\"conv-date-separator\"><sakai-icon type=\"circle\" size=\"smallest\"></sakai-icon></div>\n            <div>${this.topic.formattedCreatedDate}</div>\n          </div>\n          <div class=\"topic-summary-posts-indicator\"\n              title=\"${this.i18n.numberposts_tooltip}\">\n            <div>\n              <sakai-icon type=\"comment\" size=\"smallest\"></sakai-icon>\n            </div>\n            <div class=\"post-numbers\">\n              <span class=\"post-number\">${this.topic.numberOfPosts}</span>\n              ${this.topic.numberOfUnreadPosts > 0 ? html`\n              <span class=\"new-posts-number\">(${this.topic.numberOfUnreadPosts} ${this.i18n.new})</span>\n              ` : nothing }\n            </div>\n          </div>\n        </div>\n      </a>\n    `;\n  }\n}\n", "import { SakaiTopicSummary } from './src/SakaiTopicSummary.js';\n\ncustomElements.define('sakai-topic-summary', SakaiTopicSummary);\n", "import { html, nothing } from \"lit\";\nimport { SakaiElement } from \"@sakai-ui/sakai-element\";\nimport \"../sakai-topic-summary.js\";\nimport { QUESTION, DISCUSSION } from \"./sakai-conversations-constants.js\";\n\nexport class SakaiTopicList extends SakaiElement {\n\n  static properties = {\n\n    aboutRef: { attribute: \"about-ref\", type: String },\n    siteId: { attribute: \"site-id\", type: String },\n    data: { type: Array },\n\n    _filteredPinnedTopics: { state: true },\n    _filteredDraftTopics: { state: true },\n    _filteredUnpinnedTopics: { state: true },\n    _expandDraft: { state: true },\n    _expandTheRest: { state: true },\n    _tagsInUse: { state: true },\n    _selectedTag: { state: true },\n    _hasBookmarked: { state: true },\n    _hasAnsweredQuestions: { state: true },\n    _hasQuestions: { state: true },\n    _hasDiscussions: { state: true },\n    _hasDiscussionsWithPosts: { state: true },\n    _hasUnviewed: { state: true },\n  };\n\n  constructor() {\n\n    super();\n\n    this._expandDraft = true;\n    this._expandTheRest = true;\n\n    this.ANY = \"any\";\n    this.BY_QUESTION = \"by_question\";\n    this.BY_RESOLVED_QUESTION = \"by_resolved_question\";\n    this.BY_DISCUSSION = \"by_discussion\";\n    this.BY_DISCUSSION_WITH_POSTS = \"by_discussion_with_posts\";\n    this.BY_BOOKMARKED = \"by_bookmarked\";\n    this.BY_MODERATED = \"by_moderated\";\n    this.BY_UNVIEWED = \"by_unviewed\";\n\n    this._currentFilter = this.ANY;\n\n    this.loadTranslations(\"conversations\").then(r => this.i18n = r);\n  }\n\n  set data(value) {\n\n    const oldValue = this._data;\n\n    this._data = value;\n\n    this._initialFilter();\n\n    this._filter();\n\n    this._tagsInUse = [];\n\n    value.topics.forEach(topic => {\n      topic.tags.forEach(t => { if (!this._tagsInUse.find(e => e.id === t.id)) this._tagsInUse.push(t); });\n    });\n\n    this._hasBookmarked = value.topics.some(t => t.bookmarked);\n    this._hasQuestions = value.topics.some(t => t.type === QUESTION);\n    this._hasAnweredQuestions = value.topics.some(t => t.type === QUESTION && t.resolved);\n    this._hasDiscussions = value.topics.some(t => t.type === DISCUSSION);\n    this._hasDiscussionsWithPosts = value.topics.some(t => t.type === DISCUSSION && t.posts);\n    this._hasUnviewed = value.topics.some(t => !t.viewed);\n    this._hasModerated = value.topics.some(t => t.hidden || t.locked);\n\n    this.requestUpdate(\"data\", oldValue);\n  }\n\n  get data() { return this._data; }\n\n  set aboutRef(value) {\n\n    this._aboutRef = value;\n\n    const url = `/api/sites/${this.siteId}/topics?aboutRef=${this.aboutRef}`;\n    fetch(url)\n      .then(r => r.json())\n      .then(data => this.data = data);\n  }\n\n  get aboutRef() { return this._aboutRef; }\n\n  _initialFilter() {\n\n    this.pinnedTopics = this.data.topics.filter(t => t.pinned);\n    this._filteredPinnedTopics = this.pinnedTopics;\n\n    this.draftTopics = this.data.topics.filter(t => t.draft);\n    this._filteredDraftTopics = this.draftTopics;\n\n    this.unpinnedTopics = this.data.topics.filter(t => !t.pinned && !t.draft);\n    this._filteredUnpinnedTopics = this.unpinnedTopics;\n  }\n\n  _filter() {\n\n    this._filteredPinnedTopics = this.pinnedTopics;\n    this._filteredUnpinnedTopics = this.unpinnedTopics;\n\n    switch (this._currentFilter) {\n\n      case undefined:\n        break;\n      case this.BY_QUESTION:\n        this._filteredPinnedTopics = this.pinnedTopics.filter(t => t.type === QUESTION);\n        this._filteredUnpinnedTopics = this.unpinnedTopics.filter(t => t.type === QUESTION);\n        break;\n      case this.BY_DISCUSSION:\n        this._filteredPinnedTopics = this.pinnedTopics.filter(t => t.type === DISCUSSION);\n        this._filteredUnpinnedTopics = this.unpinnedTopics.filter(t => t.type === DISCUSSION);\n        break;\n      case this.BY_RESOLVED_QUESTION:\n        this._filteredPinnedTopics = this.pinnedTopics.filter(t => t.type === QUESTION && t.resolved);\n        this._filteredUnpinnedTopics = this.unpinnedTopics.filter(t => t.type === QUESTION && t.resolved);\n        break;\n      case this.BY_DISCUSSION_WITH_POSTS:\n        this._filteredPinnedTopics = this.pinnedTopics.filter(t => t.type === DISCUSSION && t.numberOfPosts);\n        this._filteredUnpinnedTopics = this.unpinnedTopics.filter(t => t.type === DISCUSSION && t.numberOfPosts);\n        break;\n      case this.BY_BOOKMARKED:\n        this._filteredUnpinnedTopics = this.unpinnedTopics.filter(t => t.bookmarked);\n        break;\n      case this.BY_MODERATED:\n        this._filteredUnpinnedTopics = this.unpinnedTopics.filter(t => t.hidden || t.locked);\n        break;\n      case this.BY_UNVIEWED:\n        this._filteredUnpinnedTopics = this.unpinnedTopics.filter(t => !t.viewed);\n        break;\n      default:\n        this._filteredPinnedTopics = this.pinnedTopics;\n        this._filteredUnpinnedTopics = this.unpinnedTopics;\n    }\n\n    if (this._selectedTag) {\n      this._filteredUnpinnedTopics = this._filteredUnpinnedTopics.filter(t => t.tags.find(tag => tag.id == this._selectedTag));\n    }\n  }\n\n  _filterSelected(e) {\n\n    this._currentFilter = e.target.value;\n    this._filter();\n  }\n\n  _tagSelected(e) {\n\n    if (e.target.value === this.ANY) {\n      this._selectedTag = undefined;\n    } else {\n      this._selectedTag = e.target.value;\n    }\n    this._filter();\n  }\n\n  _toggleExpandDraft() { this._expandDraft = !this._expandDraft; }\n\n  _toggleExpandTheRest() { this._expandTheRest = !this._expandTheRest; }\n\n  shouldUpdate() {\n    return this.i18n && this.data;\n  }\n\n  render() {\n\n    return html`\n      <div class=\"topic-list\">\n\n        <div id=\"topic-list-filters\">\n          <div>\n            <select @change=${this._tagSelected} aria-label=\"${this.i18n.filter_by_tag_tooltip}\" ?disabled=${!this._tagsInUse?.length}>\n              ${!this._tagsInUse?.length ? html`\n                <option value=\"none\">No tags in use</option>\n                ` : html`\n                <option value=\"${this.ANY}\">${this.i18n.tag_any}</option>\n                ${this._tagsInUse.map(tag => html`\n                  <option value=\"${tag.id}\">${this.i18n.tag} ${tag.label}</option>\n                `)}\n              `}\n            </select>\n          </div>\n          <div>\n            <select @change=${this._filterSelected} aria-label=\"${this.i18n.filter_by_various_tooltip}\">\n              <option value=\"${this.ANY}\">${this.i18n.filter_any}</option>\n              ${this._hasQuestions ? html`\n              <option value=\"${this.BY_QUESTION}\">${this.i18n.filter_questions}</option>\n              ` : nothing }\n              ${this._hasAnsweredQuestions ? html`\n              <option value=\"${this.BY_RESOLVED_QUESTION}\">${this.i18n.filter_answered}</option>\n              ` : nothing }\n              ${this._hasDiscussions ? html`\n              <option value=\"${this.BY_DISCUSSION}\">${this.i18n.filter_discussions}</option>\n              ` : nothing }\n              ${this._hasDiscussionsWithPosts ? html`\n              <option value=\"${this.BY_DISCUSSION_WITH_POSTS}\">${this.i18n.filter_discussions_with_posts}</option>\n              ` : nothing }\n              ${this._hasBookmarked ? html`\n              <option value=\"${this.BY_BOOKMARKED}\">${this.i18n.filter_bookmarked}</option>\n              ` : nothing }\n              ${this._hasModerated ? html`\n              <option value=\"${this.BY_MODERATED}\">${this.i18n.filter_moderated}</option>\n              ` : nothing }\n              ${this._hasUnviewed ? html`\n              <option value=\"${this.BY_UNVIEWED}\">${this.i18n.filter_unviewed}</option>\n              ` : nothing }\n            </select>\n          </div>\n        </div>\n\n        <div id=\"topic-list-topics\">\n\n          ${!this.data?.topics?.length ? html`\n          <div id=\"no-topics-yet-message\"><div>${this.i18n.no_topics_yet}</div></div>\n          ` : nothing }\n\n          ${this._filteredPinnedTopics.length > 0 ? html`\n            <div class=\"topic-list-pinned-header\">\n              <div>${this.i18n.pinned}</div>\n            </div>\n            ${this._filteredPinnedTopics.map(t => html`\n            <div class=\"topic-list-topic-wrapper\">\n              <sakai-topic-summary topic=\"${JSON.stringify(t)}\"></sakai-topic-summary>\n            </div>\n            `)}\n          ` : nothing }\n\n          ${this._filteredDraftTopics.length > 0 ? html`\n          <a href=\"javascript:;\" @click=\"${this._toggleExpandDraft}\">\n            <div class=\"topic-list-pinned-header\">\n              <div class=\"topic-header-icon\">\n                <sakai-icon type=\"${this._expandDraft ? \"chevron-down\" : \"chevron-up\"}\" size=\"small\"></sakai-icon>\n              </div>\n              <div>${this.i18n.draft}</div>\n            </div>\n          </a>\n            ${this._expandDraft ? html`\n              ${this._filteredDraftTopics.map(t => html`\n              <div class=\"topic-list-topic-wrapper\">\n                <sakai-topic-summary topic=\"${JSON.stringify(t)}\"></sakai-topic-summary>\n              </div>\n              `)}\n            ` : nothing }\n          ` : nothing }\n\n\n          ${this._filteredUnpinnedTopics.length > 0 ? html`\n          <a href=\"javascript:;\" @click=\"${this._toggleExpandTheRest}\">\n            <div class=\"topic-list-pinned-header\">\n              <div class=\"topic-header-icon\">\n                <sakai-icon type=\"${this._expandTheRest ? \"chevron-down\" : \"chevron-up\"}\" size=\"small\"></sakai-icon>\n              </div>\n              <div>${this.i18n.all_topics}</div>\n            </div>\n          </a>\n            ${this._expandTheRest ? html`\n              ${this._filteredUnpinnedTopics.map(t => html`\n                <div class=\"topic-list-topic-wrapper\">\n                  <sakai-topic-summary topic=\"${JSON.stringify(t)}\"></sakai-topic-summary>\n                </div>\n              `)}\n            ` : nothing }\n          ` : nothing }\n        </div>\n      </div>\n    `;\n  }\n}\n", "import { SakaiTopicList } from './src/SakaiTopicList.js';\n\ncustomElements.define('sakai-topic-list', SakaiTopicList);\n", "import { html, nothing } from \"lit\";\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nimport { SakaiElement } from \"@sakai-ui/sakai-element\";\nimport { setupSearch } from \"@sakai-ui/sakai-portal-utils\";\nimport \"../sakai-topic-list.js\";\nimport \"../sakai-conversations-guidelines.js\";\nimport \"@sakai-ui/sakai-icon\";\nimport { STATE_PERMISSIONS,\n  STATE_DISPLAYING_TOPIC,\n  STATE_STATISTICS,\n  STATE_NOTHING_SELECTED,\n  STATE_ADDING_TOPIC,\n  STATE_SETTINGS,\n  STATE_MANAGING_TAGS } from \"./sakai-conversations-constants.js\";\n\nexport class SakaiConversations extends SakaiElement {\n\n  static properties = {\n\n    siteId: { attribute: \"site-id\", type: String },\n    topicId: { attribute: \"topic-id\", type: String },\n    postId: { attribute: \"post-id\", type: String },\n    baseUrl: { attribute: \"base-url\", type: String },\n\n    _data: { state: true },\n    _addingTopic: { state: true },\n    _currentTopic: { state: true },\n    _topicBeingEdited: { state: true },\n    _showingSettings: { state: true },\n    _state: { state: true },\n    _loadingData: { state: true },\n    _searchEnabled: { state: true },\n    _i18n: { state: true },\n  };\n\n  constructor() {\n\n    super();\n\n    this._state = STATE_NOTHING_SELECTED;\n\n    /*\n    window.onpopstate = (e) => {\n\n      //this._state = e.state.state;\n\n      if (e.state.topicId) {\n        this._selectTopic(e.state.topicId);\n      }\n    };\n    */\n\n    this.loadTranslations(\"conversations\").then(r => this._i18n = r);\n  }\n\n  set siteId(value) {\n\n    this._siteId = value;\n\n    this._loadingData = true;\n\n    const url = `/api/sites/${value}/conversations`;\n    this._dataPromise = fetch(url)\n      .then(r => {\n\n        if (r.ok) {\n          return r.json();\n        }\n        throw new Error(`Network error while loading data from ${url}`);\n      })\n      .then(async data => {\n\n        this._data = data;\n\n        this._searchEnabled = data.searchEnabled;\n\n        if (this.topicId) {\n          this._selectTopic(this.topicId);\n        }\n\n        // If this topic has some sessions stored changes, load them up into wipTopic.\n        this.wipTopicKey = `${this._data.userId}-wipTopic`;\n        const wipTopicJson = sessionStorage.getItem(this.wipTopicKey);\n        wipTopicJson && (this.wipTopic = JSON.parse(wipTopicJson));\n      })\n      .catch (error => console.error(error))\n      .finally (() => this._loadingData = false);\n  }\n\n  get siteId() { return this._siteId; }\n\n  set topicId(value) {\n\n    this._topicId = value;\n    if (this.siteId && this._dataPromise) {\n      this._dataPromise.then(() => this._selectTopic(value));\n    }\n  }\n\n  get topicId() { return this._topicId; }\n\n  set _state(value) {\n\n    this.__state = value;\n\n    switch (value) {\n      case STATE_ADDING_TOPIC:\n        this._addingTopic = true;\n        this._showingSettings = false;\n        /*\n        let url = `${this.baseUrl}/addTopic`;\n        history.pushState({ state: STATE_ADDING_TOPIC }, \"\", url);\n        */\n        break;\n      case STATE_SETTINGS:\n        this._addingTopic = false;\n        this._showingSettings = true;\n        /*\n        url = `${this.baseUrl}/settings`;\n        history.pushState({ state: STATE_SETTINGS }, \"\", url);\n        */\n        break;\n      case STATE_MANAGING_TAGS:\n        this._showingSettings = true;\n        break;\n      case STATE_DISPLAYING_TOPIC:\n        this._showingSettings = false;\n        break;\n      default:\n        this._addingTopic = false;\n        /*\n        url = `${this.baseURL}`;\n        history.pushState({ state: STATE_NOTHING_SELECTED }, \"\", url);\n        */\n    }\n\n    this.requestUpdate();\n  }\n\n  get _state() { return this.__state; }\n\n  async _addTopic(e) {\n\n    await import(\"../sakai-add-topic.js\");\n\n    e.preventDefault();\n    if (this.wipTopic && !this.wipTopic.id) {\n      this._topicBeingEdited = this.wipTopic;\n    } else {\n      this._topicBeingEdited = this._data.blankTopic;\n    }\n    this._state = STATE_ADDING_TOPIC;\n  }\n\n  _topicDeleted(e) {\n\n    const index = this._data.topics.findIndex(t => t.id === e.detail.topic.id);\n    this._data.topics.splice(index, 1);\n    this._currentTopic = null;\n    this._state = STATE_NOTHING_SELECTED;\n  }\n\n  _saveWipTopic(e) {\n\n    this.wipTopic = e.detail.topic;\n    if (!this.wipTopic.id) {\n      this._topicBeingEdited = this.wipTopic;\n    }\n    sessionStorage.setItem(this.wipTopicKey, JSON.stringify(e.detail.topic));\n  }\n\n  _topicSaved(e) {\n\n    this.wipTopic = null;\n    this._topicBeingEdited = null;\n    sessionStorage.removeItem(this.wipTopicKey);\n\n    const currentIndex\n      = this._data.topics.findIndex(t => t.id === e.detail.topic.id);\n\n    e.detail.topic.selected = true;\n\n    if (currentIndex !== -1) {\n      this._data.topics.splice(currentIndex, 1, e.detail.topic);\n      this._data.topics[currentIndex].selected = true;\n    } else {\n      this._data.topics.forEach(t => t.selected = false);\n      this._data.topics.unshift(e.detail.topic);\n    }\n\n    window.scrollTo(0, 0);\n\n    this._currentTopic = e.detail.topic;\n    this._currentTopic.beingEdited = false;\n    this._state = STATE_DISPLAYING_TOPIC;\n  }\n\n  async _editTopic(e) {\n\n    await import(\"../sakai-add-topic.js\");\n\n    if (e?.detail?.topic) {\n\n      if (this.wipTopic && this.wipTopic.id === e.detail.topic.id) {\n        this.wipTopic.beingEdited = true;\n        this._topicBeingEdited = this.wipTopic;\n      } else {\n        this._topicBeingEdited = e.detail.topic;\n      }\n    } else {\n      this._topicBeingEdited = this._data.blankTopic;\n    }\n    this._state = STATE_ADDING_TOPIC;\n  }\n\n  _postsViewed(e) {\n\n    const topic = this._data.topics.find(t => t.id === e.detail.topicId);\n    topic.numberOfUnreadPosts -= e.detail.postIds.length;\n    if (topic.numberOfUnreadPosts === 0) topic.viewed = true;\n    this.requestUpdate();\n  }\n\n  _topicUpdated(e) {\n\n    const topic = e.detail.topic;\n\n    const index = this._data.topics.findIndex(t => t.id === topic.id);\n    this._data.topics[index] = topic;\n\n    if (!e.detail.dontUpdateCurrent) {\n      this._currentTopic = this._data.topics[index];\n    }\n  }\n\n  _topicSelected(e) {\n\n    const topicId = e.detail.topic.id;\n\n    this.postId = undefined;\n\n    this._selectTopic(topicId);\n\n    /*\n    const url = `${this.baseUrl}/topics/${topicId}`;\n    history.pushState({}, \"\", url);\n    */\n\n    // Reset the current url to the base url, for now. Later we will want to actually push the\n    // topic url so we can use the back button\n    history.pushState({}, \"\", this.baseUrl);\n  }\n\n  async _selectTopic(topicId, onlySelectInList) {\n\n    await import(\"../sakai-topic.js\");\n\n    if (topicId) {\n      const topic = this._data.topics.find(t => t.id === topicId);\n      topic && (topic.selected = true);\n      this._data.topics.filter(t => t.id !== topic.id).forEach(t => t.selected = false);\n      if (!onlySelectInList) {\n        this._currentTopic = topic;\n        this._state = STATE_DISPLAYING_TOPIC;\n      }\n    } else if (this._currentTopic) {\n      this._state = STATE_DISPLAYING_TOPIC;\n    }\n  }\n\n  _cancelAddTopic() {\n\n    this.wipTopic = null;\n    this._topicBeingEdited = null;\n    sessionStorage.removeItem(this.wipTopicKey);\n\n    if (this._currentTopic) {\n      this._state = STATE_DISPLAYING_TOPIC;\n    } else {\n      this._state = STATE_NOTHING_SELECTED;\n    }\n  }\n\n  _tagsCreated(e) {\n\n    this._data.tags = this._data.tags.concat(e.detail.tags);\n    this.requestUpdate();\n  }\n\n  _tagUpdated(e) {\n\n    const index = this._data.tags.findIndex(t => t.id == e.detail.tag.id);\n    this._data.tags.splice(index, 1, e.detail.tag);\n    this._data.topics.forEach(topic => {\n\n      const index1 = topic.tags.findIndex(t => t.id == e.detail.tag.id);\n      topic.tags.splice(index1, 1, e.detail.tag);\n    });\n\n    this.requestUpdate();\n  }\n\n  _tagDeleted(e) {\n\n    const index = this._data.tags.findIndex(t => t.id == e.detail.id);\n    this._data.tags.splice(index, 1);\n    this._data.topics.forEach(topic => {\n\n      const index1 = topic.tags.findIndex(t => t.id == e.detail.id);\n      topic.tags.splice(index1, 1);\n    });\n\n    this.requestUpdate();\n  }\n\n  _permissionsComplete() {\n\n    if (this._currentTopic) {\n      this._state = STATE_DISPLAYING_TOPIC;\n    } else {\n      this._state = STATE_NOTHING_SELECTED;\n    }\n\n    location.reload();\n  }\n\n  _resetState() {\n\n    this._showingSettings = false;\n\n    if (this.wasAddingTopic) {\n      this.wasAddingTopic = false;\n      this._state = STATE_ADDING_TOPIC;\n    } else if (this._currentTopic) {\n      this._state = STATE_DISPLAYING_TOPIC;\n      this._selectTopic();\n    } else {\n      this._state = STATE_NOTHING_SELECTED;\n    }\n  }\n\n  _settingUpdated(e) {\n\n    const setting = e.detail.setting;\n\n    if (setting === \"siteLocked\") {\n      // This is a far ranging setting. Refresh the tool entirely. That way, all the urls and\n      // toggles can be recomputed on the server side.\n      window.location.reload();\n    }\n\n    this._data.settings[e.detail.setting] = e.detail.on;\n\n    this.requestUpdate();\n  }\n\n  _guidelinesSaved(e) {\n\n    this._data.settings.guidelines = e.detail.guidelines;\n    this.requestUpdate();\n  }\n\n  _agreeToGuidelines() {\n\n    const url = `/api/sites/${this.siteId}/conversations/agree`;\n    fetch(url, {\n      credentials: \"include\",\n    })\n    .then(r => {\n\n      if (!r.ok) {\n        throw new Error(\"Network error while settings agreed status\");\n      } else {\n        this._data.showGuidelines = false;\n      }\n    })\n    .catch(error => console.error(error));\n\n    this._data.showGuidelines = false;\n    this.requestUpdate();\n  }\n\n  async _editTags() {\n\n    await import(\"../sakai-conversations-tag-manager.js\");\n\n    this.wasAddingTopic = true;\n    this._state = STATE_MANAGING_TAGS;\n  }\n\n  _dimBackground() { document.getElementById(\"overlay\").style.display = \"block\"; }\n\n  _undimBackground() { document.getElementById(\"overlay\").style.display = \"none\"; }\n\n  _setStateAddingTopic() { this._state = STATE_ADDING_TOPIC; }\n\n  async _setStateSettings() {\n\n    await import(\"../sakai-conversations-settings.js\");\n\n    this._state = STATE_SETTINGS;\n    this._showingSettings = true;\n  }\n\n  async _setStatePermissions() {\n\n    await import(\"@sakai-ui/sakai-permissions\");\n    this._state = STATE_PERMISSIONS;\n  }\n\n  async _setStateManagingTags() {\n\n    await import(\"../sakai-conversations-tag-manager.js\");\n    this._state = STATE_MANAGING_TAGS;\n  }\n\n  async _setStateStatistics() {\n\n    await import(\"../conversations-statistics.js\");\n    this._state = STATE_STATISTICS;\n  }\n\n  _setStateNothingSelected() { this._state = STATE_NOTHING_SELECTED; }\n\n  _handleSearch() {\n    setupSearch({ site: this.siteId, tool: \"sakai.conversations\" });\n  }\n\n  _renderSettingsMenu() {\n\n    return html`\n      <li class=${ifDefined(this._state === STATE_SETTINGS ? \"setting-active\" : undefined)}>\n        <button class=\"btn btn-secondary dropdown-item\" @click=${this._setStateSettings}>${this._i18n.general_settings}</button>\n      </li>\n      <li class=${ifDefined(this._state === STATE_PERMISSIONS ? \"setting-active\" : undefined)}>\n        <button class=\"btn btn-secondary dropdown-item\" @click=\"${this._setStatePermissions}\">${this._i18n.permissions}</button>\n      </li>\n      ${this._data.canEditTags ? html`\n      <li class=${ifDefined(this._state === STATE_MANAGING_TAGS ? \"setting-active\" : undefined)}>\n        <button class=\"btn btn-secondary dropdown-item\" @click=\"${this._setStateManagingTags}\">${this._i18n.manage_tags}</button>\n      </li>\n      ` : nothing }\n      ${this._data.canViewSiteStatistics ? html`\n      <li class=${ifDefined(this._state === STATE_STATISTICS ? \"setting-active\" : undefined)}>\n        <button class=\"btn btn-secondary dropdown-item\" @click=\"${this._setStateStatistics}\">${this._i18n.statistics}</button>\n      </li>\n      ` : nothing }\n    `;\n  }\n\n  _renderTopbar(renderBackButton, mobile) {\n\n    return html`\n      <div class=\"conv-topbar d-flex align-items-center\">\n\n        ${renderBackButton ? html`\n        <div id=\"conv-back-button-block\">\n          <div>\n            <a href=\"javascript:;\" @click=\"${this._setStateNothingSelected}\">\n              <div><sakai-icon type=\"left\"></sakai-icon></div>\n            </a>\n          </div>\n        </div>\n        ` : nothing }\n\n        <div class=\"conv-settings-and-create d-flex align-items-center\">\n          ${this._data.canUpdatePermissions || this._data.isInstructor ? html`\n          ${this._searchEnabled ? html`\n          <div>\n            <button type=\"button\"\n                @click=${this._handleSearch}\n                class=\"btn btn-link icon-button\"\n                data-bs-toggle=\"offcanvas\"\n                data-bs-target=\"#sakai-search-panel\"\n                aria-controls=\"sakai-search-panel\">\n              <i class=\"si si-sakai-search\"></i>\n              <span>Search</span>\n            </button>\n          </div>\n          ` : nothing}\n          ${mobile ? html`\n            <div>\n              <div class=\"dropdown\">\n                <button type=\"button\" class=\"btn btn-icon\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                  <i class=\"si si-settings\"></i>\n                  <span>${this._i18n.settings}</span>\n                </button>\n                <ul class=\"dropdown-menu\">\n                ${this._renderSettingsMenu()}\n                </ul>\n              </div>\n            </div>\n          ` : html`\n          <div class=\"conv-settings-link\">\n            <button type=\"button\" class=\"btn icon-button text-nowrap\" @click=\"${this._setStateSettings}\">\n              <i class=\"si si-settings\"></i>\n              <span>${this._i18n.settings}</span>\n            </button>\n          </div>\n          `}\n          ` : nothing }\n\n          ${this._data.canCreateTopic ? html`\n          <a href=\"javascript:;\" @click=${this._addTopic}>\n            <div class=\"conv-add-topic\">\n                <span class=\"add-topic-text\">\n                ${this._i18n.create_new}\n                </span>\n                <sakai-icon class=\"add-topic-icon\" type=\"add\" size=\"medium\"></sakai-icon>\n            </div>\n          </a>\n          ` : nothing }\n        </div>\n      </div>\n    `;\n  }\n\n  _renderPermissions() {\n\n    return html`\n      <div class=\"add-topic-wrapper\">\n        <h1 id=\"permissions-title\">${this._i18n.permissions}</h1>\n        <sakai-permissions tool=\"conversations\" @permissions-complete=${this._permissionsComplete} fire-event></sakai-permissions>\n      </div>\n    `;\n  }\n\n  _renderTagManager() {\n\n    return html`\n      <sakai-conversations-tag-manager\n          .tags=\"${this._data.tags}\"\n          site-id=\"${this.siteId}\"\n          @tags-created=${this._tagsCreated}\n          @tag-updated=${this._tagUpdated}\n          @tag-deleted=${this._tagDeleted}\n      >\n      </sakai-conversations-tag-manager>\n    `;\n  }\n\n  _renderCurrentTopic() {\n\n    return html`\n      <sakai-topic post-id=\"${ifDefined(this.postId)}\"\n            ?can-view-anonymous=${this._data.canViewAnonymous}\n            ?is-instructor=${this._data.isInstructor}\n            ?can-view-deleted=${this._data.canViewDeleted}\n            topic=\"${JSON.stringify(this._currentTopic)}\"\n            @edit-topic=${this._editTopic}\n            @posts-viewed=${this._postsViewed}\n            @topic-deleted=${this._topicDeleted}\n            @topic-updated=${this._topicUpdated}\n            @topic-unread-updated=${this.topicUnreadUpdated}>\n      </sakai-topic>\n    `;\n  }\n\n  _renderStatistics() {\n\n    return html`\n      <conversations-statistics\n          stats-url=\"${this._data.links.find(l => l.rel === \"stats\").href}\"\n      >\n      </conversations-statistics>\n    `;\n  }\n\n  _renderAddTopic() {\n\n    return html`\n      <sakai-add-topic\n        user-id=\"${this._data.userId}\"\n        site-id=\"${this.siteId}\"\n        .tags=\"${this._data.tags}\"\n        .groups=\"${this._data.groups}\"\n        @topic-saved=${this._topicSaved}\n        @save-wip-topic=${this._saveWipTopic}\n        @topic-add-cancelled=${this._cancelAddTopic}\n        @edit-tags=${this._editTags}\n        ?can-create-discussion=${this._data.canCreateDiscussion}\n        ?can-create-question=${this._data.canCreateQuestion}\n        ?can-pin=${this._data.canPin}\n        ?can-edit-tags=${this._data.canEditTags}\n        ?can-anon=${this._data.settings.allowAnonPosting}\n        ?disable-discussions=${this._data.disableDiscussions}\n        topic=${ifDefined(this._topicBeingEdited ? JSON.stringify(this._topicBeingEdited) : undefined)}>\n      </sakai-add-topic>\n    `;\n  }\n\n  _renderGeneralSettings() {\n\n    return html`\n      <sakai-conversations-settings\n          settings=\"${JSON.stringify(this._data.settings)}\"\n          @setting-updated=${this._settingUpdated}\n          @guidelines-saved=${this._guidelinesSaved}\n          site-id=\"${this.siteId}\">\n      </sakai-conversations-settings>\n    `;\n  }\n\n  _renderTopicList() {\n\n    return html`\n      <div id=\"conv-topic-list-wrapper\">\n        <sakai-topic-list\n            id=\"conv-topic-list\"\n            site-id=\"${this._data.siteId}\"\n            .data=\"${this._data}\"\n            @topic-selected=${this._topicSelected}>\n        </sakai-topic-list>\n      </div>\n    `;\n  }\n\n  shouldUpdate() { return this._i18n; }\n\n  render() {\n\n    if (this._loadingData) {\n      return html`\n        <div class=\"sak-banner-info\">\n          <div class=\"mb-3 fs-5 fw-bold\">${this._i18n.loading_1}</div>\n          <div>${this._i18n.loading_2}</div>\n        </div>\n      `;\n    }\n\n    return html`\n\n      ${this._data.showGuidelines ? html`\n        <sakai-conversations-guidelines guidelines=\"${this._data.settings.guidelines}\"></sakai-conversations-guidelines>\n        <div class=\"act\">\n          <input type=\"button\" class=\"active\" @click=${this._agreeToGuidelines} value=\"${this._i18n.agree}\">\n        </div>\n      `\n      : html`\n        <div id=\"overlay\"></div>\n        <div id=\"conv-desktop\">\n          ${this._showingSettings && (this._data.canUpdatePermissions || this._data.isInstructor) ? html`\n          <div>\n            <div id=\"conv-back-button-block\">\n              <a href=\"javascript:;\" @click=${this._resetState}>\n                <div><sakai-icon type=\"left-arrow\"></sakai-icon></div>\n                <div>${this._i18n.back}</div>\n              </a>\n            </div>\n            <div id=\"conv-settings\">\n              ${this._renderSettingsMenu()}\n            </div>\n          </div>\n          ` : this._renderTopicList()}\n\n          <div id=\"conv-topbar-and-content\">\n\n            ${this._renderTopbar()}\n\n            <div id=\"conv-content\">\n              ${this._state === STATE_PERMISSIONS ? this._renderPermissions() : nothing }\n              ${this._state === STATE_MANAGING_TAGS ? this._renderTagManager() : nothing }\n              ${this._state === STATE_STATISTICS ? this._renderStatistics() : nothing }\n              ${this._state === STATE_SETTINGS ? this._renderGeneralSettings() : nothing }\n              ${this._state === STATE_ADDING_TOPIC ? this._renderAddTopic() : nothing }\n              ${this._state === STATE_DISPLAYING_TOPIC ? this._renderCurrentTopic() : nothing }\n              ${this._state === STATE_NOTHING_SELECTED ? html`\n                <div id=\"conv-nothing-selected\">\n                  ${this._data.canCreateDiscussion || this._data.canCreateQuestion ? html`\n                    <div>${this._i18n.nothing_selected}</div>\n                  ` : html`\n                    <div>${this._i18n.nothing_selected_no_create}</div>\n                  `}\n                </div>\n              ` : nothing }\n            </div>\n\n          </div>\n\n        </div>\n      `}\n\n      <div id=\"conv-mobile\">\n        ${this._renderTopbar(this._state !== STATE_NOTHING_SELECTED, true)}\n        ${this._state === STATE_NOTHING_SELECTED ? this._renderTopicList() : nothing }\n        ${this._state === STATE_DISPLAYING_TOPIC ? this._renderCurrentTopic() : nothing }\n        ${this._state === STATE_ADDING_TOPIC ? this._renderAddTopic() : nothing }\n        ${this._state === STATE_SETTINGS ? this._renderGeneralSettings() : nothing }\n        ${this._state === STATE_PERMISSIONS ? this._renderPermissions() : nothing }\n        ${this._state === STATE_STATISTICS ? this._renderStatistics() : nothing }\n        ${this._state === STATE_MANAGING_TAGS ? this._renderTagManager() : nothing }\n      </div>\n    `;\n  }\n}\n", "import { SakaiConversations } from './src/SakaiConversations.js';\n\ncustomElements.define('sakai-conversations', SakaiConversations);\n"],
  "mappings": "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",
  "names": ["SakaiTopicSummary", "SakaiElement", "r", "e", "ke", "QUESTION", "D", "DISCUSSION", "tag", "SakaiTopicSummary", "SakaiTopicList", "SakaiElement", "r", "value", "oldValue", "topic", "t", "e", "QUESTION", "DISCUSSION", "url", "data", "tag", "ke", "D", "SakaiTopicList", "SakaiConversations", "SakaiElement", "STATE_NOTHING_SELECTED", "r", "value", "url", "data", "wipTopicJson", "error", "STATE_ADDING_TOPIC", "STATE_SETTINGS", "STATE_MANAGING_TAGS", "STATE_DISPLAYING_TOPIC", "e", "index", "t", "currentIndex", "topic", "topicId", "onlySelectInList", "index1", "STATE_PERMISSIONS", "STATE_STATISTICS", "setupSearch", "ke", "to", "D", "renderBackButton", "mobile", "l", "SakaiConversations"]
}
