{
  "version": 3,
  "sources": ["../node_modules/@sakai-ui/sakai-rubrics/src/SakaiRubricStudentButton.js", "../node_modules/@sakai-ui/sakai-rubrics/sakai-rubric-student-button.js", "../node_modules/@sakai-ui/sakai-rubrics/src/SakaiRubricCriterionPreview.js", "../node_modules/@sakai-ui/sakai-rubrics/sakai-rubric-criterion-preview.js", "../node_modules/@sakai-ui/sakai-rubrics/src/SakaiRubricStudentComment.js", "../node_modules/@sakai-ui/sakai-rubrics/sakai-rubric-student-comment.js", "../node_modules/@sakai-ui/sakai-rubrics/src/SakaiRubricCriterionStudent.js", "../node_modules/@sakai-ui/sakai-rubrics/sakai-rubric-criterion-student.js", "../node_modules/@sakai-ui/sakai-rubrics/src/SakaiRubricStudent.js", "../node_modules/@sakai-ui/sakai-rubrics/sakai-rubric-student.js", "../node_modules/@sakai-ui/sakai-rubrics/src/SakaiRubricAssociation.js", "../node_modules/@sakai-ui/sakai-rubrics/sakai-rubric-association.js", "../node_modules/@sakai-ui/sakai-rubrics/src/SakaiRubricStudentPreviewButton.js", "../node_modules/@sakai-ui/sakai-rubrics/sakai-rubric-student-preview-button.js", "../node_modules/@sakai-ui/sakai-rubrics/sakai-rubrics-utils.js", "../bundle-entry-points/rubric-association-requirements.js"],
  "sourcesContent": ["import { RubricsElement } from \"./RubricsElement.js\";\nimport { html } from \"lit\";\nimport { rubricsApiMixin } from \"./SakaiRubricsApiMixin.js\";\n\nexport class SakaiRubricStudentButton extends rubricsApiMixin(RubricsElement) {\n\n  static properties = {\n\n    _rubricId: { state: true },\n    siteId: { attribute: \"site-id\", type: String },\n    entityId: { attribute: \"entity-id\", type: String },\n    toolId: { attribute: \"tool-id\", type: String },\n    evaluatedItemId: { attribute: \"evaluated-item-id\", type: String },\n    evaluatedItemOwnerId: { attribute: \"evaluated-item-owner-id\", type: String },\n    forcePreview: { attribute: \"force-preview\", type: Boolean },\n    instructor: { type: Boolean },\n  };\n\n  constructor() {\n\n    super();\n\n    this.forcePreview = false;\n  }\n\n  set siteId(value) {\n\n    this._siteId = value;\n    this.i18nLoaded.then(r => this.initLightbox(r, value));\n  }\n\n  get siteId() { return this._siteId; }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n\n    super.attributeChangedCallback(name, oldValue, newValue);\n\n    if (this.toolId && this.entityId) {\n      this._setRubricId();\n    }\n  }\n\n  shouldUpdate() {\n    return this._rubricId;\n  }\n\n  render() {\n\n    return html`\n      <a @click=${this.showRubric} href=\"javascript:;\" title=\"${this._i18n.preview_rubric}\">\n        <span class=\"si si-sakai-rubrics\"></span>\n      </a>\n    `;\n  }\n\n  _setRubricId() {\n\n    this.apiGetAssociation()\n      .then(association => {\n\n        if (association && !association.parameters.hideStudentPreview) {\n          this._rubricId = association.rubricId;\n        }\n      })\n    .catch(error => console.error(error));\n  }\n\n  showRubric() {\n\n    if (this.forcePreview) {\n      this.showRubricLightbox(this._rubricId);\n    } else {\n      this.showRubricLightbox(this._rubricId, { \"tool-id\": this.toolId, \"entity-id\": this.entityId, \"evaluated-item-id\": this.evaluatedItemId, \"evaluated-item-owner-id\": this.evaluatedItemOwnerId });\n    }\n  }\n\n  releaseEvaluation() {\n\n    let url = `/api/sites/${this.siteId}/rubric-evaluations/tools/${this.toolId}/items/${this.entityId}/evaluations/${this.evaluatedItemId}`;\n    return fetch(url, { credentials: \"include\" })\n    .then(r => {\n\n      if (r.status === 200) {\n        return r.json();\n      }\n\n      if (r.status !== 204) {\n        throw new Error(`Network error while getting evaluation at ${url}`);\n      }\n\n      return null;\n    })\n    .then(async data => {\n\n      const evaluation = data._embedded.evaluations[0];\n      if (evaluation) {\n        evaluation.status = 2;\n        url = `/api/sites/${this.siteId}/rubric-evaluations/${evaluation.id}`;\n        await fetch(url, {\n          body: JSON.stringify(evaluation),\n          credentials: \"include\",\n          headers: { \"Content-Type\": \"application/json\" },\n          method: \"PATCH\",\n        })\n        .then(r => {\n\n          if (!r.ok) {\n            throw new Error(\"Failed to release evaluation\");\n          }\n        });\n      }\n    })\n    .catch (error => console.error(error));\n  }\n}\n", "import { SakaiRubricStudentButton } from \"./src/SakaiRubricStudentButton.js\";\n\ncustomElements.define(\"sakai-rubric-student-button\", SakaiRubricStudentButton);\n", "import { RubricsElement } from \"./RubricsElement.js\";\nimport { html, nothing } from \"lit\";\nimport { unsafeHTML } from \"lit/directives/unsafe-html.js\";\n\nexport class SakaiRubricCriterionPreview extends RubricsElement {\n\n  static properties = {\n\n    criteria: { type: Array },\n    weighted: { type: Boolean },\n  };\n\n  shouldUpdate() {\n    return this.criteria && super.shouldUpdate();\n  }\n\n  render() {\n\n    return html`\n      <div class=\"criterion grading style-scope sakai-rubric-criterion-preview\">\n        ${this.criteria && this.criteria.map(c => html`\n          ${this.isCriterionGroup(c) ? html`\n            <div id=\"criterion_row_${c.id}\" class=\"criterion-row criterion-group\">\n              <div class=\"criterion-detail\">\n                <h4 class=\"criterion-title\">${c.title}</h4>\n                <p>${unsafeHTML(c.description)}</p>\n              </div>\n            </div>\n          ` : html`\n            <div id=\"criterion_row_${c.id}\" class=\"criterion-row\">\n              <div class=\"criterion-detail\">\n                <h4 class=\"criterion-title\">${c.title}</h4>\n                <p>${unsafeHTML(c.description)}</p>\n                ${this.weighted ? html`\n                  <div class=\"criterion-weight\">\n                    <span>${this._i18n.weight}</span>\n                    <span>${c.weight.toLocaleString(this.locale)}</span>\n                    <span>${this._i18n.percent_sign}</span>\n                  </div>\n                ` : nothing }\n              </div>\n              <div class=\"criterion-ratings\">\n                <div class=\"cr-table\">\n                  <div class=\"cr-table-row\">\n                  ${c.ratings.map(r => html`\n                    <div class=\"rating-item\" id=\"rating_item_${r.id}\" >\n                      <h5 class=\"criterion-item-title\">${r.title}</h5>\n                      <div class=\"div-description\">\n                        <p>${r.description}</p>\n                      </div>\n                      <span class=\"points\">\n                        ${this.weighted && r.points > 0 ? html`\n                            <b>\n                              (${parseFloat((r.points * (c.weight / 100)).toFixed(2)).toLocaleString(this.locale)})\n                            </b>`\n                        : nothing }\n                        ${r.points.toLocaleString(this.locale)}\n                        ${this._i18n.points}\n                      </span>\n                    </div>\n                  `)}\n                  </div>\n                </div>\n              </div>\n            </div>\n          `}\n        `)}\n      </div>\n    `;\n  }\n}\n", "import { SakaiRubricCriterionPreview } from \"./src/SakaiRubricCriterionPreview.js\";\n\n!customElements.get(\"sakai-rubric-criterion-preview\") && customElements.define(\"sakai-rubric-criterion-preview\", SakaiRubricCriterionPreview);\n", "import { RubricsElement } from \"./RubricsElement.js\";\nimport { html } from \"lit\";\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nimport { unsafeHTML } from \"lit/directives/unsafe-html.js\";\n\nexport class SakaiRubricStudentComment extends RubricsElement {\n\n  static properties = { criterion: { type: Object } };\n\n  set criterion(value) {\n\n    const oldValue = this._criterion;\n    this._criterion = value;\n    this._criterion.comments = value.comments && value.comments.indexOf(\"null\") === 0 ? \"\" : value.comments;\n\n    this.triggerId = `criterion-comment-${value.id}-trigger${Math.floor(Math.random() * 90 + 10)}`;\n\n    this.requestUpdate(\"criterion\", oldValue);\n  }\n\n  get criterion() {\n    return this._criterion;\n  }\n\n  handleClose() {\n    this.hideComment();\n  }\n\n  shouldUpdate() {\n    return this._i18n;\n  }\n\n  hideComment() {\n    bootstrap.Dropdown.getOrCreateInstance(this.querySelector(\".dropdown-menu\"))?.hide();\n  }\n\n  render() {\n\n    return html`\n      <div class=\"dropdown\" id=\"${ifDefined(this.triggerId)}\">\n        <button class=\"btn btn-transparent ${this.criterion.comments ? \"\" : \"disabled\"}\"\n            type=\"button\"\n            data-bs-toggle=\"dropdown\"\n            data-bs-auto-close=\"false\"\n            aria-label=\"${this._i18n.criterion_comment_student}\"\n            aria-expanded=\"false\">\n          <i class=\"bi bi-chat${this.criterion.comments ? \"-fill\" : \"\"} ${this.criterion.comments ? \"active\" : \"\"}\"></i>\n        </button>\n\n        <div class=\"rubric-comment-dropdown dropdown-menu\">\n          <div class=\"m-2 rubric-comment-body\">\n            <div class=\"fw-bold rubric-criterion-comment-title\">${this.tr(\"comment_for_criterion\", [ this.criterion.title ])}</div>\n            <div>${unsafeHTML(this.criterion.comments)}</div>\n            <div class=\"buttons act float-end\">\n              <button type=\"button\" class=\"active btn-xs\" @click=${this.hideComment}>${this._i18n.done}</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n}\n", "import { SakaiRubricStudentComment } from \"./src/SakaiRubricStudentComment.js\";\n\ncustomElements.define(\"sakai-rubric-student-comment\", SakaiRubricStudentComment);\n", "import { RubricsElement } from \"./RubricsElement.js\";\nimport { html, nothing } from \"lit\";\nimport { repeat } from \"lit/directives/repeat.js\";\nimport { unsafeHTML } from \"lit/directives/unsafe-html.js\";\nimport \"../sakai-rubric-student-comment.js\";\n\nexport class SakaiRubricCriterionStudent extends RubricsElement {\n\n  static properties = {\n\n    criteria: { type: Array },\n    totalPoints: Number,\n    association: { type: Object },\n    outcomes: { type: Array },\n    preview: Boolean,\n    entityId: { attribute: \"entity-id\", type: String },\n    weighted: Boolean,\n  };\n\n  set criteria(newValue) {\n\n    const oldValue = this._criteria;\n\n    this._criteria = newValue;\n    this.criteria.forEach(c => {\n\n      if (!c.selectedvalue) {\n        c.selectedvalue = 0;\n      }\n      c.pointrange = this.getHighLow(c.ratings);\n    });\n\n    if (this.outcomes) {\n      this.handleOutcomes();\n    }\n\n    this.requestUpdate(\"criteria\", oldValue);\n  }\n\n  get criteria() { return this._criteria; }\n\n  get dynamic () { return this.association && this.association.parameters && this.association.parameters[\"rbcs-associate\"] === 2; }\n\n  set outcomes(newValue) {\n\n    const oldValue = this._outcomes;\n\n    this._outcomes = newValue;\n\n    if (this.criteria) {\n      this.handleOutcomes();\n    }\n\n    this.requestUpdate(\"outcomes\", oldValue);\n  }\n\n  get outcomes() { return this._outcomes; }\n\n  handleClose() {\n    this.querySelectorAll(\"sakai-rubric-student-comment\").forEach(el => el.handleClose());\n  }\n\n  shouldUpdate() {\n    return this.association && this.criteria && super.shouldUpdate();\n  }\n\n  render() {\n\n    return html`\n      <div class=\"criterion grading style-scope sakai-rubric-criterion-student\" style=\"margin-bottom: 20px;\">\n        ${this.criteria.map(c => html`\n          ${this.isCriterionGroup(c) ? html`\n            <div id=\"criterion_row_${c.id}\" class=\"criterion-row criterion-group\">\n              <div class=\"criterion-detail\">\n                <h4 class=\"criterion-title\">${c.title}</h4>\n                <p>${unsafeHTML(c.description)}</p>\n              </div>\n            </div>\n          ` : html`\n            <div id=\"criterion_row_${c.id}\" class=\"criterion-row\">\n              <div class=\"criterion-detail\">\n                <h4 class=\"criterion-title\">${c.title}</h4>\n                <p>${unsafeHTML(c.description)}</p>\n              </div>\n              ${this.weighted ? html`\n                <div class=\"criterion-weight\">\n                  <span>${this._i18n.weight}</span>\n                  <span>${c.weight.toLocaleString(this.locale)}</span>\n                  <span>${this._i18n.percent_sign}</span>\n                </div>\n              ` : nothing }\n              <div class=\"criterion-ratings\">\n                <div class=\"cr-table\">\n                  <div class=\"cr-table-row\">\n                  ${repeat(c.ratings, r => r.id, r => html`\n                    <div class=\"rating-item student ${r.selected ? \"selected\" : \"\"}\" id=\"rating-item-${r.id}\">\n                      ${!this.dynamic ? html`\n                        <h5 class=\"criterion-item-title\">${r.title}</h5>\n                      ` : nothing }\n                      <p>${r.description}</p>\n                      <span class=\"points\">\n                        ${this.weighted && r.points > 0 ? html`\n                          <b>\n                              (${parseFloat((r.points * (c.weight / 100)).toFixed(2)).toLocaleString(this.locale)})\n                          </b>\n                        ` : nothing }\n                        ${r.points.toLocaleString(this.locale)}\n                        ${this._i18n.points}\n                      </span>\n                    </div>\n                  `)}\n                  </div>\n                </div>\n              </div>\n              <div class=\"criterion-actions\">\n              ${!this.preview ? html`\n                ${!this.dynamic ? html`\n                  <sakai-rubric-student-comment .criterion=${c}></sakai-rubric-student-comment>\n                ` : nothing }\n                <strong class=\"points-display ${this.getOverriddenClass(c.pointoverride, c.selectedvalue)}\">\n                  ${c.selectedRatingId ? c.selectedvalue.toLocaleString(this.locale) : \"0\"}\n                </strong>\n                ${this.isOverridden(c.pointoverride, c.selectedvalue) ?\n                  html`<strong class=\"points-display\">${c.pointoverride.toLocaleString(this.locale)}</strong>`\n                  : nothing }\n              ` : nothing }\n              </div>\n            </div>\n          `}\n        `)}\n      </div>\n      ${!this.preview && !this.dynamic ? html`\n      <div class=\"rubric-totals\" style=\"margin-bottom: 5px;\">\n        <div class=\"total-points\"><span>${this._i18n.total}</span>: <strong>${this.totalPoints.toLocaleString(this.locale, { maximumFractionDigits:2 })}</strong></div>\n      </div>\n      ` : nothing }\n    `;\n  }\n\n  handleOutcomes() {\n\n    this.outcomes.forEach(outcome => {\n\n      this.criteria.forEach(c => {\n\n        if (outcome.criterionId === c.id) {\n\n          let selectedRatingItem = null;\n          c.ratings.forEach(r => {\n            if (r.id == outcome.selectedRatingId) {\n              r.selected = true;\n              selectedRatingItem = r;\n            } else {\n              r.selected = false;\n            }\n          });\n\n          c.selectedRatingId = outcome.selectedRatingId;\n          if (outcome.pointsAdjusted) {\n            c.pointoverride = outcome.points;\n            c.selectedvalue = selectedRatingItem != null ? selectedRatingItem.points : 0; // Set selected value (points) to zero if no rating was selected\n          } else {\n            c.pointoverride = \"\";\n            c.selectedvalue = outcome.points;\n          }\n\n          c.comments = outcome.comments;\n          if (c.comments === \"undefined\") {\n            // This can happen if undefined gets passed to the server when the evaluation is saved.\n            c.comments = \"\";\n          }\n        }\n      });\n    });\n\n    this.updateTotalPoints();\n  }\n\n  isOverridden(pointoverride, selected) {\n\n    if (!this.association.parameters.fineTunePoints) {\n      return false;\n    }\n\n    if ((pointoverride || pointoverride === 0) && (parseFloat(pointoverride) !== parseFloat(selected))) {\n      return true;\n    }\n    return false;\n\n  }\n\n  updateTotalPoints() {\n\n    this.totalPoints = this.criteria.reduce((a, c) => {\n\n      if (c.pointoverride) {\n        return a + parseFloat(c.pointoverride);\n      } else if (c.selectedvalue) {\n        return a + parseFloat(c.selectedvalue);\n      }\n      return a;\n\n    }, 0);\n\n    this.ready = true;\n  }\n\n  getOverriddenClass(ovrdvl, selected) {\n\n    if (!this.association.parameters.fineTunePoints) {\n      return \"\";\n    }\n\n    if ((ovrdvl || ovrdvl === 0) && (parseFloat(ovrdvl) !== parseFloat(selected))) {\n      return \"strike\";\n    }\n    return \"\";\n  }\n}\n", "import { SakaiRubricCriterionStudent } from \"./src/SakaiRubricCriterionStudent.js\";\n\ncustomElements.define(\"sakai-rubric-criterion-student\", SakaiRubricCriterionStudent);\n", "import { RubricsElement } from \"./RubricsElement.js\";\nimport { html, nothing } from \"lit\";\nimport { rubricsApiMixin } from \"./SakaiRubricsApiMixin.js\";\nimport \"../sakai-rubric-criterion-preview.js\";\nimport \"../sakai-rubric-criterion-student.js\";\nimport \"../sakai-rubric-pdf.js\";\n\nexport class SakaiRubricStudent extends rubricsApiMixin(RubricsElement) {\n\n  static properties = {\n\n    entityId: { attribute: \"entity-id\", type: String },\n    toolId: { attribute: \"tool-id\", type: String },\n    siteId: { attribute: \"site-id\", type: String },\n    preview: { type: Boolean },\n    instructor: { type: String },\n    evaluatedItemId: { attribute: \"evaluated-item-id\", type: String },\n    evaluatedItemOwnerId: { attribute: \"evaluated-item-owner-id\", type: String },\n    rubricId: { attribute: \"rubric-id\", type: String },\n    forcePreview: { attribute: \"force-preview\", type: Boolean },\n    enablePdfExport: { attribute: \"enable-pdf-export\", type: Object },\n    isPeerOrSelf: { attribute: \"is-peer-or-self\", type: Boolean },\n\n    _rubric: { state: true },\n  };\n\n  constructor() {\n\n    super();\n\n    this.setRubricRequirements = [ \"site-id\", \"rubric-id\", \"preview\" ];\n\n    this.options = {};\n    this.instanceSalt = Math.floor(Math.random() * Date.now());\n  }\n\n  get dynamic () { return this.options && this.options[\"rbcs-associate\"] === 2; }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n\n    super.attributeChangedCallback(name, oldValue, newValue);\n\n    if ((name === \"entity-id\" && this.toolId) || (name === \"tool-id\" && this.entityId)) {\n      this._init();\n    }\n\n    if (this.setRubricRequirements.includes(name)) {\n      this._setRubric();\n    }\n\n    // If rubric-id has been removed, undefine the rubric\n    if (name === \"rubric-id\" && !newValue) {\n      this._rubric = undefined;\n    }\n  }\n\n  handleClose() {\n\n    const el = this.querySelector(\"sakai-rubric-criterion-student\");\n    el && el.handleClose();\n  }\n\n  shouldUpdate() {\n    return this.siteId && this.i18nLoaded && this._rubric && (this.instructor || !this.options.hideStudentPreview || this.options[\"rbcs-associate\"] != 2);\n  }\n\n  render() {\n\n    console.debug(\"SakaiRubricStudent.render\");\n    const isInstructor = this.instructor && this.instructor === \"true\";\n\n    return html`\n      <div class=\"rubric-details student-view\">\n        ${!this.dynamic ? html`\n          <h3>\n            <span>${this._rubric.title}</span>\n            ${this.enablePdfExport ? html`\n              <sakai-rubric-pdf\n                  site-id=\"${this.siteId}\"\n                  rubric-title=\"${this._rubric.title}\"\n                  rubric-id=\"${this._rubric.id}\"\n                  tool-id=\"${this.toolId}\"\n                  entity-id=\"${this.entityId}\"\n                  evaluated-item-id=\"${this.evaluatedItemId}\">\n              </sakai-rubric-pdf>\n            ` : nothing }\n          </h3>\n        ` : nothing }\n\n        ${isInstructor ? html`\n        <div class=\"rubrics-tab-row\">\n          <a href=\"javascript:void(0);\"\n              id=\"rubric-grading-or-preview-${this.instanceSalt}-button\"\n              class=\"rubrics-tab-button rubrics-tab-selected\"\n              @keypress=${this.openGradePreviewTab}\n              @click=${this.openGradePreviewTab}>\n            ${this._i18n.grading_rubric}\n          </a>\n          <a href=\"javascript:void(0);\"\n              id=\"rubric-student-summary-${this.instanceSalt}-button\"\n              class=\"rubrics-tab-button\"\n              @keypress=${this.makeStudentSummary}\n              @click=${this.makeStudentSummary}>\n            ${this._i18n.student_summary}\n          </a>\n          <a href=\"javascript:void(0);\"\n              id=\"rubric-criteria-summary-${this.instanceSalt}-button\"\n              class=\"rubrics-tab-button\"\n              @keypress=${this.makeCriteriaSummary}\n              @click=${this.makeCriteriaSummary}>\n            ${this._i18n.criteria_summary}\n          </a>\n        </div>\n        ` : nothing }\n\n        <div id=\"rubric-grading-or-preview-${this.instanceSalt}\" class=\"rubric-tab-content rubrics-visible\">\n          ${this.preview || this.forcePreview ? html`\n          <sakai-rubric-criterion-preview .criteria=${this._rubric.criteria}\n            ?weighted=${this._rubric.weighted}>\n          </sakai-rubric-criterion-preview>\n          ` : html`\n          <sakai-rubric-criterion-student\n            .criteria=${this._rubric.criteria}\n            .association=${this.association}\n            .outcomes=${this.evaluation.criterionOutcomes}\n            ?preview=${this.preview}\n            entity-id=\"${this.entityId}\"\n            ?weighted=${this._rubric.weighted}>\n          </sakai-rubric-criterion-student>\n          `}\n        </div>\n        <div id=\"rubric-student-summary-${this.instanceSalt}\" class=\"rubric-tab-content\"></div>\n        <div id=\"rubric-criteria-summary-${this.instanceSalt}\" class=\"rubric-tab-content\"></div>\n      </div>\n    `;\n  }\n\n  _setRubric() {\n\n    if (!this.siteId || !this.rubricId || !this.preview) return;\n\n    const url = `/api/sites/${this.siteId}/rubrics/${this.rubricId}`;\n    fetch(url, { credentials: \"include\", headers: { \"Content-Type\": \"application/json\" } })\n    .then(r => {\n\n      if (r.ok) {\n        return r.json();\n      }\n      throw new Error(`Network error while getting rubric at ${url}`);\n    })\n    .then(rubric => this._rubric = rubric)\n    .catch (error => console.error(error));\n  }\n\n  _init() {\n\n    console.debug(\"SakaiRubricStudent.init\");\n\n    // First, grab the tool association\n    this.apiGetAssociation()\n      .then(association => {\n\n        if (association) {\n          this.association = association;\n          this.options = association.parameters;\n          const rubricId = association.rubricId;\n\n          // Now, get the rubric\n          const rubricUrl = `/api/sites/${association.siteId}/rubrics/${rubricId}`;\n          fetch(rubricUrl, {\n            credentials: \"include\",\n            headers: { \"Content-Type\": \"application/json\" },\n          })\n          .then(r => {\n\n            if (r.ok) {\n              return r.json();\n            }\n            throw new Error(\"Server error while getting rubric\");\n          })\n          .then(rubric => {\n\n            if (this.evaluatedItemId) {\n              // Now, get the evaluation\n              let evalUrl = `/api/sites/${association.siteId}/rubric-evaluations/tools/${this.toolId}/items/${this.entityId}/evaluations/${this.evaluatedItemId}/owners/${this.evaluatedItemOwnerId}`;\n              if (this.isPeerOrSelf) {\n                //for permission filters\n                evalUrl += \"?isPeer=true\";\n              }\n              fetch(evalUrl, {\n                credentials: \"include\",\n                headers: { \"Content-Type\": \"application/json\" },\n              })\n              .then(r => {\n\n                if (r.status === 200) {\n                  return r.json();\n                }\n\n                if (r.status !== 204) {\n                  throw new Error(`Network error while getting evaluation at ${evalUrl}`);\n                }\n\n                return null;\n              })\n              .then(evaluation => {\n\n                if (evaluation) {\n                  this.evaluation = evaluation;\n                  this.preview = false;\n                } else {\n                  this.evaluation = { criterionOutcomes: [] };\n                  this.preview = true;\n                }\n\n                // Set the rubric, thus triggering a render\n                this._rubric = rubric;\n              })\n              .catch (error => console.error(error));\n            } else {\n              this.evaluation = { criterionOutcomes: [] };\n              this.preview = true;\n              this._rubric = rubric;\n            }\n          })\n          .catch (error => console.error(error));\n\n          if (this.options.hideStudentPreview == null) {\n            this.options.hideStudentPreview = false;\n          }\n        }\n      })\n      .catch (error => console.error(error));\n  }\n\n  openGradePreviewTab(e) {\n\n    e.stopPropagation();\n    this.openRubricsTab(`rubric-grading-or-preview-${this.instanceSalt}`);\n  }\n\n  makeStudentSummary(e) {\n\n    e.stopPropagation();\n    this.makeASummary(\"student\", this.siteId);\n  }\n\n  makeCriteriaSummary(e) {\n\n    e.stopPropagation();\n    this.makeASummary(\"criteria\", this.siteId);\n  }\n}\n", "import { SakaiRubricStudent } from \"./src/SakaiRubricStudent.js\";\n\n!customElements.get(\"sakai-rubric-student\") && customElements.define(\"sakai-rubric-student\", SakaiRubricStudent);\n", "import { RubricsElement } from \"./RubricsElement.js\";\nimport \"../sakai-rubric-student.js\";\nimport { html, nothing } from \"lit\";\n\nexport class SakaiRubricAssociation extends RubricsElement {\n\n  static properties = {\n\n    association: { type: Object },\n    associationId: { attribute: \"association-id\", type: String },\n    isAssociated: Number,\n    entityId: { attribute: \"entity-id\", type: String },\n    siteId: { attribute: \"site-id\", type: String },\n    toolId: { attribute: \"tool-id\", type: String },\n    dontAssociateLabel: { attribute: \"dont-associate-label\", type: String },\n    associateLabel: { attribute: \"associate-label\", type: String },\n    associateLabelDyn: { attribute: \"associate-label-dyn\", type: String },\n    fineTunePoints: { attribute: \"fine-tune-points\", type: String },\n    hideStudentPreview: { attribute: \"hide-student-preview\", type: String },\n    readOnly: { attribute: \"read-only\", type: Boolean },\n    studentSelfReport: { attribute: \"student-self-report\", type: String },\n    studentSelfReportMode0: { attribute: \"student-self-report-mode-0\", type: String },\n    studentSelfReportMode1: { attribute: \"student-self-report-mode-1\", type: String },\n    studentSelfReportMode2: { attribute: \"student-self-report-mode-2\", type: String },\n    showSelfReportCheck: { attribute: \"show-self-report-check\", type: Boolean },\n    showDynamic: { attribute: \"show-dynamic\", type: Boolean },\n\n    _selectedRubricId: { state: true },\n    _rubrics: { state: true },\n  };\n\n  constructor() {\n\n    super();\n\n    this.selectedConfigOptions = {};\n\n    this.isAssociated = 0;\n  }\n\n  connectedCallback() {\n\n    super.connectedCallback();\n\n    if (this.siteId) {\n      this.i18nLoaded.then(r => this.initLightbox(r, this.siteId));\n      this._getRubrics();\n    }\n\n    if (!this.association && this.entityId && this.toolId) {\n      this._getAssociation();\n    }\n  }\n\n  set association(value) {\n\n    this._association = value;\n    this._selectedRubricId = value.rubricId;\n    this.selectedConfigOptions = value.parameters ? value.parameters : {};\n    this.isAssociated = 1;\n    if (this.selectedConfigOptions[\"rbcs-associate\"] == 2) {\n      this.isAssociated = 2;\n      this.selectedConfigOptions = {};\n    }\n    this._getRubrics();\n  }\n\n  get association() { return this._association; }\n\n  _toggleFineTunePoints(e) {\n\n    if (!e.target.checked) {\n      if (!confirm(this._i18n.adjust_scores_warning)) {\n        e.preventDefault();\n      }\n    }\n  }\n\n  _getAssociation() {\n\n    let url = `/api/sites/${this.siteId}/rubric-associations/tools/${this.toolId}`;\n    if (this.entityId) url += `/items/${this.entityId}`;\n\n    fetch(url, {\n      credentials: \"include\",\n      headers: { \"Content-Type\": \"application/json\" },\n    })\n    .then(r => {\n\n      if (r.ok) {\n        if (r.status === 204) {\n          return {};\n        }\n        return r.json();\n      }\n\n      if (r.status === 404) {\n        this.style.display = \"none\";\n      }\n\n      throw new Error(\"Network error while getting association\");\n    })\n    .then(assoc => {\n\n      this.association = assoc;\n      if (this.association?.rubricId) {\n        this._selectedRubricId = this.association.rubricId;\n      } else {\n        this.isAssociated = 0;\n      }\n      this._getRubrics();\n    })\n    .catch (error => console.error(error));\n  }\n\n  _getRubrics() {\n\n    const url = `/api/sites/${this.siteId}/rubrics?withshared=true`;\n    fetch(url, {\n      credentials: \"include\",\n      headers: { \"Content-Type\": \"application/json\" },\n    })\n    .then(r => {\n\n      if (r.ok) {\n        if (r.status === 204) {\n          return {};\n        }\n        return r.json();\n      }\n\n      throw new Error(\"Network error while requesting rubrics\");\n    })\n    .then(data => this._handleRubrics(data))\n    .catch (error => console.error(error));\n  }\n\n  _handleRubrics(data) {\n\n    this._rubrics = data.slice().filter(rubric => !rubric.draft);\n\n    if (this._rubrics.length && this.isAssociated != 1) {\n      // Not associated yet, select the first rubric in the list.\n      this._selectedRubricId = this._rubrics[0].id;\n    }\n  }\n\n  _rubricSelected(e) {\n    this._selectedRubricId = e.target.value;\n  }\n\n  _showRubric(e) {\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (this.isAssociated == 1) {\n      this.showRubricLightbox(this._selectedRubricId);\n    }\n  }\n\n  _associate(e) {\n    this.isAssociated = e.target.value;\n  }\n\n  shouldUpdate() {\n    return super.shouldUpdate() && this._rubrics && (this._rubrics.length > 0 || this.showDynamic);\n  }\n\n  render() {\n\n    console.debug(\"SakaiRubricAssociation.render()\");\n\n    return html`\n      <h4>${this._i18n.grading_rubric}</h4>\n      <div class=\"sak-banner-warn\"><small>${this._i18n.rubric_points_warning}</small></div>\n      <div class=\"sakai-rubric-association form\">\n        ${this.readOnly ? nothing : html`\n          <div class=\"radio\">\n            <label>\n              <input\n                  @click=\"${this._associate}\"\n                  name=\"rbcs-associate\"\n                  id=\"dont-associate-radio\"\n                  type=\"radio\"\n                  class=\"me-1\"\n                  .value=\"${this.dontAssociateValue}\"\n                  ?checked=${!this.isAssociated}\n                  ?disabled=${this.readOnly}>${this.dontAssociateLabel}\n            </label>\n          </div>\n        `}\n        ${this._rubrics.length > 0 && !this.readOnly ? html`\n          <div class=\"radio\">\n            <label>\n              <input @click=\"${this._associate}\" name=\"rbcs-associate\" id=\"do-associate-radio\" type=\"radio\" class=\"me-1\" value=\"1\" ?checked=${this.isAssociated == 1} ?disabled=${this.readOnly}>${this.associateLabel}\n            </label>\n          </div>\n        ` : \"\"}\n        ${this._rubrics.length > 0 ? html`\n        <div class=\"rubrics-list\">\n\n          <div class=\"rubrics-selections\">\n            <select @change=\"${this._rubricSelected}\"\n                name=\"rbcs-rubricslist\"\n                aria-label=\"${this._i18n.rubric_selector_label}\"\n                class=\"form-control\"\n                ?disabled=${this.isAssociated != 1 || this.readOnly}>\n              ${this._rubrics.map(r => html`\n              <option value=\"${r.id}\" ?selected=${r.id === this._selectedRubricId}>\n                ${r.title} ${r.maxPoints ? `(${r.maxPoints} ${this._i18n.points})` : \"\"}\n              </option>\n              `)}\n            </select>\n\n            <button type=\"button\" @click=\"${this._showRubric}\" class=\"btn btn-link\" ?disabled=${this.isAssociated != 1}>\n              ${this._i18n.preview_rubric}\n            </button>\n          </div>\n\n          ${this.readOnly ? \"\" : html`\n            <div class=\"rubric-options\">\n              <div class=\"checkbox\">\n                <label>\n                  <input\n                      name=\"rbcs-config-fineTunePoints\"\n                      type=\"checkbox\"\n                      @click=${this._toggleFineTunePoints}\n                      ?checked=${this.selectedConfigOptions.fineTunePoints}\n                      value=\"1\"\n                      ?disabled=${this.isAssociated != 1 || this.readOnly}>${this.fineTunePoints}\n                </label>\n              </div>\n              <div class=\"checkbox\">\n                <label>\n                  <input name=\"rbcs-config-hideStudentPreview\" type=\"checkbox\" class=\"me-1\" ?checked=${this.selectedConfigOptions.hideStudentPreview} value=\"1\" ?disabled=${this.isAssociated != 1 || this.readOnly}>${this.hideStudentPreview}\n                </label>\n              </div>\n              ${this.showSelfReportCheck ? html`\n                <div class=\"form-check\">\n                  <label>\n                    <input @change=\"${this.updateStudentSelfReportInput}\" id=\"rbcs-config-studentSelfReport\" name=\"rbcs-config-studentSelfReport\" type=\"checkbox\" ?checked=${this.selectedConfigOptions.studentSelfReport} value=\"1\" ?disabled=${this.isAssociated != 1 || this.readOnly}>${this.studentSelfReport}\n                  </label>\n                  <div id=\"rbcs-multiple-options-config-studentSelfReportMode-container\" class=\"rubrics-list ${!this.selectedConfigOptions.studentSelfReport ? \"hidden\" : \"\"}\">\n                    <div class=\"rubric-options\">\n                      <div class=\"form-check\">\n                        <label>\n                          <input name=\"rbcs-multiple-options-config-studentSelfReportMode\" type=\"radio\" class=\"me-1\" value=\"0\" ?checked=${this.selectedConfigOptions.studentSelfReportMode == \"0\" || !this.selectedConfigOptions.studentSelfReportMode} ?disabled=${this.isAssociated != 1 || this.readOnly}>${this.studentSelfReportMode0}\n                        </label>\n                      </div>\n                      <div class=\"form-check\">\n                        <label>\n                          <input name=\"rbcs-multiple-options-config-studentSelfReportMode\" type=\"radio\" class=\"me-1\" value=\"1\" ?checked=${this.selectedConfigOptions.studentSelfReportMode == \"1\"} ?disabled=${this.isAssociated != 1 || this.readOnly}>${this.studentSelfReportMode1}\n                        </label>\n                      </div>\n                      <div class=\"form-check\">\n                        <label>\n                          <input name=\"rbcs-multiple-options-config-studentSelfReportMode\" type=\"radio\" class=\"me-1\" value=\"2\" ?checked=${this.selectedConfigOptions.studentSelfReportMode == \"2\"} ?disabled=${this.isAssociated != 1 || this.readOnly}>${this.studentSelfReportMode2}\n                        </label>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                ` : \"\"\n              }\n            </div>\n        `}\n        </div>\n        ` : \"\"}\n        ${this.showDynamic ? html`\n          <div class=\"radio\">\n            <label>\n              <input @click=\"${this.associate}\" id=\"do-associate-dynamic-radio\" name=\"rbcs-associate\" type=\"radio\" class=\"me-1\" value=\"2\" ?checked=${this.isAssociated == 2} ?disabled=${this.readOnly}>${this.associateLabelDyn}\n            </label>\n          </div>\n        ` : \"\"}\n      </div>\n    `;\n    //<button @click=\"${this._showRubric}\" class=\"btn btn-link\" data-bs-toggle=\"modal\" data-bs-target=\"#rubric-preview\" aria-controls=\"rubric-preview\" ?disabled=${!this.isAssociated}>\n  }\n\n  updateStudentSelfReportInput(e) {\n    if (this.isAssociated == 1) {\n      const showSelfReportMode = e.srcElement.checked;\n      document.getElementById(\"rbcs-multiple-options-config-studentSelfReportMode-container\").classList.toggle(\"hidden\", !showSelfReportMode);\n    }\n  }\n\n  firstUpdated() {\n    setTimeout(() => { // in order to ensure proper loading order with the tool\n      this.dispatchEvent(new CustomEvent(\"rubric-association-loaded\", {\n        bubbles: true,\n        composed: true\n      }));\n    }, 100);\n  }\n\n}\n", "import { SakaiRubricAssociation } from \"./src/SakaiRubricAssociation.js\";\n\ncustomElements.define(\"sakai-rubric-association\", SakaiRubricAssociation);\n", "import { RubricsElement } from \"./RubricsElement.js\";\nimport { html } from \"lit\";\nimport { rubricsApiMixin } from \"./SakaiRubricsApiMixin.js\";\n\nexport class SakaiRubricStudentPreviewButton extends rubricsApiMixin(RubricsElement) {\n\n  static properties = {\n\n    display: { type: String },\n    siteId: { attribute: \"site-id\", type: String },\n    toolId: { attribute: \"tool-id\", type: String },\n    entityId: { attribute: \"entity-id\", type: String },\n\n    _rubricId: { state: true },\n  };\n\n  constructor() {\n\n    super();\n\n    this.display = \"button\";\n  }\n\n  set siteId(value) {\n\n    this._siteId = value;\n    this.i18nLoaded.then(r => this.initLightbox(r, value));\n  }\n\n  get siteId() { return this._siteId; }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n\n    super.attributeChangedCallback(name, oldValue, newValue);\n\n    if (this.toolId && this.entityId) {\n      this._setRubricId();\n    }\n  }\n\n  shouldUpdate() {\n    return this._rubricId;\n  }\n\n  render() {\n\n    console.debug(\"SakaiRubricStudentPreviewButton.render\");\n\n    return html`\n      ${this.display === \"button\" ? html`\n        <h3>${this._i18n.grading_rubric}</h3>\n        <button type=\"button\" class=\"btn btn-link\" aria-haspopup=\"true\" @click=${this._showRubric}>${this._i18n.preview_rubric}</button>\n      ` : html`\n        <span class=\"si si-sakai-rubrics\" style=\"cursor: pointer;\" title=\"${this.tr(\"preview_rubric\")}\" @click=\"${this._showRubric}\"></span>\n      `}\n    `;\n  }\n\n  _setRubricId() {\n\n    this.apiGetAssociation()\n      .then(association => {\n\n        if (association && !association.parameters.hideStudentPreview && association.parameters[\"rbcs-associate\"] != 2) {\n          this._rubricId = association.rubricId;\n        }\n      })\n      .catch(error => console.error(error));\n  }\n\n  _showRubric(e) {\n\n    e.preventDefault();\n\n    this.showRubricLightbox(this._rubricId);\n    return false;\n  }\n}\n", "import { SakaiRubricStudentPreviewButton } from \"./src/SakaiRubricStudentPreviewButton.js\";\n\ncustomElements.define(\"sakai-rubric-student-preview-button\", SakaiRubricStudentPreviewButton);\n", "window.top.rubrics = window.top.rubrics || {};\nwindow.top.rubrics.utils = window.top.rubrics.utils || {\n\n  lightbox: null,\n  windowRef: window != window.top ? window.top : window,\n\n  initLightbox(i18n, siteId) {\n\n    const rubrics = window.top.rubrics;\n\n    if (this.lightbox) {\n      return;\n    }\n\n    const tpl = document.createElement(\"template\");\n\n    tpl.innerHTML = `\n      <div id=\"rubric-preview\" class=\"modal\" tabindex=\"-1\">\n        <div class=\"modal-dialog modal-lg\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\">Rubric Preview</h5>\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"${i18n.close_dialog}\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <sakai-rubric-student site-id=\"${siteId}\"></sakai-rubric-student>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n\n    document.body.prepend(tpl.content);\n\n    this.lightbox = this.windowRef.document.getElementById(\"rubric-preview\");\n  },\n\n  closeLightbox() {\n\n    const el = this.windowRef.document.querySelector(\"sakai-rubric-student\");\n\n    el.handleClose();\n\n    el.removeAttribute(\"rubric-id\");\n    el.removeAttribute(\"preview\");\n    el.removeAttribute(\"tool-id\");\n    el.removeAttribute(\"entity-id\");\n    el.removeAttribute(\"evaluated-item-id\");\n    el.removeAttribute(\"instructor\");\n    el.removeAttribute(\"evaluated-item-owner-id\");\n    el.removeAttribute(\"peer-or-self\");\n  },\n\n  showRubric(id, attributes, launchingElement) {\n\n    const rubrics = this.windowRef.rubrics;\n\n    const el = this.windowRef.document.querySelector(\"sakai-rubric-student\");\n\n    if (!attributes) {\n      el.setAttribute(\"rubric-id\", id);\n      el.setAttribute(\"preview\", \"\");\n      el.removeAttribute(\"tool-id\");\n      el.removeAttribute(\"entity-id\");\n      el.removeAttribute(\"evaluated-item-id\");\n      el.removeAttribute(\"instructor\");\n      el.removeAttribute(\"evaluated-item-owner-id\");\n      el.removeAttribute(\"peer-or-self\");\n    } else {\n      el.removeAttribute(\"rubric-id\");\n      if (attributes[\"force-preview\"]) {\n        el.setAttribute(\"force-preview\", \"\");\n      } else {\n        el.removeAttribute(\"force-preview\");\n      }\n      el.setAttribute(\"tool-id\", attributes[\"tool-id\"]);\n      el.setAttribute(\"entity-id\", attributes[\"entity-id\"]);\n      el.setAttribute(\"evaluated-item-id\", attributes[\"evaluated-item-id\"]);\n      el.setAttribute(\"instructor\", attributes.instructor);\n      el.setAttribute(\"evaluated-item-owner-id\", attributes[\"evaluated-item-owner-id\"]);\n      el.setAttribute(\"peer-or-self\", attributes[\"peer-or-self\"]);\n    }\n\n    bootstrap.Modal.getOrCreateInstance(this.lightbox).show();\n\n    this.lightbox.addEventListener(\"hidden.bs.modal\", () => this.closeLightbox());\n  }\n};\n", "window.emitLitDebugLogEvents = true;\nimport \"@sakai-ui/sakai-rubrics/sakai-rubric-student-button.js\";\nimport \"@sakai-ui/sakai-rubrics/sakai-rubric-student.js\";\nimport \"@sakai-ui/sakai-rubrics/sakai-rubric-grading.js\";\nimport \"@sakai-ui/sakai-rubrics/sakai-rubric-association.js\";\nimport \"@sakai-ui/sakai-rubrics/sakai-rubric-student-preview-button.js\";\nimport \"@sakai-ui/sakai-rubrics/sakai-rubrics-utils.js\";\n"],
  "mappings": "uWAIO,IAAMA,EAAN,cAAuCC,EAAgBC,CAAc,CAAE,CAE5E,OAAO,WAAa,CAElB,UAAW,CAAE,MAAO,EAAK,EACzB,OAAQ,CAAE,UAAW,UAAW,KAAM,MAAO,EAC7C,SAAU,CAAE,UAAW,YAAa,KAAM,MAAO,EACjD,OAAQ,CAAE,UAAW,UAAW,KAAM,MAAO,EAC7C,gBAAiB,CAAE,UAAW,oBAAqB,KAAM,MAAO,EAChE,qBAAsB,CAAE,UAAW,0BAA2B,KAAM,MAAO,EAC3E,aAAc,CAAE,UAAW,gBAAiB,KAAM,OAAQ,EAC1D,WAAY,CAAE,KAAM,OAAQ,CAC9B,EAEA,aAAc,CAEZ,MAAM,EAEN,KAAK,aAAe,EACtB,CAEA,IAAI,OAAOC,EAAO,CAEhB,KAAK,QAAUA,EACf,KAAK,WAAW,KAAKC,GAAK,KAAK,aAAaA,EAAGD,CAAK,CAAC,CACvD,CAEA,IAAI,QAAS,CAAE,OAAO,KAAK,OAAS,CAEpC,yBAAyBE,EAAMC,EAAUC,EAAU,CAEjD,MAAM,yBAAyBF,EAAMC,EAAUC,CAAQ,EAEnD,KAAK,QAAU,KAAK,UACtB,KAAK,aAAa,CAEtB,CAEA,cAAe,CACb,OAAO,KAAK,SACd,CAEA,QAAS,CAEP,OAAOC;AAAA,kBACO,KAAK,UAAU,+BAA+B,KAAK,MAAM,cAAc;AAAA;AAAA;AAAA,KAIvF,CAEA,cAAe,CAEb,KAAK,kBAAkB,EACpB,KAAKC,GAAe,CAEfA,GAAe,CAACA,EAAY,WAAW,qBACzC,KAAK,UAAYA,EAAY,SAEjC,CAAC,EACF,MAAMC,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACtC,CAEA,YAAa,CAEP,KAAK,aACP,KAAK,mBAAmB,KAAK,SAAS,EAEtC,KAAK,mBAAmB,KAAK,UAAW,CAAE,UAAW,KAAK,OAAQ,YAAa,KAAK,SAAU,oBAAqB,KAAK,gBAAiB,0BAA2B,KAAK,oBAAqB,CAAC,CAEnM,CAEA,mBAAoB,CAElB,IAAIC,EAAM,cAAc,KAAK,MAAM,6BAA6B,KAAK,MAAM,UAAU,KAAK,QAAQ,gBAAgB,KAAK,eAAe,GACtI,OAAO,MAAMA,EAAK,CAAE,YAAa,SAAU,CAAC,EAC3C,KAAKP,GAAK,CAET,GAAIA,EAAE,SAAW,IACf,OAAOA,EAAE,KAAK,EAGhB,GAAIA,EAAE,SAAW,IACf,MAAM,IAAI,MAAM,6CAA6CO,CAAG,EAAE,EAGpE,OAAO,IACT,CAAC,EACA,KAAK,MAAMC,GAAQ,CAElB,IAAMC,EAAaD,EAAK,UAAU,YAAY,CAAC,EAC3CC,IACFA,EAAW,OAAS,EACpBF,EAAM,cAAc,KAAK,MAAM,uBAAuBE,EAAW,EAAE,GACnE,MAAM,MAAMF,EAAK,CACf,KAAM,KAAK,UAAUE,CAAU,EAC/B,YAAa,UACb,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,OAAQ,OACV,CAAC,EACA,KAAKT,GAAK,CAET,GAAI,CAACA,EAAE,GACL,MAAM,IAAI,MAAM,8BAA8B,CAElD,CAAC,EAEL,CAAC,EACA,MAAOM,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACvC,CACF,EChHA,eAAe,OAAO,8BAA+BI,CAAwB,ECEtE,IAAMC,EAAN,cAA0CC,CAAe,CAE9D,OAAO,WAAa,CAElB,SAAU,CAAE,KAAM,KAAM,EACxB,SAAU,CAAE,KAAM,OAAQ,CAC5B,EAEA,cAAe,CACb,OAAO,KAAK,UAAY,MAAM,aAAa,CAC7C,CAEA,QAAS,CAEP,OAAOC;AAAA;AAAA,UAED,KAAK,UAAY,KAAK,SAAS,IAAIC,GAAKD;AAAA,YACtC,KAAK,iBAAiBC,CAAC,EAAID;AAAA,qCACFC,EAAE,EAAE;AAAA;AAAA,8CAEKA,EAAE,KAAK;AAAA,qBAChCC,EAAWD,EAAE,WAAW,CAAC;AAAA;AAAA;AAAA,YAGhCD;AAAA,qCACuBC,EAAE,EAAE;AAAA;AAAA,8CAEKA,EAAE,KAAK;AAAA,qBAChCC,EAAWD,EAAE,WAAW,CAAC;AAAA,kBAC5B,KAAK,SAAWD;AAAA;AAAA,4BAEN,KAAK,MAAM,MAAM;AAAA,4BACjBC,EAAE,OAAO,eAAe,KAAK,MAAM,CAAC;AAAA,4BACpC,KAAK,MAAM,YAAY;AAAA;AAAA,kBAE/BE,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKRF,EAAE,QAAQ,IAAIG,GAAKJ;AAAA,+DACwBI,EAAE,EAAE;AAAA,yDACVA,EAAE,KAAK;AAAA;AAAA,6BAEnCA,EAAE,WAAW;AAAA;AAAA;AAAA,0BAGhB,KAAK,UAAYA,EAAE,OAAS,EAAIJ;AAAA;AAAA,iCAEzB,YAAYI,EAAE,QAAUH,EAAE,OAAS,MAAM,QAAQ,CAAC,CAAC,EAAE,eAAe,KAAK,MAAM,CAAC;AAAA,kCAEvFE,CAAQ;AAAA,0BACRC,EAAE,OAAO,eAAe,KAAK,MAAM,CAAC;AAAA,0BACpC,KAAK,MAAM,MAAM;AAAA;AAAA;AAAA,mBAGxB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,WAKT;AAAA,SACF,CAAC;AAAA;AAAA,KAGR,CACF,ECpEA,CAAC,eAAe,IAAI,gCAAgC,GAAK,eAAe,OAAO,iCAAkCC,CAA2B,ECGrI,IAAMC,EAAN,cAAwCC,CAAe,CAE5D,OAAO,WAAa,CAAE,UAAW,CAAE,KAAM,MAAO,CAAE,EAElD,IAAI,UAAUC,EAAO,CAEnB,IAAMC,EAAW,KAAK,WACtB,KAAK,WAAaD,EAClB,KAAK,WAAW,SAAWA,EAAM,UAAYA,EAAM,SAAS,QAAQ,MAAM,IAAM,EAAI,GAAKA,EAAM,SAE/F,KAAK,UAAY,qBAAqBA,EAAM,EAAE,WAAW,KAAK,MAAM,KAAK,OAAO,EAAI,GAAK,EAAE,CAAC,GAE5F,KAAK,cAAc,YAAaC,CAAQ,CAC1C,CAEA,IAAI,WAAY,CACd,OAAO,KAAK,UACd,CAEA,aAAc,CACZ,KAAK,YAAY,CACnB,CAEA,cAAe,CACb,OAAO,KAAK,KACd,CAEA,aAAc,CACZ,UAAU,SAAS,oBAAoB,KAAK,cAAc,gBAAgB,CAAC,GAAG,KAAK,CACrF,CAEA,QAAS,CAEP,OAAOC;AAAA,kCACuBC,EAAU,KAAK,SAAS,CAAC;AAAA,6CACd,KAAK,UAAU,SAAW,GAAK,UAAU;AAAA;AAAA;AAAA;AAAA,0BAI5D,KAAK,MAAM,yBAAyB;AAAA;AAAA,gCAE9B,KAAK,UAAU,SAAW,QAAU,EAAE,IAAI,KAAK,UAAU,SAAW,SAAW,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,kEAK/C,KAAK,GAAG,wBAAyB,CAAE,KAAK,UAAU,KAAM,CAAC,CAAC;AAAA,mBACzGC,EAAW,KAAK,UAAU,QAAQ,CAAC;AAAA;AAAA,mEAEa,KAAK,WAAW,IAAI,KAAK,MAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,KAMpG,CACF,EC3DA,eAAe,OAAO,+BAAgCC,CAAyB,ECIxE,IAAMC,EAAN,cAA0CC,CAAe,CAE9D,OAAO,WAAa,CAElB,SAAU,CAAE,KAAM,KAAM,EACxB,YAAa,OACb,YAAa,CAAE,KAAM,MAAO,EAC5B,SAAU,CAAE,KAAM,KAAM,EACxB,QAAS,QACT,SAAU,CAAE,UAAW,YAAa,KAAM,MAAO,EACjD,SAAU,OACZ,EAEA,IAAI,SAASC,EAAU,CAErB,IAAMC,EAAW,KAAK,UAEtB,KAAK,UAAYD,EACjB,KAAK,SAAS,QAAQE,GAAK,CAEpBA,EAAE,gBACLA,EAAE,cAAgB,GAEpBA,EAAE,WAAa,KAAK,WAAWA,EAAE,OAAO,CAC1C,CAAC,EAEG,KAAK,UACP,KAAK,eAAe,EAGtB,KAAK,cAAc,WAAYD,CAAQ,CACzC,CAEA,IAAI,UAAW,CAAE,OAAO,KAAK,SAAW,CAExC,IAAI,SAAW,CAAE,OAAO,KAAK,aAAe,KAAK,YAAY,YAAc,KAAK,YAAY,WAAW,gBAAgB,IAAM,CAAG,CAEhI,IAAI,SAASD,EAAU,CAErB,IAAMC,EAAW,KAAK,UAEtB,KAAK,UAAYD,EAEb,KAAK,UACP,KAAK,eAAe,EAGtB,KAAK,cAAc,WAAYC,CAAQ,CACzC,CAEA,IAAI,UAAW,CAAE,OAAO,KAAK,SAAW,CAExC,aAAc,CACZ,KAAK,iBAAiB,8BAA8B,EAAE,QAAQE,GAAMA,EAAG,YAAY,CAAC,CACtF,CAEA,cAAe,CACb,OAAO,KAAK,aAAe,KAAK,UAAY,MAAM,aAAa,CACjE,CAEA,QAAS,CAEP,OAAOC;AAAA;AAAA,UAED,KAAK,SAAS,IAAIF,GAAKE;AAAA,YACrB,KAAK,iBAAiBF,CAAC,EAAIE;AAAA,qCACFF,EAAE,EAAE;AAAA;AAAA,8CAEKA,EAAE,KAAK;AAAA,qBAChCG,EAAWH,EAAE,WAAW,CAAC;AAAA;AAAA;AAAA,YAGhCE;AAAA,qCACuBF,EAAE,EAAE;AAAA;AAAA,8CAEKA,EAAE,KAAK;AAAA,qBAChCG,EAAWH,EAAE,WAAW,CAAC;AAAA;AAAA,gBAE9B,KAAK,SAAWE;AAAA;AAAA,0BAEN,KAAK,MAAM,MAAM;AAAA,0BACjBF,EAAE,OAAO,eAAe,KAAK,MAAM,CAAC;AAAA,0BACpC,KAAK,MAAM,YAAY;AAAA;AAAA,gBAE/BI,CAAQ;AAAA;AAAA;AAAA;AAAA,oBAINC,EAAOL,EAAE,QAASM,GAAKA,EAAE,GAAIA,GAAKJ;AAAA,sDACAI,EAAE,SAAW,WAAa,EAAE,qBAAqBA,EAAE,EAAE;AAAA,wBAClF,KAAK,QAEJF,EAFcF;AAAA,2DACmBI,EAAE,KAAK;AAAA,uBAChC;AAAA,2BACPA,EAAE,WAAW;AAAA;AAAA,0BAEd,KAAK,UAAYA,EAAE,OAAS,EAAIJ;AAAA;AAAA,iCAEzB,YAAYI,EAAE,QAAUN,EAAE,OAAS,MAAM,QAAQ,CAAC,CAAC,EAAE,eAAe,KAAK,MAAM,CAAC;AAAA;AAAA,0BAErFI,CAAQ;AAAA,0BACVE,EAAE,OAAO,eAAe,KAAK,MAAM,CAAC;AAAA,0BACpC,KAAK,MAAM,MAAM;AAAA;AAAA;AAAA,mBAGxB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,gBAKH,KAAK,QAUJF,EAVcF;AAAA,kBACb,KAAK,QAEJE,EAFcF;AAAA,6DAC2BF,CAAC;AAAA,iBAClC;AAAA,gDACoB,KAAK,mBAAmBA,EAAE,cAAeA,EAAE,aAAa,CAAC;AAAA,oBACrFA,EAAE,iBAAmBA,EAAE,cAAc,eAAe,KAAK,MAAM,EAAI,GAAG;AAAA;AAAA,kBAExE,KAAK,aAAaA,EAAE,cAAeA,EAAE,aAAa,EAClDE,mCAAsCF,EAAE,cAAc,eAAe,KAAK,MAAM,CAAC,YAC/EI,CAAQ;AAAA,eACF;AAAA;AAAA;AAAA,WAGf;AAAA,SACF,CAAC;AAAA;AAAA,QAEF,CAAC,KAAK,SAAW,CAAC,KAAK,QAAUF;AAAA;AAAA,0CAEC,KAAK,MAAM,KAAK,oBAAoB,KAAK,YAAY,eAAe,KAAK,OAAQ,CAAE,sBAAsB,CAAE,CAAC,CAAC;AAAA;AAAA,QAE7IE,CAAQ;AAAA,KAEhB,CAEA,gBAAiB,CAEf,KAAK,SAAS,QAAQG,GAAW,CAE/B,KAAK,SAAS,QAAQP,GAAK,CAEzB,GAAIO,EAAQ,cAAgBP,EAAE,GAAI,CAEhC,IAAIQ,EAAqB,KACzBR,EAAE,QAAQ,QAAQM,GAAK,CACjBA,EAAE,IAAMC,EAAQ,kBAClBD,EAAE,SAAW,GACbE,EAAqBF,GAErBA,EAAE,SAAW,EAEjB,CAAC,EAEDN,EAAE,iBAAmBO,EAAQ,iBACzBA,EAAQ,gBACVP,EAAE,cAAgBO,EAAQ,OAC1BP,EAAE,cAAgBQ,GAAsB,KAAOA,EAAmB,OAAS,IAE3ER,EAAE,cAAgB,GAClBA,EAAE,cAAgBO,EAAQ,QAG5BP,EAAE,SAAWO,EAAQ,SACjBP,EAAE,WAAa,cAEjBA,EAAE,SAAW,GAEjB,CACF,CAAC,CACH,CAAC,EAED,KAAK,kBAAkB,CACzB,CAEA,aAAaS,EAAeC,EAAU,CAEpC,OAAK,KAAK,YAAY,WAAW,eAI5B,IAAAD,GAAiBA,IAAkB,IAAO,WAAWA,CAAa,IAAM,WAAWC,CAAQ,GAHvF,EAQX,CAEA,mBAAoB,CAElB,KAAK,YAAc,KAAK,SAAS,OAAO,CAACC,EAAGX,IAEtCA,EAAE,cACGW,EAAI,WAAWX,EAAE,aAAa,EAC5BA,EAAE,cACJW,EAAI,WAAWX,EAAE,aAAa,EAEhCW,EAEN,CAAC,EAEJ,KAAK,MAAQ,EACf,CAEA,mBAAmBC,EAAQF,EAAU,CAEnC,OAAK,KAAK,YAAY,WAAW,iBAI5BE,GAAUA,IAAW,IAAO,WAAWA,CAAM,IAAM,WAAWF,CAAQ,EAClE,SAJA,EAOX,CACF,ECxNA,eAAe,OAAO,iCAAkCG,CAA2B,ECK5E,IAAMC,EAAN,cAAiCC,EAAgBC,CAAc,CAAE,CAEtE,OAAO,WAAa,CAElB,SAAU,CAAE,UAAW,YAAa,KAAM,MAAO,EACjD,OAAQ,CAAE,UAAW,UAAW,KAAM,MAAO,EAC7C,OAAQ,CAAE,UAAW,UAAW,KAAM,MAAO,EAC7C,QAAS,CAAE,KAAM,OAAQ,EACzB,WAAY,CAAE,KAAM,MAAO,EAC3B,gBAAiB,CAAE,UAAW,oBAAqB,KAAM,MAAO,EAChE,qBAAsB,CAAE,UAAW,0BAA2B,KAAM,MAAO,EAC3E,SAAU,CAAE,UAAW,YAAa,KAAM,MAAO,EACjD,aAAc,CAAE,UAAW,gBAAiB,KAAM,OAAQ,EAC1D,gBAAiB,CAAE,UAAW,oBAAqB,KAAM,MAAO,EAChE,aAAc,CAAE,UAAW,kBAAmB,KAAM,OAAQ,EAE5D,QAAS,CAAE,MAAO,EAAK,CACzB,EAEA,aAAc,CAEZ,MAAM,EAEN,KAAK,sBAAwB,CAAE,UAAW,YAAa,SAAU,EAEjE,KAAK,QAAU,CAAC,EAChB,KAAK,aAAe,KAAK,MAAM,KAAK,OAAO,EAAI,KAAK,IAAI,CAAC,CAC3D,CAEA,IAAI,SAAW,CAAE,OAAO,KAAK,SAAW,KAAK,QAAQ,gBAAgB,IAAM,CAAG,CAE9E,yBAAyBC,EAAMC,EAAUC,EAAU,CAEjD,MAAM,yBAAyBF,EAAMC,EAAUC,CAAQ,GAElDF,IAAS,aAAe,KAAK,QAAYA,IAAS,WAAa,KAAK,WACvE,KAAK,MAAM,EAGT,KAAK,sBAAsB,SAASA,CAAI,GAC1C,KAAK,WAAW,EAIdA,IAAS,aAAe,CAACE,IAC3B,KAAK,QAAU,OAEnB,CAEA,aAAc,CAEZ,IAAMC,EAAK,KAAK,cAAc,gCAAgC,EAC9DA,GAAMA,EAAG,YAAY,CACvB,CAEA,cAAe,CACb,OAAO,KAAK,QAAU,KAAK,YAAc,KAAK,UAAY,KAAK,YAAc,CAAC,KAAK,QAAQ,oBAAsB,KAAK,QAAQ,gBAAgB,GAAK,EACrJ,CAEA,QAAS,CAEP,QAAQ,MAAM,2BAA2B,EACzC,IAAMC,EAAe,KAAK,YAAc,KAAK,aAAe,OAE5D,OAAOC;AAAA;AAAA,UAEA,KAAK,QAcJC,EAdcD;AAAA;AAAA,oBAEN,KAAK,QAAQ,KAAK;AAAA,cACxB,KAAK,gBAAkBA;AAAA;AAAA,6BAER,KAAK,MAAM;AAAA,kCACN,KAAK,QAAQ,KAAK;AAAA,+BACrB,KAAK,QAAQ,EAAE;AAAA,6BACjB,KAAK,MAAM;AAAA,+BACT,KAAK,QAAQ;AAAA,uCACL,KAAK,eAAe;AAAA;AAAA,cAE3CC,CAAQ;AAAA;AAAA,SAEJ;AAAA;AAAA,UAEVF,EAAeC;AAAA;AAAA;AAAA,8CAGqB,KAAK,YAAY;AAAA;AAAA,0BAErC,KAAK,mBAAmB;AAAA,uBAC3B,KAAK,mBAAmB;AAAA,cACjC,KAAK,MAAM,cAAc;AAAA;AAAA;AAAA,2CAGI,KAAK,YAAY;AAAA;AAAA,0BAElC,KAAK,kBAAkB;AAAA,uBAC1B,KAAK,kBAAkB;AAAA,cAChC,KAAK,MAAM,eAAe;AAAA;AAAA;AAAA,4CAGI,KAAK,YAAY;AAAA;AAAA,0BAEnC,KAAK,mBAAmB;AAAA,uBAC3B,KAAK,mBAAmB;AAAA,cACjC,KAAK,MAAM,gBAAgB;AAAA;AAAA;AAAA,UAG7BC,CAAQ;AAAA;AAAA,6CAEyB,KAAK,YAAY;AAAA,YAClD,KAAK,SAAW,KAAK,aAAeD;AAAA,sDACM,KAAK,QAAQ,QAAQ;AAAA,wBACnD,KAAK,QAAQ,QAAQ;AAAA;AAAA,YAE/BA;AAAA;AAAA,wBAEU,KAAK,QAAQ,QAAQ;AAAA,2BAClB,KAAK,WAAW;AAAA,wBACnB,KAAK,WAAW,iBAAiB;AAAA,uBAClC,KAAK,OAAO;AAAA,yBACV,KAAK,QAAQ;AAAA,wBACd,KAAK,QAAQ,QAAQ;AAAA;AAAA,WAElC;AAAA;AAAA,0CAE+B,KAAK,YAAY;AAAA,2CAChB,KAAK,YAAY;AAAA;AAAA,KAG1D,CAEA,YAAa,CAEX,GAAI,CAAC,KAAK,QAAU,CAAC,KAAK,UAAY,CAAC,KAAK,QAAS,OAErD,IAAME,EAAM,cAAc,KAAK,MAAM,YAAY,KAAK,QAAQ,GAC9D,MAAMA,EAAK,CAAE,YAAa,UAAW,QAAS,CAAE,eAAgB,kBAAmB,CAAE,CAAC,EACrF,KAAKC,GAAK,CAET,GAAIA,EAAE,GACJ,OAAOA,EAAE,KAAK,EAEhB,MAAM,IAAI,MAAM,yCAAyCD,CAAG,EAAE,CAChE,CAAC,EACA,KAAKE,GAAU,KAAK,QAAUA,CAAM,EACpC,MAAOC,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACvC,CAEA,OAAQ,CAEN,QAAQ,MAAM,yBAAyB,EAGvC,KAAK,kBAAkB,EACpB,KAAKC,GAAe,CAEnB,GAAIA,EAAa,CACf,KAAK,YAAcA,EACnB,KAAK,QAAUA,EAAY,WAC3B,IAAMC,EAAWD,EAAY,SAGvBE,EAAY,cAAcF,EAAY,MAAM,YAAYC,CAAQ,GACtE,MAAMC,EAAW,CACf,YAAa,UACb,QAAS,CAAE,eAAgB,kBAAmB,CAChD,CAAC,EACA,KAAKL,GAAK,CAET,GAAIA,EAAE,GACJ,OAAOA,EAAE,KAAK,EAEhB,MAAM,IAAI,MAAM,mCAAmC,CACrD,CAAC,EACA,KAAKC,GAAU,CAEd,GAAI,KAAK,gBAAiB,CAExB,IAAIK,EAAU,cAAcH,EAAY,MAAM,6BAA6B,KAAK,MAAM,UAAU,KAAK,QAAQ,gBAAgB,KAAK,eAAe,WAAW,KAAK,oBAAoB,GACjL,KAAK,eAEPG,GAAW,gBAEb,MAAMA,EAAS,CACb,YAAa,UACb,QAAS,CAAE,eAAgB,kBAAmB,CAChD,CAAC,EACA,KAAKN,GAAK,CAET,GAAIA,EAAE,SAAW,IACf,OAAOA,EAAE,KAAK,EAGhB,GAAIA,EAAE,SAAW,IACf,MAAM,IAAI,MAAM,6CAA6CM,CAAO,EAAE,EAGxE,OAAO,IACT,CAAC,EACA,KAAKC,GAAc,CAEdA,GACF,KAAK,WAAaA,EAClB,KAAK,QAAU,KAEf,KAAK,WAAa,CAAE,kBAAmB,CAAC,CAAE,EAC1C,KAAK,QAAU,IAIjB,KAAK,QAAUN,CACjB,CAAC,EACA,MAAOC,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACvC,MACE,KAAK,WAAa,CAAE,kBAAmB,CAAC,CAAE,EAC1C,KAAK,QAAU,GACf,KAAK,QAAUD,CAEnB,CAAC,EACA,MAAOC,GAAS,QAAQ,MAAMA,CAAK,CAAC,EAEjC,KAAK,QAAQ,oBAAsB,OACrC,KAAK,QAAQ,mBAAqB,GAEtC,CACF,CAAC,EACA,MAAOA,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACzC,CAEA,oBAAoBM,EAAG,CAErBA,EAAE,gBAAgB,EAClB,KAAK,eAAe,6BAA6B,KAAK,YAAY,EAAE,CACtE,CAEA,mBAAmBA,EAAG,CAEpBA,EAAE,gBAAgB,EAClB,KAAK,aAAa,UAAW,KAAK,MAAM,CAC1C,CAEA,oBAAoBA,EAAG,CAErBA,EAAE,gBAAgB,EAClB,KAAK,aAAa,WAAY,KAAK,MAAM,CAC3C,CACF,EC1PA,CAAC,eAAe,IAAI,sBAAsB,GAAK,eAAe,OAAO,uBAAwBC,CAAkB,ECExG,IAAMC,EAAN,cAAqCC,CAAe,CAEzD,OAAO,WAAa,CAElB,YAAa,CAAE,KAAM,MAAO,EAC5B,cAAe,CAAE,UAAW,iBAAkB,KAAM,MAAO,EAC3D,aAAc,OACd,SAAU,CAAE,UAAW,YAAa,KAAM,MAAO,EACjD,OAAQ,CAAE,UAAW,UAAW,KAAM,MAAO,EAC7C,OAAQ,CAAE,UAAW,UAAW,KAAM,MAAO,EAC7C,mBAAoB,CAAE,UAAW,uBAAwB,KAAM,MAAO,EACtE,eAAgB,CAAE,UAAW,kBAAmB,KAAM,MAAO,EAC7D,kBAAmB,CAAE,UAAW,sBAAuB,KAAM,MAAO,EACpE,eAAgB,CAAE,UAAW,mBAAoB,KAAM,MAAO,EAC9D,mBAAoB,CAAE,UAAW,uBAAwB,KAAM,MAAO,EACtE,SAAU,CAAE,UAAW,YAAa,KAAM,OAAQ,EAClD,kBAAmB,CAAE,UAAW,sBAAuB,KAAM,MAAO,EACpE,uBAAwB,CAAE,UAAW,6BAA8B,KAAM,MAAO,EAChF,uBAAwB,CAAE,UAAW,6BAA8B,KAAM,MAAO,EAChF,uBAAwB,CAAE,UAAW,6BAA8B,KAAM,MAAO,EAChF,oBAAqB,CAAE,UAAW,yBAA0B,KAAM,OAAQ,EAC1E,YAAa,CAAE,UAAW,eAAgB,KAAM,OAAQ,EAExD,kBAAmB,CAAE,MAAO,EAAK,EACjC,SAAU,CAAE,MAAO,EAAK,CAC1B,EAEA,aAAc,CAEZ,MAAM,EAEN,KAAK,sBAAwB,CAAC,EAE9B,KAAK,aAAe,CACtB,CAEA,mBAAoB,CAElB,MAAM,kBAAkB,EAEpB,KAAK,SACP,KAAK,WAAW,KAAKC,GAAK,KAAK,aAAaA,EAAG,KAAK,MAAM,CAAC,EAC3D,KAAK,YAAY,GAGf,CAAC,KAAK,aAAe,KAAK,UAAY,KAAK,QAC7C,KAAK,gBAAgB,CAEzB,CAEA,IAAI,YAAYC,EAAO,CAErB,KAAK,aAAeA,EACpB,KAAK,kBAAoBA,EAAM,SAC/B,KAAK,sBAAwBA,EAAM,WAAaA,EAAM,WAAa,CAAC,EACpE,KAAK,aAAe,EAChB,KAAK,sBAAsB,gBAAgB,GAAK,IAClD,KAAK,aAAe,EACpB,KAAK,sBAAwB,CAAC,GAEhC,KAAK,YAAY,CACnB,CAEA,IAAI,aAAc,CAAE,OAAO,KAAK,YAAc,CAE9C,sBAAsBC,EAAG,CAElBA,EAAE,OAAO,SACP,QAAQ,KAAK,MAAM,qBAAqB,GAC3CA,EAAE,eAAe,CAGvB,CAEA,iBAAkB,CAEhB,IAAIC,EAAM,cAAc,KAAK,MAAM,8BAA8B,KAAK,MAAM,GACxE,KAAK,WAAUA,GAAO,UAAU,KAAK,QAAQ,IAEjD,MAAMA,EAAK,CACT,YAAa,UACb,QAAS,CAAE,eAAgB,kBAAmB,CAChD,CAAC,EACA,KAAKH,GAAK,CAET,GAAIA,EAAE,GACJ,OAAIA,EAAE,SAAW,IACR,CAAC,EAEHA,EAAE,KAAK,EAGhB,MAAIA,EAAE,SAAW,MACf,KAAK,MAAM,QAAU,QAGjB,IAAI,MAAM,yCAAyC,CAC3D,CAAC,EACA,KAAKI,GAAS,CAEb,KAAK,YAAcA,EACf,KAAK,aAAa,SACpB,KAAK,kBAAoB,KAAK,YAAY,SAE1C,KAAK,aAAe,EAEtB,KAAK,YAAY,CACnB,CAAC,EACA,MAAOC,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACvC,CAEA,aAAc,CAEZ,IAAMF,EAAM,cAAc,KAAK,MAAM,2BACrC,MAAMA,EAAK,CACT,YAAa,UACb,QAAS,CAAE,eAAgB,kBAAmB,CAChD,CAAC,EACA,KAAKH,GAAK,CAET,GAAIA,EAAE,GACJ,OAAIA,EAAE,SAAW,IACR,CAAC,EAEHA,EAAE,KAAK,EAGhB,MAAM,IAAI,MAAM,wCAAwC,CAC1D,CAAC,EACA,KAAKM,GAAQ,KAAK,eAAeA,CAAI,CAAC,EACtC,MAAOD,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACvC,CAEA,eAAeC,EAAM,CAEnB,KAAK,SAAWA,EAAK,MAAM,EAAE,OAAOC,GAAU,CAACA,EAAO,KAAK,EAEvD,KAAK,SAAS,QAAU,KAAK,cAAgB,IAE/C,KAAK,kBAAoB,KAAK,SAAS,CAAC,EAAE,GAE9C,CAEA,gBAAgBL,EAAG,CACjB,KAAK,kBAAoBA,EAAE,OAAO,KACpC,CAEA,YAAYA,EAAG,CAEbA,EAAE,eAAe,EACjBA,EAAE,gBAAgB,EAEd,KAAK,cAAgB,GACvB,KAAK,mBAAmB,KAAK,iBAAiB,CAElD,CAEA,WAAWA,EAAG,CACZ,KAAK,aAAeA,EAAE,OAAO,KAC/B,CAEA,cAAe,CACb,OAAO,MAAM,aAAa,GAAK,KAAK,WAAa,KAAK,SAAS,OAAS,GAAK,KAAK,YACpF,CAEA,QAAS,CAEP,eAAQ,MAAM,iCAAiC,EAExCM;AAAA,YACC,KAAK,MAAM,cAAc;AAAA,4CACO,KAAK,MAAM,qBAAqB;AAAA;AAAA,UAElE,KAAK,SAAWC,EAAUD;AAAA;AAAA;AAAA;AAAA,4BAIR,KAAK,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,4BAKf,KAAK,kBAAkB;AAAA,6BACtB,CAAC,KAAK,YAAY;AAAA,8BACjB,KAAK,QAAQ,IAAI,KAAK,kBAAkB;AAAA;AAAA;AAAA,SAG7D;AAAA,UACC,KAAK,SAAS,OAAS,GAAK,CAAC,KAAK,SAAWA;AAAA;AAAA;AAAA,+BAGxB,KAAK,UAAU,gGAAgG,KAAK,cAAgB,CAAC,cAAc,KAAK,QAAQ,IAAI,KAAK,cAAc;AAAA;AAAA;AAAA,UAG1M,EAAE;AAAA,UACJ,KAAK,SAAS,OAAS,EAAIA;AAAA;AAAA;AAAA;AAAA,+BAIN,KAAK,eAAe;AAAA;AAAA,8BAErB,KAAK,MAAM,qBAAqB;AAAA;AAAA,4BAElC,KAAK,cAAgB,GAAK,KAAK,QAAQ;AAAA,gBACnD,KAAK,SAAS,IAAIR,GAAKQ;AAAA,+BACRR,EAAE,EAAE,eAAeA,EAAE,KAAO,KAAK,iBAAiB;AAAA,kBAC/DA,EAAE,KAAK,IAAIA,EAAE,UAAY,IAAIA,EAAE,SAAS,IAAI,KAAK,MAAM,MAAM,IAAM,EAAE;AAAA;AAAA,eAExE,CAAC;AAAA;AAAA;AAAA,4CAG4B,KAAK,WAAW,oCAAoC,KAAK,cAAgB,CAAC;AAAA,gBACtG,KAAK,MAAM,cAAc;AAAA;AAAA;AAAA;AAAA,YAI7B,KAAK,SAAW,GAAKQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAOF,KAAK,qBAAqB;AAAA,iCACxB,KAAK,sBAAsB,cAAc;AAAA;AAAA,kCAExC,KAAK,cAAgB,GAAK,KAAK,QAAQ,IAAI,KAAK,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA,uGAKO,KAAK,sBAAsB,kBAAkB,wBAAwB,KAAK,cAAgB,GAAK,KAAK,QAAQ,IAAI,KAAK,kBAAkB;AAAA;AAAA;AAAA,gBAG9N,KAAK,oBAAsBA;AAAA;AAAA;AAAA,sCAGL,KAAK,4BAA4B,sGAAsG,KAAK,sBAAsB,iBAAiB,wBAAwB,KAAK,cAAgB,GAAK,KAAK,QAAQ,IAAI,KAAK,iBAAiB;AAAA;AAAA,+GAElM,KAAK,sBAAsB,kBAA+B,GAAX,QAAa;AAAA;AAAA;AAAA;AAAA,0IAIlC,KAAK,sBAAsB,uBAAyB,KAAO,CAAC,KAAK,sBAAsB,qBAAqB,cAAc,KAAK,cAAgB,GAAK,KAAK,QAAQ,IAAI,KAAK,sBAAsB;AAAA;AAAA;AAAA;AAAA;AAAA,0IAKhM,KAAK,sBAAsB,uBAAyB,GAAG,cAAc,KAAK,cAAgB,GAAK,KAAK,QAAQ,IAAI,KAAK,sBAAsB;AAAA;AAAA;AAAA;AAAA;AAAA,0IAK3I,KAAK,sBAAsB,uBAAyB,GAAG,cAAc,KAAK,cAAgB,GAAK,KAAK,QAAQ,IAAI,KAAK,sBAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMjQ,EACN;AAAA;AAAA,SAEL;AAAA;AAAA,UAEG,EAAE;AAAA,UACJ,KAAK,YAAcA;AAAA;AAAA;AAAA,+BAGE,KAAK,SAAS,wGAAwG,KAAK,cAAgB,CAAC,cAAc,KAAK,QAAQ,IAAI,KAAK,iBAAiB;AAAA;AAAA;AAAA,UAGpN,EAAE;AAAA;AAAA,KAIZ,CAEA,6BAA6BN,EAAG,CAC9B,GAAI,KAAK,cAAgB,EAAG,CAC1B,IAAMQ,EAAqBR,EAAE,WAAW,QACxC,SAAS,eAAe,8DAA8D,EAAE,UAAU,OAAO,SAAU,CAACQ,CAAkB,CACxI,CACF,CAEA,cAAe,CACb,WAAW,IAAM,CACf,KAAK,cAAc,IAAI,YAAY,4BAA6B,CAC9D,QAAS,GACT,SAAU,EACZ,CAAC,CAAC,CACJ,EAAG,GAAG,CACR,CAEF,ECvSA,eAAe,OAAO,2BAA4BC,CAAsB,ECEjE,IAAMC,EAAN,cAA8CC,EAAgBC,CAAc,CAAE,CAEnF,OAAO,WAAa,CAElB,QAAS,CAAE,KAAM,MAAO,EACxB,OAAQ,CAAE,UAAW,UAAW,KAAM,MAAO,EAC7C,OAAQ,CAAE,UAAW,UAAW,KAAM,MAAO,EAC7C,SAAU,CAAE,UAAW,YAAa,KAAM,MAAO,EAEjD,UAAW,CAAE,MAAO,EAAK,CAC3B,EAEA,aAAc,CAEZ,MAAM,EAEN,KAAK,QAAU,QACjB,CAEA,IAAI,OAAOC,EAAO,CAEhB,KAAK,QAAUA,EACf,KAAK,WAAW,KAAKC,GAAK,KAAK,aAAaA,EAAGD,CAAK,CAAC,CACvD,CAEA,IAAI,QAAS,CAAE,OAAO,KAAK,OAAS,CAEpC,yBAAyBE,EAAMC,EAAUC,EAAU,CAEjD,MAAM,yBAAyBF,EAAMC,EAAUC,CAAQ,EAEnD,KAAK,QAAU,KAAK,UACtB,KAAK,aAAa,CAEtB,CAEA,cAAe,CACb,OAAO,KAAK,SACd,CAEA,QAAS,CAEP,eAAQ,MAAM,wCAAwC,EAE/CC;AAAA,QACH,KAAK,UAAY,SAAWA;AAAA,cACtB,KAAK,MAAM,cAAc;AAAA,iFAC0C,KAAK,WAAW,IAAI,KAAK,MAAM,cAAc;AAAA,QACpHA;AAAA,4EACkE,KAAK,GAAG,gBAAgB,CAAC,aAAa,KAAK,WAAW;AAAA,OAC3H;AAAA,KAEL,CAEA,cAAe,CAEb,KAAK,kBAAkB,EACpB,KAAKC,GAAe,CAEfA,GAAe,CAACA,EAAY,WAAW,oBAAsBA,EAAY,WAAW,gBAAgB,GAAK,IAC3G,KAAK,UAAYA,EAAY,SAEjC,CAAC,EACA,MAAMC,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACxC,CAEA,YAAYC,EAAG,CAEb,OAAAA,EAAE,eAAe,EAEjB,KAAK,mBAAmB,KAAK,SAAS,EAC/B,EACT,CACF,EC3EA,eAAe,OAAO,sCAAuCC,CAA+B,ECF5F,OAAO,IAAI,QAAU,OAAO,IAAI,SAAW,CAAC,EAC5C,OAAO,IAAI,QAAQ,MAAQ,OAAO,IAAI,QAAQ,OAAS,CAErD,SAAU,KACV,UAAW,QAAU,OAAO,IAAM,OAAO,IAAM,OAE/C,aAAaC,EAAMC,EAAQ,CAEzB,IAAMC,EAAU,OAAO,IAAI,QAE3B,GAAI,KAAK,SACP,OAGF,IAAMC,EAAM,SAAS,cAAc,UAAU,EAE7CA,EAAI,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4FAMwEH,EAAK,YAAY;AAAA;AAAA;AAAA,+CAG9DC,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA,MAOjD,SAAS,KAAK,QAAQE,EAAI,OAAO,EAEjC,KAAK,SAAW,KAAK,UAAU,SAAS,eAAe,gBAAgB,CACzE,EAEA,eAAgB,CAEd,IAAMC,EAAK,KAAK,UAAU,SAAS,cAAc,sBAAsB,EAEvEA,EAAG,YAAY,EAEfA,EAAG,gBAAgB,WAAW,EAC9BA,EAAG,gBAAgB,SAAS,EAC5BA,EAAG,gBAAgB,SAAS,EAC5BA,EAAG,gBAAgB,WAAW,EAC9BA,EAAG,gBAAgB,mBAAmB,EACtCA,EAAG,gBAAgB,YAAY,EAC/BA,EAAG,gBAAgB,yBAAyB,EAC5CA,EAAG,gBAAgB,cAAc,CACnC,EAEA,WAAWC,EAAIC,EAAYC,EAAkB,CAE3C,IAAML,EAAU,KAAK,UAAU,QAEzBE,EAAK,KAAK,UAAU,SAAS,cAAc,sBAAsB,EAElEE,GAUHF,EAAG,gBAAgB,WAAW,EAC1BE,EAAW,eAAe,EAC5BF,EAAG,aAAa,gBAAiB,EAAE,EAEnCA,EAAG,gBAAgB,eAAe,EAEpCA,EAAG,aAAa,UAAWE,EAAW,SAAS,CAAC,EAChDF,EAAG,aAAa,YAAaE,EAAW,WAAW,CAAC,EACpDF,EAAG,aAAa,oBAAqBE,EAAW,mBAAmB,CAAC,EACpEF,EAAG,aAAa,aAAcE,EAAW,UAAU,EACnDF,EAAG,aAAa,0BAA2BE,EAAW,yBAAyB,CAAC,EAChFF,EAAG,aAAa,eAAgBE,EAAW,cAAc,CAAC,IApB1DF,EAAG,aAAa,YAAaC,CAAE,EAC/BD,EAAG,aAAa,UAAW,EAAE,EAC7BA,EAAG,gBAAgB,SAAS,EAC5BA,EAAG,gBAAgB,WAAW,EAC9BA,EAAG,gBAAgB,mBAAmB,EACtCA,EAAG,gBAAgB,YAAY,EAC/BA,EAAG,gBAAgB,yBAAyB,EAC5CA,EAAG,gBAAgB,cAAc,GAgBnC,UAAU,MAAM,oBAAoB,KAAK,QAAQ,EAAE,KAAK,EAExD,KAAK,SAAS,iBAAiB,kBAAmB,IAAM,KAAK,cAAc,CAAC,CAC9E,CACF,ECvFA,OAAO,sBAAwB",
  "names": ["SakaiRubricStudentButton", "rubricsApiMixin", "RubricsElement", "value", "r", "name", "oldValue", "newValue", "ke", "association", "error", "url", "data", "evaluation", "SakaiRubricStudentButton", "SakaiRubricCriterionPreview", "RubricsElement", "ke", "c", "ae", "D", "r", "SakaiRubricCriterionPreview", "SakaiRubricStudentComment", "RubricsElement", "value", "oldValue", "ke", "to", "ae", "SakaiRubricStudentComment", "SakaiRubricCriterionStudent", "RubricsElement", "newValue", "oldValue", "c", "el", "ke", "ae", "D", "Qt", "r", "outcome", "selectedRatingItem", "pointoverride", "selected", "a", "ovrdvl", "SakaiRubricCriterionStudent", "SakaiRubricStudent", "rubricsApiMixin", "RubricsElement", "name", "oldValue", "newValue", "el", "isInstructor", "ke", "D", "url", "r", "rubric", "error", "association", "rubricId", "rubricUrl", "evalUrl", "evaluation", "e", "SakaiRubricStudent", "SakaiRubricAssociation", "RubricsElement", "r", "value", "e", "url", "assoc", "error", "data", "rubric", "ke", "D", "showSelfReportMode", "SakaiRubricAssociation", "SakaiRubricStudentPreviewButton", "rubricsApiMixin", "RubricsElement", "value", "r", "name", "oldValue", "newValue", "ke", "association", "error", "e", "SakaiRubricStudentPreviewButton", "i18n", "siteId", "rubrics", "tpl", "el", "id", "attributes", "launchingElement"]
}
